import{r as c,u as m,a as w,b as N,o as L,j as e,D as S,B as u,F,R as P,L as R,c as A,d as x,e as E,_ as r,g as k}from"./index-jIjLoVB1.js";import{G as C,L as B}from"./GoogleLogin-ClAsZPYe.js";import{g}from"./services-KQnp_8oA.js";import{R as D}from"./RHFPasswordField-COT9IHMv.js";const G=A({email:x().required(),password:x().min(3)});function V(){const[h,l]=c.useState(!1),[d,p]=c.useState(""),f=m({}),j=m({}),{login:b}=w(),n=N({defaultValues:{email:"",password:""},resolver:L(G)}),y=async t=>{var i,o,a;try{const s=await f.mutateAsync({api:E.citizenLogin,data:t});(i=s==null?void 0:s.data)!=null&&i.success?(await b(s),r.success((o=s==null?void 0:s.data)==null?void 0:o.message)):r.error((a=s==null?void 0:s.data)==null?void 0:a.message)}catch(s){r.error(g(s.message))}},v=async()=>{var t,i,o;try{const a=await j.mutateAsync({api:k.forgetPassword,data:{email:d}});(t=a==null?void 0:a.data)!=null&&t.success?(l(!1),r.success((i=a==null?void 0:a.data)==null?void 0:i.message)):r.error((o=a==null?void 0:a.data)==null?void 0:o.message)}catch(a){r.error(g(a.message))}};return e.jsxs(e.Fragment,{children:[e.jsx(S,{open:h,setOpen:l,title:"Reset Your Password",children:e.jsx("div",{className:"p-4",children:e.jsxs("form",{onSubmit:t=>t.preventDefault(),children:[e.jsx("input",{value:d,onChange:t=>p(t.target.value),type:"text",placeholder:"Your email address",className:"input-field w-full border border-gray-300 rounded-md p-1.5"}),e.jsx("div",{children:e.jsx(u,{type:"button",onClick:v,className:"w-full rounded-xl py-5 px-4 mt-4 shadow-none",variant:"outline",children:"Send"})})]})})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-200 via-blue-300 to-blue-400 p-6 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-lg shadow-lg overflow-hidden flex flex-col lg:flex-row",children:[e.jsxs("div",{className:"flex-1 p-10",children:[e.jsx("h2",{className:"text-xl font-bold text-center text-gray-800 mb-6",children:"Login to the Grievance Redressal System"}),e.jsx(F,{methods:n,onSubmit:n.handleSubmit(y),children:e.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(P,{className:"rounded-lg py-5 px-5 w-full bg-gray-100 border border-gray-300",name:"email",inputValidation:["removeSpace"],placeholder:"Enter your User Name"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(D,{className:"rounded-lg py-5 px-5 w-full bg-gray-100 border border-gray-300",name:"password",placeholder:"Enter your Password"})}),e.jsx("div",{children:e.jsx(u,{type:"submit",isLoading:n.formState.isSubmitting,className:"w-full rounded-lg py-5 px-4 mt-2 bg-green-600 text-white font-medium hover:bg-green-700 transition duration-200",variant:"outline",children:"Login"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("hr",{className:"flex-1 border-gray-300"}),e.jsx("span",{className:"text-gray-500",children:"or"}),e.jsx("hr",{className:"flex-1 border-gray-300"})]}),e.jsx("div",{children:e.jsx(C,{})}),e.jsx("div",{children:e.jsx(R,{to:"https://epramaan.meripehchaan.gov.in/",children:e.jsx("div",{className:"flex cursor-pointer text-lg font-medium text-white bg-teal-600  py-1.5 justify-center hover:bg-teal-700 transition duration-200",children:"Sign in with ePramaan"})})}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{className:"text-sm text-blue-600 hover:underline ",type:"button",onClick:()=>l(!0),children:"Forgot password?"})})]})})]}),e.jsx("div",{className:"flex-1 bg-gradient-to-b from-gray-200 to-gray-300 flex justify-center items-center lg:block hidden",children:e.jsx(B,{})})]})})]})}export{V as default};
