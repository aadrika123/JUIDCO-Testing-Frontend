import{a as h,f as j,s as m,g as f,j as e,C as u,I as g}from"./index-jIjLoVB1.js";import{A as v,a as N,b as w,c as b}from"./accordion-BiXYMr2D.js";import{B as s}from"./badge-DbePeZAt.js";import{P as C}from"./index-CocYq-lJ.js";import"./index-D1elfBCi.js";import"./circle-check-big-CpVcy3rN.js";function y(){var i,r,t,d,o,x;const{user:c}=h(),n=j(),l=m({api:`${f.getCitizenComplaints}?page=1&limit=10&citizenId=${c==null?void 0:c._id}`,key:"getAllComplaint",options:{enabled:!0}});return e.jsxs("div",{className:"",children:[e.jsx("div",{className:"container px-6 mx-auto",children:e.jsxs("div",{className:"flex items-center justify-center lg:flex",children:[e.jsxs("div",{className:" w-full ",children:[e.jsxs(u,{className:"text-3xl font-bold opacity-60",children:["All Registered Complaints ( ",(t=(r=(i=l==null?void 0:l.data)==null?void 0:i.data)==null?void 0:r.docs)==null?void 0:t.length," )"]}),e.jsx("h1",{className:"mt-2 pr-20  text-xl font-semibold text-gray-800 dark:text-white lg:text-3xl mb-4",children:"You can Register and Re-Open complaint anytime."}),e.jsx("div",{defaultValue:"ONLINE",className:"w-[500px]"})]}),e.jsx("div",{className:"md:flex items-center justify-center w-full mt-6 lg:mt-0 lg:w-1/2 hidden sm:block",children:e.jsx(g,{width:251,height:263,className:"w-52",src:"/images/complaint.png",alt:"email illustration vector art"})})]})}),e.jsx(v,{type:"single",collapsible:!0,className:"w-full bg-white px-2",children:(x=(o=(d=l==null?void 0:l.data)==null?void 0:d.data)==null?void 0:o.docs)==null?void 0:x.map((a,p)=>e.jsxs(N,{value:`item-${p+1}`,children:[e.jsx(w,{children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{children:p+1}),e.jsx(g,{className:"w-6",src:"/images/profile.png"}),e.jsxs("div",{className:"text-lg",children:[" ",a.complaintTitle,(a==null?void 0:a.wf_status)===3&&e.jsx(s,{className:"ml-2 bg-amber-500",children:"Pending(re-opened)"}),(a==null?void 0:a.wf_status)===2&&e.jsx(s,{className:"ml-2",variant:"destructive",children:"Rejected"}),(a==null?void 0:a.wf_status)===1&&e.jsx(s,{className:"ml-2",variant:"success",children:"Resolved"}),(a==null?void 0:a.wf_status)===0&&e.jsx(s,{className:"ml-2",variant:"secondary",children:"Pending"})]})]})}),e.jsxs(b,{className:"pl-10 flex",children:[e.jsxs("div",{className:"flex-1 ml-8",children:[" ",a.complaintDescription]}),e.jsx("div",{className:"flex-1 flex justify-end",children:e.jsxs("div",{children:[e.jsx(s,{className:"ml-4 cursor-pointer",variant:"secondary",onClick:()=>{n(`/grievance/citizen-dashboard/citizen-review?complaintId=${a==null?void 0:a._id}`)},children:"Give Your Feedback"}),e.jsx(s,{className:"ml-4 cursor-pointer",onClick:()=>{n(`/grievance/citizen-dashboard/citizen-complaint-details?complaintRefNo=${a==null?void 0:a.complaintRefNo}`)},children:"View Details"})]})})]})]},a==null?void 0:a.id))})]})}function _(){return e.jsx(C,{title:"",children:e.jsx(y,{})})}export{_ as default};
