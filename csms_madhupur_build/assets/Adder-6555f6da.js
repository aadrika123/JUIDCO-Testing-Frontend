import{r as o,c as ht,a as J,Z as qe,a0 as _t,a2 as ft,E as jt,a8 as rt,b as he,j as e,B as ue,_ as xe,A as B,e as $,K as ce,g as oe,S as re,$ as $e,n as K,am as Te,an as Ue,o as Me,Q as te,X as Oe,u as bt,O as gt}from"./index-21aade66.js";import{A as Pe}from"./ApiHeader2-f80ad0bc.js";import{I as yt}from"./image 11-1e3701ae.js";import{I as ut,a as pt}from"./image 20-a4749979.js";import{I as ot}from"./image 21-2f26a8c7.js";import{N as ze}from"./nodata-040bca7f.js";import{I as Nt}from"./image 23-6e7b7d0e.js";import{B as vt}from"./BottomErrorCard-c4e8289a.js";function wt(t){var s,u,c,b,p,g,V,ne,G,me,_e,fe,je,be,ge,ye,pe,Ne,ve,we,Ce,Fe,Ee,Se,ke,De,Ve,Ie,Be,Ae;const z={salutation:((s=t==null?void 0:t.editValue)==null?void 0:s.salutation_name)||"",first_name:((u=t==null?void 0:t.editValue)==null?void 0:u.first_name)||"",middle_name:((c=t==null?void 0:t.editValue)==null?void 0:c.middle_name)||"",last_name:((b=t==null?void 0:t.editValue)==null?void 0:b.last_name)||"",gender:((p=t==null?void 0:t.editValue)==null?void 0:p.gender_name)||"",category:((g=t==null?void 0:t.editValue)==null?void 0:g.category_name)||"",dob:((V=t==null?void 0:t.editValue)==null?void 0:V.dob)||"",doj:((ne=t==null?void 0:t.editValue)==null?void 0:ne.doj)||"",mobile:((G=t==null?void 0:t.editValue)==null?void 0:G.mobile)||"",email:((me=t==null?void 0:t.editValue)==null?void 0:me.email)||"",blood_group:((_e=t==null?void 0:t.editValue)==null?void 0:_e.blood_group_name)||"",department_id:((fe=t==null?void 0:t.editValue)==null?void 0:fe.department_id)||"",department_name:((je=t==null?void 0:t.editValue)==null?void 0:je.department_name)||"",employee_type_id:((be=t==null?void 0:t.editValue)==null?void 0:be.employee_type_id)||"",employee_type_name:((ge=t==null?void 0:t.editValue)==null?void 0:ge.emp_type_name)||"",marital_status:((ye=t==null?void 0:t.editValue)==null?void 0:ye.marital_status_name)||"",teaching_title_id:((pe=t==null?void 0:t.editValue)==null?void 0:pe.teaching_title_id)||"",teaching_title_name:((Ne=t==null?void 0:t.editValue)==null?void 0:Ne.teaching_title_name)||"",upload_image:"",aadhar_no:((ve=t==null?void 0:t.editValue)==null?void 0:ve.aadhar_no)||"",disability:((we=t==null?void 0:t.editValue)==null?void 0:we.disability)||""};o.useState(),o.useState(),o.useState(),o.useState(),o.useState();const[N,Y]=o.useState(),[v,q]=o.useState(),[U,y]=o.useState(),[Q,S]=o.useState(!1),[F,ae]=o.useState(),[ee,f]=o.useState(!1),[se,A]=o.useState(null),{api_getcategorybynameData:L,api_getActivedepartmentData:m,api_get_active_employmenttypeData:T,api_get_active_teachingtitleData:X,api_editEmployeeData:le}=oe(),M=()=>{S(!0),B.post(L,{},$()).then(function(a){a!=null&&a.data?ae(a==null?void 0:a.data):n(!0,"Error occured while fetching data."),S(!1)}).catch(function(a){n(!0,"Error occured while fetching data."),S(!1)})},W=()=>{S(!0),B.post(m,{},$()).then(function(a){var j,R;(j=a==null?void 0:a.data)!=null&&j.status?Y((R=a==null?void 0:a.data)==null?void 0:R.data):n(!0,"Error occured while fetching data."),S(!1)}).catch(function(a){n(!0,"Error occured while fetching data."),S(!1)})},I=()=>{S(!0),B.post(T,{},$()).then(function(a){var j,R;(j=a==null?void 0:a.data)!=null&&j.status?q((R=a==null?void 0:a.data)==null?void 0:R.data):n(!0,"Error occured while fetching data."),S(!1)}).catch(function(a){n(!0,"Error occured while fetching data."),S(!1)})},k=()=>{S(!0),B.post(X,{},$()).then(function(a){var j,R;(j=a==null?void 0:a.data)!=null&&j.status?y((R=a==null?void 0:a.data)==null?void 0:R.data):n(!0,"Error occured while fetching data."),S(!1)}).catch(function(a){n(!0,"Error occured while fetching data."),S(!1)})};o.useEffect(()=>{M(),W(),I(),k()},[]);const Z=ht({salutation:J().required("Select salutation"),first_name:J().required("Enter first name").matches(qe,"Enter first name in alphabets (A-Z / a-z) "),middle_name:J().matches(qe,"Enter middle name in alphabets (A-Z / a-z)"),last_name:J().required("Enter last name").matches(qe,"Enter last name in alphabets (A-Z / a-z)"),gender:J().required("Select gender"),category:J().required("Select category"),mobile:J().required("Enter mobile number").matches(_t,"Enter valid mobile no."),aadhar_no:J().required("Aadhar Number is required").matches(ft,"Enter valid Aadhar no."),email:J().matches(jt,"Email is inValid"),dob:J().required("Select dob").test("dob","Date of birth is not valid. Age should be greater than 18 years",a=>rt().diff(rt(a),"years")>=18),doj:J().required("Select doj"),blood_group:J().required("Select blood group"),department_id:J().required("Select department"),employee_type_id:J().required("Select blood group"),marital_status:J().required("Select marital status"),teaching_title_id:J().required("Select teaching title"),disability:J().required("Select special ability")}),d=he({initialValues:z,enableReinitialize:!0,onSubmit:a=>{var R,P;const j=new FormData;j.append("id",(R=t==null?void 0:t.editValue)==null?void 0:R.id),j.append("empNo",(P=t==null?void 0:t.editValue)==null?void 0:P.emp_no),j.append("salutation",a==null?void 0:a.salutation),j.append("firstName",a==null?void 0:a.first_name),j.append("middleName",a==null?void 0:a.middle_name),j.append("lastName",a==null?void 0:a.last_name),j.append("gender",a==null?void 0:a.gender),j.append("category",a==null?void 0:a.category),j.append("dob",a==null?void 0:a.dob),j.append("doj",a==null?void 0:a.doj),j.append("mobile",a==null?void 0:a.mobile),j.append("email",a==null?void 0:a.email),j.append("bloodGroup",a==null?void 0:a.blood_group),j.append("department",a==null?void 0:a.department_id),j.append("employeeType",a==null?void 0:a.employee_type_id),j.append("maritalStatus",a==null?void 0:a.marital_status),j.append("teachingTitle",a==null?void 0:a.teaching_title_id),j.append("uploadImage",a==null?void 0:a.upload_image),j.append("aadharNo",a==null?void 0:a.aadhar_no),j.append("disability",a==null?void 0:a.disability),re.fire({icon:"warning",title:"Are you sure?",text:"You want to update the information!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(ie=>{ie.value&&C(j)})},validationSchema:Z}),C=a=>{S(!0);let j,R;j=le,R=a,B.post(j,R,Pe()).then(function(P){var ie;((ie=P==null?void 0:P.data)==null?void 0:ie.status)===!0?(re.fire({icon:"success",title:"Updated",text:"Information Updated Successfully.",showConfirmButton:!1,timer:1500}),t==null||t.getemployeebyidUser(t==null?void 0:t.id)):n(!0,"Error occured in submitting form."),S(!1)}).catch(function(P){n(!0,"Error occured in submitting form."),S(!1)})},H=a=>{let j=a.target.name,R=a.target.value;if(j=="mobile"){let P=a.target.value;w(P)}if(j=="aadhar_no"){let P=a.target.value;r(P)}if(j=="department_id"){let P=a.target.selectedOptions[0].text,ie=a.target.selectedOptions[0].value;i(P,ie);return}if(j=="employee_type_id"){let P=a.target.selectedOptions[0].text,ie=a.target.selectedOptions[0].value;D(P,ie);return}if(j=="teaching_title_id"){let P=a.target.selectedOptions[0].text,ie=a.target.selectedOptions[0].value;_(P,ie);return}j=="middle_name"&&d.setFieldValue("middle_name",ce(R,d.values.middle_name,30))},r=a=>{a>12&&d.setFieldValue("aadhar_no",a.slice(0,12))},w=a=>{a.length>10&&d.setFieldValue("mobile",a.slice(0,10))},_=(a,j)=>{d.setFieldValue("teaching_title_name",a),d.setFieldValue("teaching_title_id",j)},D=(a,j)=>{d.setFieldValue("employee_type_name",a),d.setFieldValue("employee_type_id",j)},i=(a,j)=>{d.setFieldValue("department_name",a),d.setFieldValue("department_id",j)},n=(a,j)=>{A(j),f(a)};return e.jsxs(e.Fragment,{children:[Q&&e.jsx(ue,{}),e.jsx("div",{className:"h-[70vh] w-[90%] bg-white overflow-auto   border border-slate-300 rounded-[15px] max-[600px]:w-[95%]  max-[600px]:pb-[7vh] max-[320px]:pb-[10vh]",children:e.jsxs("form",{className:" ml-[1vh]   overflow-auto bg-white  ",onSubmit:d.handleSubmit,onChange:H,encType:"multipart/form-data",children:[e.jsxs("div",{className:"mb-[1vh]  ",children:[e.jsx("h1",{style:{zIndex:100},className:" flex items-start justify-start pt-2 my-1 font-bold text-[2.5vh]  text-[#6b7280] pl-[52px]  bg-white w-full ",children:e.jsxs("div",{className:"flex w-full max-[833px]:block",children:[e.jsxs("div",{className:"flex justify-start items-center w-full",children:[e.jsx("img",{src:yt,alt:"Basic",className:"mr-5 w-10 h-10 opacity-80"})," ",e.jsx("span",{className:"flex items-center justify-center mt-2 text-[22px]",children:"Basic Details"})]}),e.jsx("div",{className:"text-[20px] flex items-center justify-end mt-2 w-full mr-4",children:e.jsxs("span",{className:"bg-yellow-300 p-2",children:["Employee No:",(Ce=t==null?void 0:t.editValue)==null?void 0:Ce.emp_no]})})]})}),e.jsx("hr",{className:"mx-[40px]"}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"exampleSatulations",className:"label",children:["Select Salutation ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("br",{}),e.jsxs("select",{type:"select",name:"salutation",className:"input",onChange:d.handleChange,value:d.values.salutation,children:[e.jsx("option",{value:"",children:"Select"}),(Fe=F==null?void 0:F.salutation)==null?void 0:Fe.map(a=>e.jsx("option",{selected:(a==null?void 0:a.subCatName)==d.values.salutation,value:a==null?void 0:a.subCatName,children:a==null?void 0:a.subCatName}))]}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.salutation&&d.errors.salutation?d.errors.salutation:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"exampleEmail",className:"label",children:["First Name ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("br",{}),e.jsx("input",{name:"first_name",className:"input",type:"text",onChange:d.handleChange,value:d.values.first_name}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.first_name&&d.errors.first_name?d.errors.first_name:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleMiddlename",className:" label2",children:"Middle Name"}),e.jsx("input",{name:"middle_name",className:"input",type:"text",onChange:d.handleChange,value:d.values.middle_name}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.middle_name&&d.errors.middle_name?d.errors.middle_name:null})]})})]}),e.jsxs("div",{className:"w-[95%] mb-[2vh] flex my-[10px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"exampleEmail",className:" label",children:["Last Name ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("br",{}),e.jsx("input",{name:"last_name",className:"input",type:"text",onChange:d.handleChange,value:d.values.last_name}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.last_name&&d.errors.last_name?d.errors.last_name:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"examplePassword",className:"label2",children:["Mobile number ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{name:"mobile",className:"input",type:"number",maxLength:10,onChange:d.handleChange,value:d.values.mobile,onKeyDown:a=>["e","E","+","-"].includes(a.key)&&a.preventDefault()}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.mobile&&d.errors.mobile?d.errors.mobile:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Email Id"}),e.jsx("br",{}),e.jsx("input",{name:"email",className:"input",type:"email",onChange:d.handleChange,value:d.values.email}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.email&&d.errors.email?d.errors.email:null})]})})]}),e.jsxs("div",{className:"w-[95%] mb-[2.5vh] flex my-[10px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px] px-[10px] ",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"exampleGender",className:"label",children:["Gender ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("br",{}),e.jsxs("select",{name:"gender",className:"input",onChange:d.handleChange,value:d.values.gender,children:[e.jsx("option",{value:"",children:"Select"}),(Ee=F==null?void 0:F.gender)==null?void 0:Ee.map(a=>e.jsx("option",{selected:(a==null?void 0:a.subCatName)===d.values.gender,value:a==null?void 0:a.subCatName,children:a==null?void 0:a.subCatName}))]}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.gender&&d.errors.gender?d.errors.gender:null})]})}),e.jsx("div",{className:"w-full mx-[10px] px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"exampleCategory",className:"label",children:["Category ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("br",{}),e.jsxs("select",{name:"category",className:"input",onChange:d.handleChange,value:d.values.category,children:[e.jsx("option",{value:"",children:"Select"}),(Se=F==null?void 0:F.category)==null?void 0:Se.map(a=>e.jsx("option",{selected:(a==null?void 0:a.subCatName)===d.values.category,value:a==null?void 0:a.subCatName,children:a==null?void 0:a.subCatName}))]}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.category&&d.errors.category?d.errors.category:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"examplePassword",className:"label2",children:["Date of Birth ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"date",className:"input",name:"dob",onChange:d.handleChange,value:d.values.dob}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.dob&&d.errors.dob?d.errors.dob:null})]})})]}),e.jsxs("div",{className:"w-[95%] mb-[2.5vh] flex my-[10px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"examplePassword",className:"label2",children:["Date of Joining ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"date",className:"input",name:"doj",max:new Date().toISOString().split("T")[0],onChange:d.handleChange,value:d.values.doj}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.doj&&d.errors.doj?d.errors.doj:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"exampleCategory",className:"label",children:["Blood Group ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("br",{}),e.jsxs("select",{name:"blood_group",className:"input",onChange:d.handleChange,value:d.values.blood_group,children:[e.jsx("option",{value:"",children:"Select"}),(ke=F==null?void 0:F.blood_group)==null?void 0:ke.map(a=>e.jsx("option",{selected:(a==null?void 0:a.subCatName)===d.values.blood_group,value:a==null?void 0:a.subCatName,children:a==null?void 0:a.subCatName}))]}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.blood_group&&d.errors.blood_group?d.errors.blood_group:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"exampleCategory",className:"label",children:["Department ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("br",{}),e.jsxs("select",{name:"department_id",className:"input",onChange:d.handleChange,value:d.values.department_id,children:[e.jsx("option",{value:"",children:"Select"}),N==null?void 0:N.map(a=>e.jsx("option",{selected:(a==null?void 0:a.id)===d.values.department_id,value:a==null?void 0:a.id,children:a==null?void 0:a.department_name}))]}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.department_id&&d.errors.department_id?d.errors.department_id:null})]})})]}),e.jsxs("div",{className:"w-[95%] mb-[2.5vh] flex my-[10px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start ",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"exampleCategory",className:"label",children:["Employement Type ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("br",{}),e.jsxs("select",{name:"employee_type_id",className:"input",onChange:d.handleChange,value:d.values.employee_type_id,children:[e.jsx("option",{value:"",children:"Select"}),v==null?void 0:v.map(a=>e.jsx("option",{selected:(a==null?void 0:a.id)===d.values.employee_type_id,value:a==null?void 0:a.id,children:a==null?void 0:a.emp_type_name}))]}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.employee_type_id&&d.errors.employee_type_id?d.errors.employee_type_id:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"exampleCategory",className:"label",children:["Martial Status ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("br",{}),e.jsxs("select",{name:"marital_status",className:"input",type:"select",onChange:d.handleChange,value:d.values.marital_status,children:[e.jsx("option",{children:"Select"}),(De=F==null?void 0:F.marital_status)==null?void 0:De.map(a=>e.jsx("option",{selected:(a==null?void 0:a.subCatName)===d.values.marital_status,value:a==null?void 0:a.subCatName,children:a==null?void 0:a.subCatName}))]}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.marital_status&&d.errors.marital_status?d.errors.marital_status:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"exampleCategory",className:"label",children:["Teaching Title ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("br",{}),e.jsxs("select",{name:"teaching_title_id",className:"input",type:"select",onChange:d.handleChange,value:d.values.teaching_title_id,children:[e.jsx("option",{value:"",children:"Select"}),U==null?void 0:U.map(a=>e.jsx("option",{selected:(a==null?void 0:a.id)===d.values.teaching_title_id,value:a==null?void 0:a.id,children:a==null?void 0:a.teaching_title_name}))]}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.teaching_title_id&&d.errors.teaching_title_id?d.errors.teaching_title_id:null})]})})]}),e.jsxs("div",{className:"w-[95%] mb-[2.5vh] flex my-[10px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"exampleEmail",className:"label",children:["Aadhaar Number",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("br",{}),e.jsx("input",{name:"aadhar_no",className:"input",type:"number",maxLength:12,onChange:d.handleChange,value:d.values.aadhar_no,onKeyDown:a=>["e","E","+","-"].includes(a.key)&&a.preventDefault()}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.aadhar_no&&d.errors.aadhar_no?d.errors.aadhar_no:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"exampleCategory",className:"label",children:["Special Ability ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("br",{}),e.jsxs("select",{name:"disability",className:"input",type:"select",onChange:d.handleChange,value:d.values.disability,children:[e.jsx("option",{children:"Select"}),(Ve=F==null?void 0:F.disability)==null?void 0:Ve.map(a=>e.jsx("option",{selected:(a==null?void 0:a.subCatName)===d.values.disability,value:a==null?void 0:a.subCatName,children:a==null?void 0:a.subCatName}))]}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:d.touched.disability&&d.errors.disability?d.errors.disability:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px] mr-[20px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleCategory",className:"flex items-start justify-start ml-[43px] mb-[-15px]  text-[1.9vh] text-[#696969]",children:"Upload Image"}),e.jsx("br",{}),e.jsxs("div",{className:"flex px-10",children:[((Ie=t==null?void 0:t.editValue)==null?void 0:Ie.upload_image)!==""?e.jsx("img",{src:`${xe}/${(Be=t==null?void 0:t.editValue)==null?void 0:Be.upload_image}`,className:"h-10 w-10 "}):null,e.jsxs("div",{className:"block justify-start",children:[e.jsx("label",{htmlFor:"upload_image",className:"form-control ml-[36px] mt-[-10px] rounded-[10px] h-10 block w-full border border-gray-200 px-3 py-2 2xl:py-1.5  2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:"Choose File"}),e.jsx("input",{name:"upload_image",type:"file",id:"upload_image",accept:".jpg,.jpeg,.png",className:"sr-only input2",onChange:a=>{d.setFieldValue("upload_image",a.target.files[0])}}),d.values.upload_image?(Ae=d.values.upload_image)==null?void 0:Ae.name:"No file selected"]})]})]})})]})]}),e.jsx("div",{className:"flex items-end justify-end pb-[20px] mr-[30px]",children:e.jsx("button",{type:"submit",className:"next-btn",children:"UPDATE"})})]})})]})}function Ct(t){var fe,je,be,ge,ye,pe,Ne,ve,we,Ce,Fe,Ee,Se,ke,De,Ve,Ie,Be,Ae,a,j,R,P,ie,Ge,Re,Ke,Ye,He,Qe,Xe,Ze,Je,We,et,tt,lt,at,it,st,nt,ct,mt,dt,xt;console.log("kota",t);const z={fathers_name:(fe=t==null?void 0:t.editValue)==null?void 0:fe.fathers_name,mothers_name:(je=t==null?void 0:t.editValue)==null?void 0:je.mothers_name,fathers_qualification:(be=t==null?void 0:t.editValue)==null?void 0:be.fathers_qualification_name,mothers_qualification:(ge=t==null?void 0:t.editValue)==null?void 0:ge.mothers_qualification_name,fathers_occupation:(ye=t==null?void 0:t.editValue)==null?void 0:ye.fathers_occupation_name,mothers_occupation:(pe=t==null?void 0:t.editValue)==null?void 0:pe.mothers_occupation_name,p_address1:(Ne=t==null?void 0:t.editValue)==null?void 0:Ne.p_address1,check:!1,p_address2:(ve=t==null?void 0:t.editValue)==null?void 0:ve.p_address2,c_address1:(we=t==null?void 0:t.editValue)==null?void 0:we.c_address1,c_address2:(Ce=t==null?void 0:t.editValue)==null?void 0:Ce.c_address2,p_locality:(Fe=t==null?void 0:t.editValue)==null?void 0:Fe.p_locality,c_locality:(Ee=t==null?void 0:t.editValue)==null?void 0:Ee.c_locality,p_landmark:(Se=t==null?void 0:t.editValue)==null?void 0:Se.p_landmark,c_landmark:(ke=t==null?void 0:t.editValue)==null?void 0:ke.c_landmark,p_district_id:(De=t==null?void 0:t.editValue)==null?void 0:De.p_district_id,p_district_name:(Ve=t==null?void 0:t.editValue)==null?void 0:Ve.p_district_name,c_district_id:(Ie=t==null?void 0:t.editValue)==null?void 0:Ie.c_district_id,c_district_name:(Be=t==null?void 0:t.editValue)==null?void 0:Be.c_district_name,p_state_id:(Ae=t==null?void 0:t.editValue)==null?void 0:Ae.p_state_id,p_state_name:(a=t==null?void 0:t.editValue)==null?void 0:a.p_state_name,c_state_id:(j=t==null?void 0:t.editValue)==null?void 0:j.c_state_id,c_state_name:(R=t==null?void 0:t.editValue)==null?void 0:R.c_state_name,p_country_id:(P=t==null?void 0:t.editValue)==null?void 0:P.p_country_id,p_country_name:(ie=t==null?void 0:t.editValue)==null?void 0:ie.p_country_name,c_country_id:(Ge=t==null?void 0:t.editValue)==null?void 0:Ge.c_country_id,c_country_name:(Re=t==null?void 0:t.editValue)==null?void 0:Re.c_country_name,p_pincode:(Ke=t==null?void 0:t.editValue)==null?void 0:Ke.p_pincode,c_pincode:(Ye=t==null?void 0:t.editValue)==null?void 0:Ye.c_pincode},[N,Y]=o.useState(),[v,q]=o.useState(),[U,y]=o.useState(),[Q,S]=o.useState(),[F,ae]=o.useState(),[ee,f]=o.useState();o.useState(),o.useState(),o.useState();const[se,A]=o.useState(!1),[L,m]=o.useState(),[T,X]=o.useState(!1),[le,M]=o.useState(null),{api_getcategorybynameData:W,api_getactiveCountryData:I,api_getStateDataActiveall:k,api_getDistrictDataActiveAll:Z,api_editEmployeeAddressData:d}=oe(),C=()=>{A(!0),B.post(W,{},$()).then(function(l){var x;console.log("Category By Name..",(x=l==null?void 0:l.data)==null?void 0:x.data),l!=null&&l.data?m(l==null?void 0:l.data):G(!0,"Error occured while fetching data."),A(!1)}).catch(function(l){console.log("==2 error list...",l),G(!0,"Error occured while fetching data."),A(!1)})},H=l=>{A(!0),B.post(I,{},$()).then(function(x){var h,E,O;console.log("Country Data..",(h=x==null?void 0:x.data)==null?void 0:h.data),(E=x==null?void 0:x.data)!=null&&E.status?l((O=x==null?void 0:x.data)==null?void 0:O.data):G(!0,"Error occured while fetching data."),A(!1)}).catch(function(x){console.log("==2 error list...",x),G(!0,"Error occured while fetching data."),A(!1)})},r=(l,x)=>{A(!0),B.post(k,{},$()).then(function(h){var E,O,de;console.log("State Data..",(E=h==null?void 0:h.data)==null?void 0:E.data),(O=h==null?void 0:h.data)!=null&&O.status?l((de=h==null?void 0:h.data)==null?void 0:de.data.filter(Le=>Le.country_id==x)):G(!0,"Error occured while fetching data."),A(!1)}).catch(function(h){console.log("==2 error list...",h),G(!0,"Error occured while fetching data."),A(!1)})},w=(l,x)=>{A(!0),B.post(Z,{},$()).then(function(h){var E,O,de;console.log("District Data..",(E=h==null?void 0:h.data)==null?void 0:E.data),(O=h==null?void 0:h.data)!=null&&O.status?l((de=h==null?void 0:h.data)==null?void 0:de.data.filter(Le=>Le.state_id==x)):G(!0,"Error occured while fetching data."),A(!1)}).catch(function(h){console.log("==2 error list...",h),G(!0,"Error occured while fetching data."),A(!1)})};o.useEffect(()=>{H(Y),H(S),C()},[]);const _=l=>{var E,O;let x;i.values.check?x={fathers_name:l.fathers_name,mothers_name:l.mothers_name,fathers_qualification:l.fathers_qualification,mothers_qualification:l.mothers_qualification,fathers_occupation:l.fathers_occupation,mothers_occupation:l.mothers_occupation,p_address1:l.p_address1,check:l.check,p_address2:l.p_address2,c_address1:l.p_address1,c_address2:l.p_address2,p_locality:l.p_locality,c_locality:l.p_locality,p_landmark:l.p_landmark,c_landmark:l.p_landmark,p_district_id:l.p_district_id,p_district_name:l.p_district_name,c_district_id:l.p_district_id,c_district_name:l.p_district_name,p_state_id:l.p_state_id,p_state_name:l.p_state_name,c_state_id:l.p_state_id,c_state_name:l.p_state_name,p_country_id:l.p_country_id,p_country_name:l.p_country_name,c_country_id:l.p_country_id,c_country_name:l.p_country_name,p_pincode:l.p_pincode,c_pincode:l.p_pincode}:x={fathers_name:l.fathers_name,mothers_name:l.mothers_name,fathers_qualification:l.fathers_qualification,mothers_qualification:l.mothers_qualification,fathers_occupation:l.fathers_occupation,mothers_occupation:l.mothers_occupation,p_address1:l.p_address1,check:l.check,p_address2:l.p_address2,c_address1:l.c_address1,c_address2:l.c_address2,p_locality:l.p_locality,c_locality:l.c_locality,p_landmark:l.p_landmark,c_landmark:l.c_landmark,p_district_id:l.p_district_id,p_district_name:l.p_district_name,c_district_id:l.c_district_id,c_district_name:l.c_district_name,p_state_id:l.p_state_id,p_state_name:l.p_state_name,c_state_id:l.c_state_id,c_state_name:l.c_state_name,p_country_id:l.p_country_id,p_country_name:l.p_country_name,c_country_id:l.c_country_id,c_country_name:l.c_country_name,p_pincode:l.p_pincode,c_pincode:l.c_pincode},console.log(x);const h=new FormData;h.append("id",(E=t==null?void 0:t.editValue)==null?void 0:E.id),h.append("empNo",(O=t==null?void 0:t.editValue)==null?void 0:O.emp_no),h.append("pAddress1",x==null?void 0:x.p_address1),h.append("pAddress2",x==null?void 0:x.p_address2),h.append("cAddress1",x==null?void 0:x.c_address1),h.append("cAddress2",x==null?void 0:x.c_address2),h.append("pLocality",x==null?void 0:x.p_locality),h.append("cLocality",x==null?void 0:x.c_locality),h.append("pLandmark",x==null?void 0:x.p_landmark),h.append("cLandmark",x==null?void 0:x.c_landmark),h.append("pDistrict",x==null?void 0:x.p_district_id),h.append("cDistrict",x==null?void 0:x.c_district_id),h.append("pState",x==null?void 0:x.p_state_id),h.append("cState",x==null?void 0:x.c_state_id),h.append("pCountry",x==null?void 0:x.p_country_id),h.append("cCountry",x==null?void 0:x.c_country_id),h.append("pPincode",x==null?void 0:x.p_pincode),h.append("cPincode",x==null?void 0:x.c_pincode),h.append("fathersName",x==null?void 0:x.fathers_name),h.append("mothersName",x==null?void 0:x.mothers_name),h.append("fathersQualification",x==null?void 0:x.fathers_qualification),h.append("mothersQualification",x==null?void 0:x.mothers_qualification),h.append("fathersOccupation",x==null?void 0:x.fathers_occupation),h.append("mothersOccupation",x==null?void 0:x.mothers_occupation),re.fire({icon:"warning",title:"Are you sure?",text:"You want to update the information!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(de=>{de.value&&D(h)})},D=l=>{A(!0);let x,h;x=d,h=l,B.post(x,h,Pe()).then(function(E){var O;((O=E==null?void 0:E.data)==null?void 0:O.status)===!0?(re.fire({icon:"success",title:"Updated",text:"Information Updated Successfully.",showConfirmButton:!1,timer:1500}),t==null||t.getemployeebyidUser(t==null?void 0:t.id)):G(!0,"Error occured in submitting form."),A(!1)}).catch(function(E){G(!0,"Error occured in submitting form."),A(!1)})},i=he({initialValues:z,enableReinitialize:!0,onSubmit:l=>{_(l)}}),n=l=>{let x=l.target.name,h=l.target.value;if(x=="p_district_id"){let E=l.target.selectedOptions[0].text,O=l.target.selectedOptions[0].value;V(E,O);return}if(x=="c_district_id"){let E=l.target.selectedOptions[0].text,O=l.target.selectedOptions[0].value;ne(E,O);return}if(x=="p_state_id"){let E=l.target.selectedOptions[0].text,O=l.target.selectedOptions[0].value;p(E,O);return}if(x=="c_state_id"){let E=l.target.selectedOptions[0].text,O=l.target.selectedOptions[0].value;g(E,O);return}if(x=="p_country_id"){let E=l.target.selectedOptions[0].text,O=l.target.selectedOptions[0].value;c(E,O);return}if(x=="c_country_id"){let E=l.target.selectedOptions[0].text,O=l.target.selectedOptions[0].value;b(E,O);return}if(x=="p_pincode"){let E=l.target.value;s(E)}if(x=="c_pincode"){let E=l.target.value;u(E)}x=="fathers_name"&&i.setFieldValue("fathers_name",ce(h,i.values.fathers_name,30)),x=="mothers_name"&&i.setFieldValue("mothers_name",ce(h,i.values.mothers_name,30))},s=l=>{l>6&&i.setFieldValue("p_pincode",l.slice(0,6))},u=l=>{l>6&&i.setFieldValue("c_pincode",l.slice(0,6))},c=(l,x)=>{i.setFieldValue("p_country_name",l),i.setFieldValue("p_country_id",x)},b=(l,x)=>{i.setFieldValue("c_country_name",l),i.setFieldValue("c_country_id",x)},p=(l,x)=>{i.setFieldValue("p_state_name",l),i.setFieldValue("p_state_id",x)},g=(l,x)=>{i.setFieldValue("c_state_name",l),i.setFieldValue("c_state_id",x)},V=(l,x)=>{i.setFieldValue("p_district_name",l),i.setFieldValue("p_district_id",x)},ne=(l,x)=>{i.setFieldValue("c_district_name",l),i.setFieldValue("c_district_id",x)},G=(l,x)=>{M(x),X(l)};o.useEffect(()=>{i.values.p_country_id&&r(q,i.values.p_country_id),i.values.c_country_id&&r(ae,i.values.c_country_id),i.values.p_state_id&&w(y,i.values.p_state_id),i.values.c_state_id&&w(f,i.values.c_state_id)},[i.values.p_country_id,i.values.c_country_id,i.values.p_state_id,i.values.c_state_id]);const me=Object.keys(z).map(l=>l.split("p_").slice(1).join("")).filter(l=>l!=""),_e=()=>{switch(i.values.check){case!0:me.map(l=>{i.setFieldValue(`c_${l}`,i.values[`p_${l}`]),i.setFieldTouched(`c_${l}`,!1)});break;case!1:me.map(l=>{i.setFieldValue(`c_${l}`,""),i.setFieldTouched(`c_${l}`,!1)});break}};return o.useEffect(()=>{_e()},[(He=i==null?void 0:i.values)==null?void 0:He.check]),o.useEffect(()=>{i.values.check&&_e()},[(Qe=i==null?void 0:i.values)==null?void 0:Qe.p_address1,(Xe=i==null?void 0:i.values)==null?void 0:Xe.p_address2,(Ze=i==null?void 0:i.values)==null?void 0:Ze.p_locality,(Je=i==null?void 0:i.values)==null?void 0:Je.p_landmark,(We=i==null?void 0:i.values)==null?void 0:We.p_pincode,(et=i==null?void 0:i.values)==null?void 0:et.p_state_id,(tt=i==null?void 0:i.values)==null?void 0:tt.p_district_id,(lt=i==null?void 0:i.values)==null?void 0:lt.p_country_id,(at=i==null?void 0:i.values)==null?void 0:at.p_state_name,(it=i==null?void 0:i.values)==null?void 0:it.p_district_name,(st=i==null?void 0:i.values)==null?void 0:st.p_country_name]),e.jsxs(e.Fragment,{children:[" ",se&&e.jsx(ue,{}),e.jsx("div",{className:"h-[70vh] w-[90%] bg-white overflow-auto  border border-slate-300 rounded-[15px] max-[600px]:w-[95%]  max-[600px]:pb-[7vh] max-[320px]:pb-[10vh]",children:e.jsxs("form",{className:" ml-[1vh]   overflow-auto bg-white  ",onSubmit:i.handleSubmit,onChange:n,encType:"multipart/form-data",children:[e.jsxs("div",{className:"mb-[1vh]",children:[e.jsx("h1",{style:{zIndex:100},className:" flex items-start justify-start pt-2 my-1 font-bold text-[2.5vh]  text-[#6b7280] pl-[52px]  bg-white w-full ",children:e.jsxs("div",{className:"flex w-full max-[833px]:block",children:[e.jsxs("div",{className:"flex justify-start items-center w-full",children:[e.jsx("img",{src:ut,alt:"Basic",className:"mr-5 w-10 h-10 opacity-80"})," ",e.jsx("span",{className:"flex items-center justify-center mt-2 text-[22px]",children:"Parent Details"})]}),e.jsx("div",{className:"text-[20px] flex items-center justify-end mt-2 w-full mr-4",children:e.jsxs("span",{className:"bg-yellow-300 p-2",children:["Employee No:",(nt=t==null?void 0:t.editValue)==null?void 0:nt.emp_no]})})]})}),e.jsx("hr",{className:"mx-[40px]"}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Father's Name"}),e.jsx("br",{}),e.jsx("input",{name:"fathers_name",className:"input",type:"text",onChange:i.handleChange,value:i.values.fathers_name}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:i.touched.fathers_name&&i.errors.fathers_name?i.errors.fathers_name:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Mother's Name"}),e.jsx("br",{}),e.jsx("input",{name:"mothers_name",className:"input",type:"text",onChange:i.handleChange,value:i.values.mothers_name}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:i.touched.mothers_name&&i.errors.mothers_name?i.errors.mothers_name:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Father's Qualification"}),e.jsx("br",{}),e.jsxs("select",{name:"fathers_qualification",className:"input",onChange:i.handleChange,value:i.values.fathers_qualification,children:[e.jsx("option",{value:"",children:"Select"}),(ct=L==null?void 0:L.fathers_qualification)==null?void 0:ct.map(l=>(console.log(l),e.jsx("option",{selected:(l==null?void 0:l.subCatName)===i.values.fathers_qualification,value:l==null?void 0:l.subCatName,children:l==null?void 0:l.subCatName})))]})]})})]}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Mother's Qualification"}),e.jsx("br",{}),e.jsxs("select",{name:"mothers_qualification",className:"input",onChange:i.handleChange,value:i.values.mothers_qualification,children:[e.jsx("option",{value:"",children:"Select"}),(mt=L==null?void 0:L.mothers_qualification)==null?void 0:mt.map(l=>(console.log(l),e.jsx("option",{selected:(l==null?void 0:l.subCatName)===i.values.mothers_qualification,value:l==null?void 0:l.subCatName,children:l==null?void 0:l.subCatName})))]})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Father's Occupation"}),e.jsx("br",{}),e.jsxs("select",{name:"fathers_occupation",className:"input",onChange:i.handleChange,value:i.values.fathers_occupation,children:[e.jsx("option",{value:"",children:"Select"}),(dt=L==null?void 0:L.fathers_occupation)==null?void 0:dt.map(l=>(console.log(l),e.jsx("option",{selected:(l==null?void 0:l.subCatName)===i.values.fathers_occupation,value:l==null?void 0:l.subCatName,children:l==null?void 0:l.subCatName})))]})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Mother's Occupation"}),e.jsx("br",{}),e.jsxs("select",{name:"mothers_occupation",className:"input",onChange:i.handleChange,value:i.values.mothers_occupation,children:[e.jsx("option",{value:"",children:"Select"}),(xt=L==null?void 0:L.mothers_occupation)==null?void 0:xt.map(l=>(console.log(l),e.jsx("option",{selected:(l==null?void 0:l.subCatName)===i.values.mothers_occupation,value:l==null?void 0:l.subCatName,children:l==null?void 0:l.subCatName})))]})]})})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"mb-[3vh]",children:[e.jsx("h1",{style:{zIndex:100},className:" flex items-start justify-start pt-2 my-1 font-bold text-[2.5vh]  text-[#6b7280] pl-[52px]  bg-white w-full ",children:e.jsxs("div",{className:"flex",children:[e.jsx("img",{src:pt,alt:"Basic",className:"mr-5 w-10 h-10 opacity-80"})," ",e.jsx("span",{className:"flex items-center justify-center mt-2 text-[22px]",children:"Address Detail"})]})}),e.jsx("hr",{className:"mx-[40px]"}),e.jsx("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsx("div",{children:e.jsx("label",{htmlFor:"exampleEmail",className:" flex items-start justify-start text-[#6b7280] text-[20px] font-bold ml-[4vh]",children:"Parmanent Address"})})})}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Address 1"}),e.jsx("br",{}),e.jsx("input",{name:"p_address1",className:"input",type:"text",onChange:i.handleChange,value:i.values.p_address1})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleAddress",className:"label2",children:"Address 2"}),e.jsx("input",{className:"input",name:"p_address2",onChange:i.handleChange,value:i.values.p_address2})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Locality"}),e.jsx("br",{}),e.jsx("input",{name:"p_locality",className:"input",type:"text",onChange:i.handleChange,value:i.values.p_locality})]})})]}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Landmark"}),e.jsx("br",{}),e.jsx("input",{name:"p_landmark",className:"input",type:"text",onChange:i.handleChange,value:i.values.p_landmark})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Country"}),e.jsx("br",{}),e.jsxs("select",{name:"p_country_id",className:"input",onChange:i.handleChange,value:i.values.p_country_id,children:[e.jsx("option",{value:"",children:"Select"}),N==null?void 0:N.map(l=>e.jsx("option",{selected:(l==null?void 0:l.id)===i.values.p_country_id,value:l==null?void 0:l.id,children:l==null?void 0:l.country_name}))]})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"State"}),e.jsx("br",{}),e.jsxs("select",{name:"p_state_id",className:"input",onChange:i.handleChange,value:i.values.p_state_id,children:[e.jsx("option",{value:"",children:"Select"}),v==null?void 0:v.map(l=>e.jsx("option",{selected:(l==null?void 0:l.id)===i.values.p_state_id,value:l==null?void 0:l.id,children:l==null?void 0:l.state_name}))]})]})})]}),e.jsxs("div",{className:"w-[64%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"District"}),e.jsx("br",{}),e.jsxs("select",{name:"p_district_id",className:"input",onChange:i.handleChange,value:i.values.p_district_id,children:[e.jsx("option",{value:"",children:"Select"}),U==null?void 0:U.map(l=>e.jsx("option",{selected:(l==null?void 0:l.id)===i.values.p_district_id,value:l==null?void 0:l.id,children:l==null?void 0:l.city_name}))]})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Pincode"}),e.jsx("br",{}),e.jsx("input",{name:"p_pincode",className:"input",type:"number",onKeyDown:l=>["e","E","+","-"].includes(l.key)&&l.preventDefault(),onChange:i.handleChange,value:i.values.p_pincode}),e.jsx("p",{className:"text-red-500 text-sm ml-[40px]",children:i.touched.p_pincode&&i.errors.p_pincode?i.errors.p_pincode:null})]})})]}),e.jsx("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:e.jsxs("div",{className:" flex items-start justify-start text-[#6b7280] text-[2.5vh] font-bold",children:[e.jsx("input",{id:"check",name:"check",type:"checkbox",className:"address",onChange:i.handleChange,value:i.values.check}),e.jsx("span",{className:"text-slat-500 text-[20px] ml-[10px] mt-[-0.5vh]",children:"Note:if correspondance address is same as permanent address(Please Tick)"})]})}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Address 1"}),e.jsx("br",{}),e.jsx("input",{name:"c_address1",className:"input",type:"text",onChange:i.handleChange,value:i.values.check?i.values.p_address1:i.values.c_address1})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleAddress",className:"label",children:"Address 2"}),e.jsx("br",{}),e.jsx("input",{className:"input",name:"c_address2",onChange:i.handleChange,value:i.values.check?i.values.p_address2:i.values.c_address2})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Locality"}),e.jsx("br",{}),e.jsx("input",{name:"c_locality",className:"input",type:"text",onChange:i.handleChange,value:i.values.check?i.values.p_locality:i.values.c_locality})]})})]}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Landmark"}),e.jsx("br",{}),e.jsx("input",{name:"c_landmark",className:"input",type:"text",onChange:i.handleChange,value:i.values.check?i.values.p_landmark:i.values.c_landmark})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Country"}),e.jsx("br",{}),e.jsxs("select",{name:"c_country_id",className:"input",onChange:i.handleChange,value:i.values.check?i.values.p_country_id:i.values.c_country_id,children:[e.jsx("option",{value:"",children:"Select"}),Q==null?void 0:Q.map(l=>e.jsx("option",{selected:(l==null?void 0:l.id)===i.values.c_country_id,value:l==null?void 0:l.id,children:l==null?void 0:l.country_name}))]})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"State"}),e.jsx("br",{}),e.jsxs("select",{name:"c_state_id",className:"input",onChange:i.handleChange,value:i.values.check?i.values.p_state_id:i.values.c_state_id,children:[e.jsx("option",{value:"",children:"Select"}),F==null?void 0:F.map(l=>e.jsx("option",{selected:(l==null?void 0:l.id)===i.values.c_state_id,value:l==null?void 0:l.id,children:l==null?void 0:l.state_name}))]})]})})]}),e.jsxs("div",{className:"w-[64%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"District"}),e.jsx("br",{}),e.jsxs("select",{name:"c_district_id",className:"input",type:"text",onChange:i.handleChange,value:i.values.check?i.values.p_district_id:i.values.c_district_id,children:[e.jsx("option",{value:"",children:"Select"}),ee==null?void 0:ee.map(l=>e.jsx("option",{selected:(l==null?void 0:l.id)===i.values.c_district_id,value:l==null?void 0:l.id,children:l==null?void 0:l.city_name}))]})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Pincode"}),e.jsx("br",{}),e.jsx("input",{name:"c_pincode",className:"input",type:"number",onKeyDown:l=>["e","E","+","-"].includes(l.key)&&l.preventDefault(),onChange:i.handleChange,value:i.values.check?i.values.p_pincode:i.values.c_pincode}),e.jsx("p",{className:"text-red-500 text-sm ml-[40px]",children:i.touched.c_pincode&&i.errors.c_pincode?i.errors.c_pincode:null})]})})]})]})}),e.jsx("div",{className:"flex items-end justify-end pb-[20px]  max-[768px]:block",children:e.jsx("button",{type:"submit",className:"next-btn",children:"UPDATE"})})]})})]})}function Ft(t){var I,k,Z,d,C,H,r,w,_,D,i,n;const[z,N]=o.useState(!1),[Y,v]=o.useState(),[q,U]=o.useState(!1),[y,Q]=o.useState(null),[S,F]=o.useState(""),{api_getcategorybynameData:ae,api_showByEducationId:ee,api_delteByEducationId:f,api_postByEducationId:se,api_editByEducationId:A}=oe(),L=()=>{N(!0),B.post(ae,{},$()).then(function(s){console.log("Category By Name..",s==null?void 0:s.data),s!=null&&s.data?v(s==null?void 0:s.data):activateBottomErrorCard(!0,"Error occured while fetching data."),N(!1)}).catch(function(s){console.log("==2 error list...",s),activateBottomErrorCard(!0,"Error occured while fetching data."),N(!1)})};o.useEffect(()=>{L()},[]);const m=he({enableReinitialize:!0,initialValues:{exam_passed_name:"",board:"",passing_year:"",div_grade:"",marks_obtained:"",total_marks:"",percentage:"",upload_edu_doc:""},onSubmit:s=>{console.log("hello",s),T(s),m.resetForm()}}),T=s=>{var g;const u=new FormData;u.append("empNo",(g=t==null?void 0:t.editValue)==null?void 0:g.emp_no),u.append("examPassed",s.exam_passed_name),u.append("board",s.board),u.append("passingYear",s.passing_year),u.append("divGrade",s.div_grade),u.append("marksObtained",s.marks_obtained),u.append("totalMarks",s.total_marks),u.append("percentage",s.percentage),u.append("uploadEduDoc",s==null?void 0:s.upload_edu_doc),console.log(s),N(!0);let c,b,p=u;y!==null?(c=A,b=p,b.id=u.append("id",y)):(s==null?void 0:s.exam_passed_name)!==""&&y==null&&(c=se,b=p),B.post(c,b,$()).then(function(V){var ne,G,me;console.log("bank master..",(ne=V==null?void 0:V.data)==null?void 0:ne.data),((G=V==null?void 0:V.data)==null?void 0:G.status)===!0?(te.success(y!==null?"Data Updated Successfully!":"Data Added Successfully"),t==null||t.getemployeeEducationById(t==null?void 0:t.id),Q(null)):te.error(`${(me=V==null?void 0:V.data)==null?void 0:me.message}`),N(!1)}).catch(function(V){console.log("==2 error list...",V),te.warning("Error occured in submitting form."),N(!1)})},X=s=>{let u=s.target.name,c=s.target.value;u=="passing_year"&&m.setFieldValue("passing_year",Me(c,m.values.passing_year,4)),u=="board"&&m.setFieldValue("board",ce(c,m.values.board,20))},le=s=>{N(!0);let u={id:s};B.post(ee,u,$()).then(function(c){var b,p,g,V;console.log("fetch edit data response..",(b=c==null?void 0:c.data)==null?void 0:b.data),(p=c==null?void 0:c.data)!=null&&p.status?M((g=c==null?void 0:c.data)==null?void 0:g.data):te.error(`${(V=c==null?void 0:c.data)==null?void 0:V.message}`),N(!1)}).catch(function(c){console.log("= edit data error...",c),U(!0),N(!1)})},M=s=>{console.log("existing property details in prop address...",s),m.setFieldValue("id",s==null?void 0:s.id),m.setFieldValue("exam_passed_name",s==null?void 0:s.exam_passed_name),m.setFieldValue("board",s==null?void 0:s.board_uni_inst),m.setFieldValue("passing_year",s==null?void 0:s.passing_year),m.setFieldValue("div_grade",s==null?void 0:s.div_grade_name),m.setFieldValue("marks_obtained",s==null?void 0:s.marks_obtained),m.setFieldValue("total_marks",s==null?void 0:s.total_marks),m.setFieldValue("percentage",s==null?void 0:s.percentage),m.setFieldValue("upload_edu_doc",""),F(s==null?void 0:s.upload_edu_doc)},W=s=>{N(!0);let u={id:s};B.post(f,u,$()).then(function(c){var b,p,g;console.log("fetch edit data response..",(b=c==null?void 0:c.data)==null?void 0:b.data),(p=c==null?void 0:c.data)!=null&&p.status?t==null||t.getemployeeEducationById(t==null?void 0:t.id):te.error(`${(g=c==null?void 0:c.data)==null?void 0:g.message}`),N(!1)}).catch(function(c){console.log("= edit data error...",c),U(!0),N(!1)})};return console.log("existing property details in prop address...",S),e.jsxs(e.Fragment,{children:[z&&e.jsx(ue,{}),e.jsx("div",{className:"h-[70vh] w-[90%] bg-white overflow-auto  border border-slate-300 rounded-[15px]  max-[600px]:w-[95%]  max-[600px]:pb-[7vh] max-[320px]:pb-[10vh]",children:e.jsxs("form",{className:" mx-[1vh]   overflow-auto bg-white  ",onSubmit:m.handleSubmit,onChange:X,encType:"multipart/form-data",children:[e.jsxs("div",{className:"mb-[1vh]",children:[e.jsx("h1",{style:{zIndex:100},className:" flex items-start justify-start pt-2 my-1 font-bold text-[2.5vh]  text-[#6b7280] pl-[52px]  bg-white w-full",children:e.jsxs("div",{className:"flex",children:[e.jsx("img",{src:ot,alt:"Basic",className:"mr-5 w-10 h-10 opacity-80"})," ",e.jsx("span",{className:"flex items-center justify-center mt-2 text-[22px]",children:"Education Detail"})]})}),e.jsx("hr",{className:"mx-[40px]"}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleSatulations",className:" label",children:"Degree Name"}),e.jsx("br",{}),e.jsxs("select",{name:"exam_passed_name",className:"input",onChange:m.handleChange,value:m.values.exam_passed_name,children:[e.jsx("option",{value:"",children:"Select"}),(I=Y==null?void 0:Y.exam_passed)==null?void 0:I.map(s=>(console.log(s),e.jsx("option",{selected:(s==null?void 0:s.subCatName)===m.values.exam_passed_name,value:s==null?void 0:s.subCatName,children:s==null?void 0:s.subCatName})))]})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Board/University"}),e.jsx("br",{}),e.jsx("input",{name:"board",className:"input",type:"text",onChange:m.handleChange,value:m.values.board}),e.jsx("p",{className:"text-red-500 text-sm ml-[40px]",children:m.touched.board&&m.errors.board?m.errors.board:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleMiddlename",className:"label2",children:"Passing Year"}),e.jsx("input",{name:"passing_year",className:"input",type:"number",onKeyDown:s=>["e","E","+","-"].includes(s.key)&&s.preventDefault(),onChange:m.handleChange,value:m.values.passing_year}),e.jsx("p",{className:"text-red-500 text-sm ml-[40px]",children:m.touched.passing_year&&m.errors.passing_year?m.errors.passing_year:null})]})})]}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Division"}),e.jsx("br",{}),e.jsxs("select",{name:"div_grade_id",className:"input",onChange:m.handleChange,value:m.values.div_grade,children:[e.jsx("option",{value:"",children:"Select"}),(k=Y==null?void 0:Y.div_grade)==null?void 0:k.map(s=>e.jsx("option",{selected:(s==null?void 0:s.subCatName)===m.values.div_grade,value:s==null?void 0:s.subCatName,children:s==null?void 0:s.subCatName}))]})]})}),e.jsx("div",{className:"w-full mx-[20px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleGender",className:"label",children:"Marks Obtained"}),e.jsx("br",{}),e.jsx("input",{name:"marks_obtained",className:"input",type:"number",onKeyDown:s=>["e","E","+","-"].includes(s.key)&&s.preventDefault(),onChange:m.handleChange,value:m.values.marks_obtained})]})}),e.jsx("div",{className:"w-full mx-[20px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleGender",className:"label",children:"Total Marks"}),e.jsx("br",{}),e.jsx("input",{name:"total_marks",className:"input",type:"number",onKeyDown:s=>["e","E","+","-"].includes(s.key)&&s.preventDefault(),onChange:m.handleChange,value:m.values.total_marks})]})})]}),e.jsxs("div",{className:"w-[64%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleGender",className:"label",children:"Percentage"}),e.jsx("br",{}),e.jsx("input",{name:"percentage",className:"input",type:"number",onKeyDown:s=>["e","E","+","-"].includes(s.key)&&s.preventDefault(),onChange:m.handleChange,value:m.values.percentage})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleGender",className:"label",children:"Upload Document"}),e.jsx("br",{}),e.jsxs("div",{className:"block justify-start",children:[e.jsx("label",{htmlFor:"upload_edu_doc",className:"form-control ml-10 h-10 block w-full border border-gray-200 px-3 2xl:py-1.5 py-2 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:"Choose File"}),e.jsx("input",{name:"upload_edu_doc",className:"sr-only input2",type:"file",id:"upload_edu_doc",accept:".pdf",onChange:s=>{m.setFieldValue("upload_edu_doc",s.target.files[0])}}),m.values.upload_edu_doc&&y!==null?`${(Z=m.values.upload_edu_doc)==null?void 0:Z.name}`.slice(`${(d=m.values.upload_edu_doc)==null?void 0:d.name}`.lastIndexOf("-")+1||`${(C=m.values.eventDocs)==null?void 0:C.name}`.lastIndexOf("/")+1||`${(H=m.values.eventDocs)==null?void 0:H.name}`.lastIndexOf("\\")+1||`${(r=m.values.eventDocs)==null?void 0:r.name}`.lastIndexOf(".")+1||`${(w=m.values.eventDocs)==null?void 0:w.name}`.lastIndexOf(" ")+1||`${(_=m.values.eventDocs)==null?void 0:_.name}`.lastIndexOf(",")+1||`${(D=m.values.eventDocs)==null?void 0:D.name}`.lastIndexOf("?")+1,`${(i=m.values.eventDocs)==null?void 0:i.name}`.length):m.values.upload_edu_doc&&y===null?(n=m.values.upload_edu_doc)==null?void 0:n.name:S?e.jsx("a",{href:`${xe}/${S}`,target:"_blank",className:"text-xl text-red-700 flex items-center justify-center",children:S&&y!==null?e.jsx($e,{className:"text-red bg-red w-8 h-8 mt-4"}):""}):"No file selected"]})]})})]}),e.jsx("button",{type:"submit",className:"next-btn",children:y!==null?"Update Form":"Add Form"})]}),e.jsx("br",{}),e.jsx("div",{className:"mb-[1vh]  ",children:e.jsx("div",{className:"w-[100%] mt-[10px] flex mb-[10px] px-[5px]  max-[768px]:pl-1 max-[768px]:pr-2 overflow-auto  max-[768px]:w-[750px]",children:e.jsxs("table",{className:"w-full justify-center items-center rounded-[15px] ",children:[e.jsx("thead",{className:" text-black bg-[#98D4D2] text-[17px]  w-full   arimo border border-gray h-[2vh] ",children:e.jsxs("tr",{className:"py-2 pl-4 w-full flex items-start justify-start text-center",children:[e.jsx("th",{className:"w-full flex start justify-start",children:"S.No"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Degree Name"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Board"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Passing Year"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Division"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Marks Obtained"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Total Marks"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Percentage"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Document"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Action"})]})}),e.jsx("tbody",{children:t!=null&&t.readymadeListData?(t==null?void 0:t.readymadeListData)&&(t==null?void 0:t.readymadeListData.map((s,u)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"py-2 pl-4 w-full text-[16px] flex items-center justify-center text-[#696969] text-left verdana even:bg-gray-100",children:[e.jsx("td",{className:"w-full flex items-start justify-start",children:K(u+1)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(s.exam_passed_name)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(s.board_uni_inst)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(s.passing_year)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(s.div_grade_name)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(s.marks_obtained)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(s.total_marks)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(s.percentage)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:e.jsx("a",{href:`${xe}/${s.upload_edu_doc}`,target:"_blank",className:"text-xl text-red-700 ",children:s.upload_edu_doc?e.jsx($e,{className:"text-red bg-red w-8 h-8"}):""})}),e.jsxs("td",{className:"w-full flex items-start justify-start",children:[e.jsx("button",{type:"button",onClick:()=>{Q(s==null?void 0:s.id),le(s==null?void 0:s.id)},className:" text-indigo-600 px-[5px] py-[2px] rounded-[5px]",children:e.jsx(Te,{size:30})}),e.jsx("button",{type:"button",onClick:()=>W(s==null?void 0:s.id),className:" text-red-600 px-[5px] py-[2px] rounded-[5px]",children:e.jsx(Ue,{size:30})})]})]},u)}))):e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex items-center justify-center opacity-[0.5] py-2 pl-4 w-full text-[16px]  verdana h-auto",children:e.jsx("img",{src:ze,alt:"nodata",className:"w-[200px] h-[200px]"})})})})]})})}),e.jsx("br",{})]})})]})}function Et(t){var W,I,k,Z,d,C,H,r,w,_,D,i,n,s,u;console.log("chu",t),o.useState();const[z,N]=o.useState(),[Y,v]=o.useState(!1),[q,U]=o.useState(),[y,Q]=o.useState(!1),[S,F]=o.useState(null),{api_getcategorybynameData:ae,api_getActiveBankData:ee,api_editEmployeeBankData:f}=oe(),se=()=>{v(!0),B.post(ae,{},$()).then(function(c){console.log("Category By Name..",c==null?void 0:c.data),c!=null&&c.data?U(c==null?void 0:c.data):M(!0,"Error occured while fetching data."),v(!1)}).catch(function(c){console.log("==2 error list...",c),M(!0,"Error occured while fetching data."),v(!1)})},A=()=>{v(!0),B.post(ee,{},$()).then(function(c){var b,p,g;console.log("Country Data..",(b=c==null?void 0:c.data)==null?void 0:b.data),(p=c==null?void 0:c.data)!=null&&p.status?N((g=c==null?void 0:c.data)==null?void 0:g.data):M(!0,"Error occured while fetching data."),v(!1)}).catch(function(c){console.log("==2 error list...",c),M(!0,"Error occured while fetching data."),v(!1)})};o.useEffect(()=>{se(),A()},[]);const L={bank_id:(W=t==null?void 0:t.editValue)==null?void 0:W.bank_id,bank_name:(I=t==null?void 0:t.editValue)==null?void 0:I.bank_name,account_no:(k=t==null?void 0:t.editValue)==null?void 0:k.account_no,account_type:(Z=t==null?void 0:t.editValue)==null?void 0:Z.account_type,ifsc_code:(d=t==null?void 0:t.editValue)==null?void 0:d.ifsc_code,branch_name:(C=t==null?void 0:t.editValue)==null?void 0:C.branch_name,nominee_name:(H=t==null?void 0:t.editValue)==null?void 0:H.nominee_name,nominee_relation:(r=t==null?void 0:t.editValue)==null?void 0:r.nominee_relation_name,pan_no:(w=t==null?void 0:t.editValue)==null?void 0:w.pan_no,epf_no:(_=t==null?void 0:t.editValue)==null?void 0:_.epf_no,uan_no:(D=t==null?void 0:t.editValue)==null?void 0:D.uan_no,esi_no:(i=t==null?void 0:t.editValue)==null?void 0:i.esi_no,nps_no:(n=t==null?void 0:t.editValue)==null?void 0:n.nps_no},m=he({initialValues:L,enableReinitialize:!0,onSubmit:c=>{var p,g;console.log(c);const b={id:(p=t==null?void 0:t.editValue)==null?void 0:p.id,empNo:(g=t==null?void 0:t.editValue)==null?void 0:g.emp_no,bank:c==null?void 0:c.bank_id,accountNo:c==null?void 0:c.account_no,accountType:c==null?void 0:c.account_type,ifscCode:c==null?void 0:c.ifsc_code,branchName:c==null?void 0:c.branch_name,nomineeName:c==null?void 0:c.nominee_name,nomineeRelation:c==null?void 0:c.nominee_relation,panNo:c==null?void 0:c.pan_no,epfNo:c==null?void 0:c.epf_no,uanNo:c==null?void 0:c.uan_no,esiNo:c==null?void 0:c.esi_no,npsNo:c==null?void 0:c.nps_no};re.fire({icon:"warning",title:"Are you sure?",text:"You want to update the information!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(V=>{V.value&&T(b)})}}),T=c=>{v(!0);let b,p;b=f,p=c,B.post(b,p,Pe()).then(function(g){var V;((V=g==null?void 0:g.data)==null?void 0:V.status)===!0?(re.fire({icon:"success",title:"Updated",text:"Information Updated Successfully.",showConfirmButton:!1,timer:1500}),t==null||t.getemployeebyidUser(t==null?void 0:t.id)):M(!0,"Error occured in submitting form."),v(!1)}).catch(function(g){M(!0,"Error occured in submitting form."),v(!1)})},X=c=>{let b=c.target.name,p=c.target.value;if(b=="bank_id"){let g=c.target.selectedOptions[0].text,V=c.target.selectedOptions[0].value;le(g,V);return}b=="ifsc_code"&&m.setFieldValue("ifsc_code",Oe(p.trim().toUpperCase(),m.values.ifsc_code,10)),b=="pan_no"&&m.setFieldValue("pan_no",Oe(p.toUpperCase(),m.values.pan_no,10)),b=="epf_no"&&m.setFieldValue("epf_no",Oe(p.toUpperCase(),m.values.epf_no,12)),b=="uan_no"&&m.setFieldValue("uan_no",Me(p,m.values.uan_no,12)),b=="esi_no"&&m.setFieldValue("esi_no",Oe(p,m.values.esi_no,17)),b=="nominee_name"&&m.setFieldValue("nominee_name",ce(p,m.values.nominee_name,17)),b=="account_type"&&m.setFieldValue("account_type",ce(p,m.values.account_type,17))},le=(c,b)=>{m.setFieldValue("bank_name",c),m.setFieldValue("bank_id",b)},M=(c,b)=>{F(b),Q(c)};return e.jsxs(e.Fragment,{children:[Y&&e.jsx(ue,{}),e.jsx("div",{className:"h-[70vh] w-[90%] bg-white overflow-auto  border border-slate-300 rounded-[15px] max-[600px]:w-[95%]  max-[600px]:pb-[7vh] max-[320px]:pb-[10vh]",children:e.jsxs("form",{className:" ml-[1vh]   overflow-auto bg-white  ",onSubmit:m.handleSubmit,onChange:X,encType:"multipart/form-data",children:[e.jsxs("div",{className:"mb-[1vh]",children:[e.jsx("h1",{style:{zIndex:100},className:" flex items-start justify-start pt-2 my-1 font-bold text-[2.5vh]  text-[#6b7280] pl-[52px]  bg-white w-full ",children:e.jsxs("div",{className:"flex w-full max-[833px]:block",children:[e.jsxs("div",{className:"flex justify-start items-center w-full",children:[e.jsx("img",{src:Nt,alt:"Basic",className:"mr-5 w-10 h-10 opacity-80"})," ",e.jsx("span",{className:"flex items-center justify-center mt-2 text-[22px]",children:"Bank Details"})]}),e.jsx("div",{className:"text-[20px] flex items-center justify-end mt-2 w-full mr-4",children:e.jsxs("span",{className:"bg-yellow-300 p-2",children:["Employee No:",(s=t==null?void 0:t.editValue)==null?void 0:s.emp_no]})})]})}),e.jsx("hr",{className:"mx-[40px]"}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleSatulations",className:" label",children:"Bank Name"}),e.jsx("br",{}),e.jsxs("select",{name:"bank_id",className:"input",onChange:m.handleChange,value:m.values.bank_id,children:[e.jsx("option",{value:"",children:"Select"}),z==null?void 0:z.map(c=>e.jsx("option",{selected:(c==null?void 0:c.id)===m.values.bank_id,value:c==null?void 0:c.id,children:c==null?void 0:c.bank_name}))]})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Account Number"}),e.jsx("br",{}),e.jsx("input",{name:"account_no",className:"input",type:"number",onKeyDown:c=>["e","E","+","-"].includes(c.key)&&c.preventDefault(),onChange:m.handleChange,value:m.values.account_no})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleMiddlename",className:" label2",children:"Account Type"}),e.jsx("input",{name:"account_type",className:"input",type:"text",onChange:m.handleChange,value:m.values.account_type}),e.jsx("p",{className:"text-red-500 text-sm ml-[40px]",children:m.touched.account_type&&m.errors.account_type?m.errors.account_type:null})]})})]}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:" label",children:"IFSC Code"}),e.jsx("br",{}),e.jsx("input",{name:"ifsc_code",className:"input",type:"text",onChange:m.handleChange,value:m.values.ifsc_code}),e.jsx("p",{className:"text-red-500 text-sm ml-[40px]",children:m.touched.ifsc_code&&m.errors.ifsc_code?m.errors.ifsc_code:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleGender",className:" label",children:"Branch Name"}),e.jsx("br",{}),e.jsx("input",{name:"branch_name",className:"input",type:"text",onChange:m.handleChange,value:m.values.branch_name}),e.jsx("p",{className:"text-red-500 text-sm ml-[40px]",children:m.touched.branch_name&&m.errors.branch_name?m.errors.branch_name:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleCategory",className:" label",children:"Nominee Name"}),e.jsx("br",{}),e.jsx("input",{name:"nominee_name",className:"input",type:"text",onChange:m.handleChange,value:m.values.nominee_name}),e.jsx("p",{className:"text-red-500 text-sm ml-[40px]",children:m.touched.nominee_name&&m.errors.nominee_name?m.errors.nominee_name:null})]})})]}),e.jsx("div",{className:"w-[32%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"examplePassword",className:"label2",children:"Nominee Relation"}),e.jsxs("select",{className:"input",name:"nominee_relation",onChange:m.handleChange,value:m.values.nominee_relation,children:[e.jsx("option",{value:"",children:"Select"}),(u=q==null?void 0:q.nominee_relation)==null?void 0:u.map(c=>e.jsx("option",{selected:(c==null?void 0:c.subCatName)===m.values.nominee_relation,value:c==null?void 0:c.subCatName,children:c==null?void 0:c.subCatName}))]})]})})})]}),e.jsx("div",{className:"mt-[6vh]",children:e.jsxs("div",{className:"mb-[1vh]",children:[e.jsx("h1",{style:{zIndex:100},className:" flex items-start justify-start pt-2 my-1 font-bold text-[2.5vh]  text-[#6b7280] pl-[52px]  bg-white w-full ",children:e.jsx("div",{className:"flex",children:e.jsx("span",{className:"flex items-center justify-center mt-2 text-[22px]",children:"Payroll"})})}),e.jsx("hr",{className:"mx-[40px]"}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleSatulations",className:" label",children:"Pan Number"}),e.jsx("br",{}),e.jsx("input",{name:"pan_no",className:"input",type:"text",onChange:m.handleChange,value:m.values.pan_no}),e.jsx("p",{className:"text-red-500 text-sm ml-[40px]",children:m.touched.pan_no&&m.errors.pan_no?m.errors.pan_no:null})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:" label",children:"EPF Number"}),e.jsx("br",{}),e.jsx("input",{name:"epf_no",className:"input",type:"text",onChange:m.handleChange,value:m.values.epf_no})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleMiddlename",className:"flex items-start justify-start ml-[43px]  text-[1.9vh] text-[#696969]",children:"Uan Number"}),e.jsx("input",{name:"uan_no",className:"input",onKeyDown:c=>["e","E","+","-"].includes(c.key)&&c.preventDefault(),type:"text",onChange:m.handleChange,value:m.values.uan_no})]})})]}),e.jsxs("div",{className:"w-[64%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Esi Number"}),e.jsx("br",{}),e.jsx("input",{name:"esi_no",className:"input",type:"text",onChange:m.handleChange,value:m.values.esi_no})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleGender",className:"label",children:"Nps Number"}),e.jsx("br",{}),e.jsx("input",{name:"nps_no",className:"input",type:"text",onChange:m.handleChange,value:m.values.nps_no,onKeyDown:c=>["e","E","+","-"].includes(c.key)&&c.preventDefault()})]})})]})]})}),e.jsx("div",{className:"flex items-end justify-end pb-[20px]  max-[768px]:block",children:e.jsx("button",{type:"submit",className:"next-btn",children:"UPDATE"})})]})})]})}function St(t){var X,le,M,W,I,k,Z,d,C,H;console.log(t);const[z,N]=o.useState(!1),[Y,v]=o.useState(!1),[q,U]=o.useState(null),[y,Q]=o.useState(""),{api_showByExperienceId:S,api_delteByExperienceId:F,api_postByExperienceId:ae,api_editByExperienceId:ee}=oe(),f=he({enableReinitialize:!0,initialValues:{name_of_org:"",position_head:"",period_from:"",period_to:"",salary:"",pay_grade:"",upload_exp_letter_docs:""},onSubmit:r=>{console.log("hello",r),se(r),f.resetForm()}}),se=r=>{var n;const w=new FormData;w.append("empNo",(n=t==null?void 0:t.editValue)==null?void 0:n.emp_no),w.append("nameOfOrg",r.name_of_org),w.append("positionHead",r.position_head),w.append("periodFrom",r.period_from),w.append("periodTo",r.period_to),w.append("salary",r.salary),w.append("payGrade",r.pay_grade),w.append("uploadExpLetterDocs",r==null?void 0:r.upload_exp_letter_docs),console.log(r),N(!0);let _,D,i=w;q!==null?(_=ee,D=i,D.id=w.append("id",q)):(r==null?void 0:r.exam_passed_name)!==""&&q==null&&(_=ae,D=i),B.post(_,D,$()).then(function(s){var u,c,b;console.log("bank master..",(u=s==null?void 0:s.data)==null?void 0:u.data),((c=s==null?void 0:s.data)==null?void 0:c.status)===!0?(te.success(q!==null?"Data Updated Successfully!":"Data Added Successfully"),t==null||t.getemployeeExperienceById(t==null?void 0:t.id),U(null)):te.error(`${(b=s==null?void 0:s.data)==null?void 0:b.message}`),N(!1)}).catch(function(s){console.log("==2 error list...",s),te.warning("Error occured in submitting form."),N(!1)})},A=r=>{let w=r.target.name,_=r.target.value;w=="salary"&&f.setFieldValue("salary",Me(_,f.values.salary,30)),w=="name_of_org"&&f.setFieldValue("name_of_org",ce(_,f.values.name_of_org,30)),w=="position_head"&&f.setFieldValue("position_head",ce(_,f.values.position_head,30))},L=r=>{N(!0);let w={id:r};B.post(S,w,$()).then(function(_){var D,i,n,s;console.log("fetch edit data response..",(D=_==null?void 0:_.data)==null?void 0:D.data),(i=_==null?void 0:_.data)!=null&&i.status?m((n=_==null?void 0:_.data)==null?void 0:n.data):te.error(`${(s=_==null?void 0:_.data)==null?void 0:s.message}`),N(!1)}).catch(function(_){console.log("= edit data error...",_),v(!0),N(!1)})},m=r=>{console.log("existing property details in prop address...",r),f.setFieldValue("id",r==null?void 0:r.id),f.setFieldValue("name_of_org",r==null?void 0:r.name_of_org),f.setFieldValue("position_head",r==null?void 0:r.position_head),f.setFieldValue("period_from",r==null?void 0:r.period_from),f.setFieldValue("period_to",r==null?void 0:r.period_to),f.setFieldValue("salary",r==null?void 0:r.salary),f.setFieldValue("pay_grade",r==null?void 0:r.pay_grade),f.setFieldValue("upload_exp_letter_docs",""),Q(r==null?void 0:r.upload_exp_letter_docs)},T=r=>{N(!0);let w={id:r};B.post(F,w,$()).then(function(_){var D,i,n;console.log("fetch edit data response..",(D=_==null?void 0:_.data)==null?void 0:D.data),(i=_==null?void 0:_.data)!=null&&i.status?t==null||t.getemployeeExperienceById(t==null?void 0:t.id):te.error(`${(n=_==null?void 0:_.data)==null?void 0:n.message}`),N(!1)}).catch(function(_){console.log("= edit data error...",_),v(!0),N(!1)})};return e.jsxs(e.Fragment,{children:[z&&e.jsx(ue,{}),e.jsx("div",{className:"h-[70vh] w-[90%] bg-white overflow-auto  border border-slate-300 rounded-[15px]  max-[600px]:w-[95%]  max-[600px]:pb-[7vh] max-[320px]:pb-[10vh]",children:e.jsxs("form",{className:" ml-[1vh]   overflow-auto bg-white  ",onSubmit:f.handleSubmit,onChange:A,encType:"multipart/form-data",children:[e.jsxs("div",{className:"mb-[1vh]",children:[e.jsx("h1",{style:{zIndex:100},className:" flex items-start justify-start pt-2 my-1 font-bold text-[2.5vh]  text-[#6b7280] pl-[52px]  bg-white w-full ",children:e.jsxs("div",{className:"flex",children:[e.jsx("img",{src:ot,alt:"Basic",className:"mr-5 w-10 h-10 opacity-80"})," ",e.jsx("span",{className:"flex items-center justify-center mt-2 text-[22px]",children:"Experience Detail"})]})}),e.jsx("hr",{className:"mx-[40px]"}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleSatulations",className:" label",children:"Name of Organization"}),e.jsx("br",{}),e.jsx("input",{name:"name_of_org",className:"input",onChange:f.handleChange,value:f.values.name_of_org,type:"text"})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Position Head"}),e.jsx("br",{}),e.jsx("input",{name:"position_head",className:"input",type:"text",onChange:f.handleChange,value:f.values.position_head})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleMiddlename",className:"label2",children:"Period From"}),e.jsx("input",{name:"period_from",className:"input",type:"date",max:new Date().toISOString().split("T")[0],onChange:f.handleChange,value:f.values.period_from})]})})]}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleMiddlename",className:"label2",children:"Period To"}),e.jsx("input",{name:"period_to",className:"input",type:"date",max:new Date().toISOString().split("T")[0],onChange:f.handleChange,value:f.values.period_to})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleGender",className:"label",children:"salary"}),e.jsx("br",{}),e.jsx("input",{name:"salary",className:"input",type:"number",onKeyDown:r=>["e","E","+","-"].includes(r.key)&&r.preventDefault(),onChange:f.handleChange,value:f.values.salary})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleGender",className:"label",children:"Pay Grade"}),e.jsx("br",{}),e.jsx("input",{name:"pay_grade",className:"input",type:"text",onChange:f.handleChange,value:f.values.pay_grade})]})})]}),e.jsx("div",{className:"w-[33%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleGender",className:"label",children:"Upload Document"}),e.jsx("br",{}),e.jsxs("div",{className:"block justify-start",children:[e.jsx("label",{htmlFor:"upload_exp_letter_docs",className:"form-control ml-10 h-10 block w-full border border-gray-200 px-3 2xl:py-1.5 py-2 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  rounded-[10px] transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:"Choose File"}),e.jsx("input",{name:"upload_exp_letter_docs",className:"sr-only input2",type:"file",id:"upload_exp_letter_docs",accept:".pdf",onChange:r=>{f.setFieldValue("upload_exp_letter_docs",r.target.files[0])}}),f.values.upload_exp_letter_docs&&q!==null?`${(X=f.values.upload_exp_letter_docs)==null?void 0:X.name}`.slice(`${(le=f.values.upload_exp_letter_docs)==null?void 0:le.name}`.lastIndexOf("-")+1||`${(M=f.values.eventDocs)==null?void 0:M.name}`.lastIndexOf("/")+1||`${(W=f.values.eventDocs)==null?void 0:W.name}`.lastIndexOf("\\")+1||`${(I=f.values.eventDocs)==null?void 0:I.name}`.lastIndexOf(".")+1||`${(k=f.values.eventDocs)==null?void 0:k.name}`.lastIndexOf(" ")+1||`${(Z=f.values.eventDocs)==null?void 0:Z.name}`.lastIndexOf(",")+1||`${(d=f.values.eventDocs)==null?void 0:d.name}`.lastIndexOf("?")+1,`${(C=f.values.eventDocs)==null?void 0:C.name}`.length):f.values.upload_exp_letter_docs&&q===null?(H=f.values.upload_exp_letter_docs)==null?void 0:H.name:y?e.jsx("a",{href:`${xe}/${y}`,target:"_blank",className:"text-xl text-red-700 flex items-center justify-center",children:y&&q!==null?e.jsx($e,{className:"text-red bg-red w-8 h-8 mt-4"}):""}):"No file selected"]})]})})}),e.jsx("button",{type:"submit",className:"next-btn",children:q!==null?"Update Form":"Add Form"})]}),e.jsx("div",{className:"mb-[1vh] ",children:e.jsx("div",{className:"w-[99%] mt-[10px] flex mb-[10px] p-[10px]  max-[768px]:pl-1 max-[768px]:pr-2 overflow-auto  max-[768px]:w-[750px]",children:e.jsxs("table",{className:"w-full justify-center items-center ",children:[e.jsx("thead",{className:"  text-black bg-[#98D4D2] text-[17px]  w-full   arimo border border-gray h-[2vh] ",children:e.jsxs("tr",{className:"py-2 pl-4  w-full flex items-start justify-start text-center",children:[e.jsx("th",{className:"w-full flex items-center justify-center",children:"S.No"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Name of Organization"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Position Head"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Period From"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Period To"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Salary"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Pay Grade"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Document"}),e.jsx("th",{className:"w-full flex items-start justify-start",children:"Action"})]})}),e.jsx("tbody",{children:t!=null&&t.readymadeListData?(t==null?void 0:t.readymadeListData)&&(t==null?void 0:t.readymadeListData.map((r,w)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"py-2 pl-4 w-full text-[16px] flex items-center justify-center text-[#696969] text-left verdana even:bg-gray-100",children:[e.jsx("td",{className:"w-full flex items-center justify-center",children:K(w+1)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(r.name_of_org)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(r.position_head)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(r.period_from)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(r.period_to)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(r.salary)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:K(r.pay_grade)}),e.jsx("td",{className:"w-full flex items-start justify-start",children:e.jsx("a",{href:`${xe}/${r.upload_exp_letter}`,target:"_blank",className:"text-xl text-red-700 ",children:r.upload_exp_letter?e.jsx($e,{className:"text-red bg-red w-8 h-8"}):""})}),e.jsxs("td",{className:"w-full flex items-start justify-start",children:[e.jsx("button",{type:"button",onClick:()=>{U(r==null?void 0:r.id),L(r==null?void 0:r.id)},className:" text-indigo-600 px-[5px] py-[2px] rounded-[5px]",children:e.jsx(Te,{size:30})}),e.jsx("button",{type:"button",onClick:()=>T(r==null?void 0:r.id),className:" text-red-600 px-[5px] py-[2px] rounded-[5px]",children:e.jsx(Ue,{size:30})})]})]},w)}))):e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex items-center justify-center opacity-[0.5] py-2 pl-4 w-full text-[16px]  verdana h-auto",children:e.jsx("img",{src:ze,alt:"nodata",className:"w-[200px] h-[200px]"})})})})]})})}),e.jsx("br",{})]})})]})}function kt(t){var I,k,Z,d,C,H,r,w,_,D,i;bt();const[z,N]=o.useState(),[Y,v]=o.useState(!1),[q,U]=o.useState(!1),[y,Q]=o.useState(null),[S,F]=o.useState(""),{api_getcategorybynameData:ae,api_showByFamilyId:ee,api_delteByFamilyId:f,api_postByFamilyId:se,api_editByFamilyId:A}=oe(),L=()=>{v(!0),B.post(ae,{},$()).then(function(n){console.log("Category By Name..",n==null?void 0:n.data),n!=null&&n.data?N(n==null?void 0:n.data):activateBottomErrorCard(!0,"Error occured while fetching data."),v(!1)}).catch(function(n){console.log("==2 error list...",n),activateBottomErrorCard(!0,"Error occured while fetching data."),v(!1)})};o.useEffect(()=>{L()},[]);const m=he({enableReinitialize:!0,initialValues:{f_member_name:"",f_member_relation:"",f_member_dob:"",upload_f_member_image:""},onSubmit:n=>{console.log("hello",n),T(n),m.resetForm()}}),T=n=>{var p;const s=new FormData;s.append("empNo",(p=t==null?void 0:t.editValue)==null?void 0:p.emp_no),s.append("fMemberName",n==null?void 0:n.f_member_name),s.append("fMemberRelation",n==null?void 0:n.f_member_relation_name),s.append("fMemberDob",n==null?void 0:n.f_member_dob),s.append("uploadFMemberImage",n==null?void 0:n.upload_f_member_image),console.log(n),v(!0);let u,c,b=s;y!==null?(u=A,c=b,c.id=s.append("id",y)):(n==null?void 0:n.f_member_name)!==""&&y==null&&(u=se,c=b),B.post(u,c,$()).then(function(g){var V,ne,G;console.log("bank master..",(V=g==null?void 0:g.data)==null?void 0:V.data),(ne=g==null?void 0:g.data)!=null&&ne.status?(re.fire({icon:"success",title:"Section",text:y!==null?"Data Updated Successfully!":"Data Added Successfully",showConfirmButton:!1,timer:1500}),te.success(y!==null?"Data Updated Successfully!":"Data Added Successfully"),t==null||t.getemployeeFamilyById(t==null?void 0:t.id),Q(null)):te.error(`${(G=g==null?void 0:g.data)==null?void 0:G.message}`),v(!1)}).catch(function(g){console.log("==2 error list...",g),te.warning("Error occured in submitting form."),v(!1)})},X=n=>{let s=n.target.name,u=n.target.value;s=="f_member_name"&&m.setFieldValue("f_member_name",ce(u,m.values.f_member_name,30))},le=n=>{v(!0);let s={id:n};B.post(ee,s,$()).then(function(u){var c,b,p,g;console.log("fetch edit data response..",(c=u==null?void 0:u.data)==null?void 0:c.data),(b=u==null?void 0:u.data)!=null&&b.status?M((p=u==null?void 0:u.data)==null?void 0:p.data):te.error(`${(g=u==null?void 0:u.data)==null?void 0:g.message}`),v(!1)}).catch(function(u){console.log("= edit data error...",u),U(!0),v(!1)})},M=n=>{console.log("existing property details in prop address...",n),m.setFieldValue("id",n==null?void 0:n.id),m.setFieldValue("f_member_name",n==null?void 0:n.f_member_name),m.setFieldValue("f_member_relation",n==null?void 0:n.f_member_relation_name),m.setFieldValue("f_member_dob",n==null?void 0:n.f_member_dob),m.setFieldValue("upload_f_member_image",""),F(n==null?void 0:n.upload_f_member_image)},W=n=>{v(!0);let s={id:n};B.post(f,s,$()).then(function(u){var c,b,p;console.log("fetch edit data response..",(c=u==null?void 0:u.data)==null?void 0:c.data),(b=u==null?void 0:u.data)!=null&&b.status?t==null||t.getemployeeFamilyById(t==null?void 0:t.id):te.error(`${(p=u==null?void 0:u.data)==null?void 0:p.message}`),v(!1)}).catch(function(u){console.log("= edit data error...",u),U(!0),v(!1)})};return e.jsxs(e.Fragment,{children:[Y&&e.jsx(ue,{}),e.jsx("div",{className:"h-[70vh] w-[90%] bg-white overflow-auto  border border-slate-300 rounded-[15px]  max-[600px]:w-[95%]  max-[600px]:pb-[7vh] max-[320px]:pb-[10vh]",children:e.jsxs("form",{className:" ml-[1vh]   overflow-auto bg-white  ",onSubmit:m.handleSubmit,onChange:X,encType:"multipart/form-data",children:[e.jsxs("div",{className:"mb-[1vh]",children:[e.jsx("h1",{style:{zIndex:100},className:" flex items-start justify-start pt-2 my-1 font-bold text-[2.5vh]  text-[#6b7280] pl-[52px]  bg-white w-full ",children:e.jsxs("div",{className:"flex",children:[e.jsx("img",{src:ut,alt:"Basic",className:"mr-5 w-10 h-10 opacity-80"})," ",e.jsx("span",{className:"flex items-center justify-center mt-2 text-[22px]",children:"Family Detail"})]})}),e.jsx("hr",{className:"mx-[40px]"}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleSatulations",className:" label",children:"Name"}),e.jsx("br",{}),e.jsx("input",{name:"f_member_name",className:"input",onChange:m.handleChange,value:m.values.f_member_name,type:"text"})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleEmail",className:"label",children:"Relation"}),e.jsx("br",{}),e.jsx("select",{name:"f_member_relation",className:"input",onChange:m.handleChange,value:m.values.f_member_relation,children:(I=z==null?void 0:z.f_member_relation)==null?void 0:I.map(n=>e.jsx("option",{value:n==null?void 0:n.subCatName,children:n==null?void 0:n.subCatName}))})]})})]}),e.jsxs("div",{className:"w-[95%] mt-[30px] flex mb-[20px] px-[10px] max-[917px]:block max-[917px]:w-[70%] max-[917px]:items-start max-[917px]:justify-start",children:[e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleMiddlename",className:"label2",children:"Date Of Birth"}),e.jsx("input",{name:"f_member_dob",className:"input",type:"date",max:new Date().toISOString().split("T")[0],onChange:m.handleChange,value:m.values.f_member_dob})]})}),e.jsx("div",{className:"w-full mx-[10px]  px-[10px]",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exampleGender",className:"label",children:"Upload Image"}),e.jsx("br",{}),e.jsxs("div",{className:"block justify-start",children:[e.jsx("label",{htmlFor:"upload_f_member_image",className:"form-control ml-[36px]  rounded-[10px] h-10 block w-full border border-gray-200 px-3 py-2 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:"Choose File"}),e.jsx("input",{name:"upload_f_member_image",className:"sr-only input2",type:"file",id:"upload_f_member_image",accept:"image/jpeg,image/jpg,image/png",onChange:n=>{m.setFieldValue("upload_f_member_image",n.target.files[0])}}),m.values.upload_f_member_image&&y!==null?`${(k=m.values.upload_f_member_image)==null?void 0:k.name}`.slice(`${(Z=m.values.upload_f_member_image)==null?void 0:Z.name}`.lastIndexOf("-")+1||`${(d=m.values.eventDocs)==null?void 0:d.name}`.lastIndexOf("/")+1||`${(C=m.values.eventDocs)==null?void 0:C.name}`.lastIndexOf("\\")+1||`${(H=m.values.eventDocs)==null?void 0:H.name}`.lastIndexOf(".")+1||`${(r=m.values.eventDocs)==null?void 0:r.name}`.lastIndexOf(" ")+1||`${(w=m.values.eventDocs)==null?void 0:w.name}`.lastIndexOf(",")+1||`${(_=m.values.eventDocs)==null?void 0:_.name}`.lastIndexOf("?")+1,`${(D=m.values.eventDocs)==null?void 0:D.name}`.length):m.values.upload_f_member_image&&y===null?(i=m.values.upload_f_member_image)==null?void 0:i.name:S&&y!==null?e.jsx("img",{src:`${xe}/${S}`}):"No file selected"]})]})})]}),e.jsx("button",{type:"submit",className:"next-btn",children:y!==null?"Update Form":"Add Form"})]}),e.jsx("br",{}),e.jsx("div",{className:"mb-[1vh]",children:e.jsx("div",{className:"w-full mt-[10px] flex justify-center items-center mb-[10px]   max-[768px]:pl-1 max-[768px]:pr-2 overflow-auto  max-[768px]:w-[750px]",children:e.jsxs("table",{className:"justify-center items-center",children:[e.jsx("thead",{className:" text-black bg-[#98D4D2] text-[20px]  w-full   arimo border border-gray h-[2vh] ",children:e.jsxs("tr",{className:"py-2  w-full flex items-start justify-start text-center",children:[e.jsx("th",{className:"w-[10vh] flex items-center justify-center",children:"S.No"}),e.jsx("th",{className:"w-[23vh] flex items-start justify-start",children:"Family Name"}),e.jsx("th",{className:"w-[23vh] flex items-start justify-start",children:"Relation"}),e.jsx("th",{className:"w-[23vh] flex items-start justify-start",children:"Date Of Birth"}),e.jsx("th",{className:"w-[23vh] flex items-start justify-start",children:"Uploaded Image"}),e.jsx("th",{className:"w-[23vh] flex items-start justify-start",children:"Action"})]})}),e.jsx("tbody",{children:t!=null&&t.readymadeListData?(t==null?void 0:t.readymadeListData)&&(t==null?void 0:t.readymadeListData.map((n,s)=>(console.log(n),e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"py-2 pl-4 w-full text-[16px] flex items-center justify-center text-[#696969] text-left verdana even:bg-gray-100",children:[e.jsx("td",{className:"w-[10vh] flex items-start justify-start",children:K(s+1)}),e.jsx("td",{className:"w-[23vh] flex items-start justify-start",children:K(n.f_member_name)}),e.jsx("td",{className:"w-[23vh] flex items-start justify-start",children:K(n.f_member_relation_name)}),e.jsx("td",{className:"w-[23vh] flex items-start justify-start",children:K(n.f_member_dob)}),e.jsx("td",{className:"w-[23vh] flex items-start justify-start",children:e.jsx("img",{src:`${xe}/${n.upload_f_member_image}`,alt:"family",className:"w-[10vh] h-[10vh]"})}),e.jsxs("td",{className:"w-[23vh] flex items-start justify-start",children:[e.jsx("button",{type:"button",onClick:()=>{Q(n==null?void 0:n.id),le(n==null?void 0:n.id)},className:" text-indigo-600 px-[5px] py-[2px] rounded-[5px]",children:e.jsx(Te,{size:30})}),e.jsx("button",{type:"button",onClick:()=>W(n==null?void 0:n.id),className:" text-red-600 px-[5px] py-[2px] rounded-[5px]",children:e.jsx(Ue,{size:30})})]})]},s)})))):e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex items-center justify-center opacity-[0.5] py-2 pl-4 w-full text-[16px]  verdana h-auto",children:e.jsx("img",{src:ze,alt:"nodata",className:"w-[200px] h-[200px]"})})})})]})})})]})})]})}function qt(){const[t,z]=o.useState([]),[N,Y]=o.useState([]),[v,q]=o.useState([]),[U,y]=o.useState(!1),[Q,S]=o.useState(!1),[F,ae]=o.useState(null),[ee,f]=o.useState(),{api_getEmployeeDataById:se,api_retrieveEducationData:A,api_retrieveExperienceData:L,api_retrieveFamilyData:m}=oe(),{id:T}=gt(),X=()=>{y(!0),B.post(se,{id:T},$()).then(function(n){var s,u,c;console.log("Category By Name..",(s=n==null?void 0:n.data)==null?void 0:s.data),(u=n==null?void 0:n.data)!=null&&u.status?f((c=n==null?void 0:n.data)==null?void 0:c.data):i(!0,"Error occured while fetching data."),y(!1)}).catch(function(n){console.log("==2 error list...",n),i(!0,"Error occured while fetching data."),y(!1)})},le=()=>{y(!0),B.post(A,{empId:T},$()).then(function(n){var s,u,c;console.log("Education By Name..",(s=n==null?void 0:n.data)==null?void 0:s.data),(u=n==null?void 0:n.data)!=null&&u.status?z((c=n==null?void 0:n.data)==null?void 0:c.data):i(!0,"Error occured while fetching data."),y(!1)}).catch(function(n){console.log("==2 error list...",n),i(!0,"Error occured while fetching data."),y(!1)})},M=()=>{y(!0),B.post(L,{empId:T},$()).then(function(n){var s,u,c;console.log("Experience By Name..",(s=n==null?void 0:n.data)==null?void 0:s.data),(u=n==null?void 0:n.data)!=null&&u.status?Y((c=n==null?void 0:n.data)==null?void 0:c.data):i(!0,"Error occured while fetching data."),y(!1)}).catch(function(n){console.log("==2 error list...",n),i(!0,"Error occured while fetching data."),y(!1)})},W=()=>{y(!0),B.post(m,{empId:T},$()).then(function(n){var s,u,c;console.log("Education By Name..",(s=n==null?void 0:n.data)==null?void 0:s.data),(u=n==null?void 0:n.data)!=null&&u.status?q((c=n==null?void 0:n.data)==null?void 0:c.data):i(!0,"Error occured while fetching data."),y(!1)}).catch(function(n){console.log("==2 error list...",n),i(!0,"Error occured while fetching data."),y(!1)})};console.log(t,N),o.useEffect(()=>{X(),le(),M(),W()},[]);const[I,k]=o.useState(1),[Z,d]=o.useState();o.useState(!1),o.useState(!1),o.useState(!1),o.useState(!1),o.useState(!1),o.useState(!1);const[C,H]=o.useState();o.useEffect(()=>{H(ee)},[ee]);const[r,w]=o.useState([]),_=n=>{n==1&&k(1),n==2&&k(2),n==3&&k(3),n==4&&k(4),n==5&&k(5),n==6&&k(6),n==7&&k(7),n==8&&k(8)},D=(n,s)=>{w({...r,[n]:s})};console.log("allformData",r),console.log("family",Z);const i=(n,s)=>{ae(s),S(n)};return e.jsxs(e.Fragment,{children:[U&&e.jsx(ue,{}),Q&&e.jsx(vt,{activateBottomErrorCard:i,errorTitle:F}),e.jsxs("div",{className:"w-full bg-white h-[86vh] block relative max-[1200px]:overflow-hidden",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("h1",{className:"flex justify-center text-[3.2vh] text-gray-700 font-bold",children:"Employee Registration"}),e.jsx("h2",{className:"flex justify-center text-[2vh] text-gray-500 font-bold",children:"Registration Form: Please provide the following information"})]}),e.jsxs("div",{className:" flex items-center justify-center flex-wrap",children:[e.jsx("button",{className:I==1?"bg-[#0F766E] text-white border-[#0F766E] border px-8 py-2 rounded-lg m-5":"bg-white text-[#0F766E] border-[#0F766E] border px-8 py-2 rounded-lg  m-5",onClick:()=>k(1),children:"BASIC DETAILS"}),e.jsx("button",{className:I==2?"bg-[#0F766E] text-white border-[#0F766E] border px-8 py-2 rounded-lg m-5":"bg-white text-[#0F766E] border-[#0F766E] border px-8 py-2 rounded-lg  m-5",onClick:()=>k(2),children:"ADDRESS DETAILS"}),e.jsx("button",{className:I==3?"bg-[#0F766E] text-white border-[#0F766E] border px-8 py-2 rounded-lg m-5":"bg-white text-[#0F766E] border-[#0F766E] border px-8 py-2 rounded-lg  m-5",onClick:()=>k(3),children:"BANK DETAILS"}),e.jsx("button",{className:I==4?"bg-[#0F766E] text-white border-[#0F766E] border px-8 py-2 rounded-lg m-5":"bg-white text-[#0F766E] border-[#0F766E] border px-8 py-2 rounded-lg  m-5",onClick:()=>k(4),children:"EDUCATION DETAILS"}),e.jsx("button",{className:I==5?"bg-[#0F766E] text-white border-[#0F766E] border px-8 py-2 rounded-lg m-5":"bg-white text-[#0F766E] border-[#0F766E] border px-8 py-2 rounded-lg  m-5",onClick:()=>k(5),children:"EXPERIENCE DETAILS"}),e.jsx("button",{className:I==6?"bg-[#0F766E] text-white border-[#0F766E] border px-8 py-2 rounded-lg m-5":"bg-white text-[#0F766E] border-[#0F766E] border px-8 py-2 rounded-lg  m-5",onClick:()=>k(6),children:"FAMILY DETAILS"})]}),e.jsxs("div",{className:"w-full mx-[5%] mb-[3%]  absolute",children:[e.jsx("div",{className:` absolute ${I==1?"block":"hidden"} w-full pb-10`,children:e.jsx(wt,{setFormDataFun:D,setCounterFun:_,editValue:C==null?void 0:C.basic_details,getemployeebyidUser:X,id:T})}),e.jsx("div",{className:` absolute ${I==2?"block":"hidden"} w-full pb-10`,children:e.jsx(Ct,{setFormDataFun:D,setCounterFun:_,editValue:C==null?void 0:C.basic_details,getemployeebyidUser:X,id:T})}),e.jsx("div",{className:` absolute ${I==3?"block":"hidden"} w-full`,children:e.jsx(Et,{setFormDataFun:D,setCounterFun:_,editValue:C==null?void 0:C.basic_details,getemployeebyidUser:X,id:T})}),e.jsx("div",{className:` absolute ${I==4?"block":"hidden"} w-full`,children:e.jsx(Ft,{setFormDataFun:D,setCounterFun:_,readymadeListData:t,setreadymadeListData:z,getemployeeEducationById:le,id:T,editValue:C==null?void 0:C.basic_details})}),e.jsx("div",{className:` absolute ${I==5?"block":"hidden"} w-full`,children:e.jsx(St,{setFormDataFun:D,setCounterFun:_,readymadeListData:N,setreadymadeListData:Y,editValue:C==null?void 0:C.basic_details,getemployeeExperienceById:M,id:T})}),e.jsx("div",{className:` absolute ${I==6?"block":"hidden"} w-full`,children:e.jsx(kt,{setFormDataFun:D,setCounterFun:_,readymadeListData:v,setreadymadeListData:q,editValue:C==null?void 0:C.basic_details,getemployeeFamilyById:W,id:T})})]})]})]})}export{qt as default};
