import{r as c,u as _,c as $,a as I,b as V,j as t,B as H,C as O,A as R,e as T,g as z}from"./index-21aade66.js";import{B as D}from"./BottomErrorCard-c4e8289a.js";function K(i){const{isOpen:y,toggle:o}=i,[E,S]=c.useState(!1),[k,C]=c.useState(null),[B,n]=c.useState(!1),{api_searchStudentByIdList:F}=z(),x=_(),A={admissionNo:""},L=$({admissionNo:I().required("Admission Number is required feild")}),s=V({initialValues:A,onSubmit:a=>{console.log(a),p(a)},validationSchema:L}),p=a=>{n(!0);let l,r,M={admissionNo:a.admissionNo};l=F,r=M,R.post(l,r,T()).then(function(e){var m,h,u,f,b,N,g,j,v,w;console.log("category master..",(m=e==null?void 0:e.data)==null?void 0:m.data),((h=e==null?void 0:e.data)==null?void 0:h.status)===!0?(f=(u=e==null?void 0:e.data)==null?void 0:u.data)!=null&&f.admission_no?(x("/add-new-student"),localStorage.setItem("admission_no",(N=(b=e==null?void 0:e.data)==null?void 0:b.data)==null?void 0:N.admission_no)):(j=(g=e==null?void 0:e.data)==null?void 0:g.data)!=null&&j.id&&(x(`/edit-student/${(w=(v=e==null?void 0:e.data)==null?void 0:v.data)==null?void 0:w.id}`),d(!0,"Admission No. already existing")):d(!0,"Error occured while fetching data."),n(!1)}).catch(function(e){console.log("==2 error list...",e),d(!0,"Error occured while fetching data."),n(!1)})},d=(a,l)=>{C(l),S(a)},q=a=>{let l=a.target.name,r=a.target.value;l=="admissionNo"&&s.setFieldValue("admissionNo",r.trim())};return t.jsxs(t.Fragment,{children:[B&&t.jsx(H,{}),E&&t.jsx(D,{activateBottomErrorCard:d,errorTitle:k}),t.jsxs(O,{isOpen:y,children:[t.jsx("div",{toggle:o,className:"flex justify-between w-full px-[20px] py-[20px] text-[2.5vh] font-bold bg-[#0F766E] text-white rounded-t-[15px]",close:t.jsx("button",{onClick:()=>o(),children:"Ã—"}),children:t.jsx("h1",{children:"Search Admission No"})}),t.jsx("div",{className:"flex items-center  justify-center overflow-hidden bg-white rounded-b-[15px] h-auto max-[606px]:h-[35vh]",children:t.jsx("div",{className:"block w-full   m-[20px] max[784px]:m-[10]",children:t.jsxs("form",{onSubmit:s.handleSubmit,onChange:q,children:[t.jsx("div",{className:"w-full h-auto bg-white px-[20px] py-[20px] max[784px]:px-[0px]",children:t.jsx("div",{className:"m-3 block ",children:t.jsxs("div",{className:"flex max-[425px]:block",children:[t.jsxs("label",{className:"w-[25vh] mr-2 text-[2vh] text-teal-900 flex items-center justify-center max-[625px]:w-full",children:["Admission No.",t.jsx("span",{className:"text-red-600 ml-1 mr-1",children:"*"})]}),t.jsxs("div",{className:"block",children:[t.jsx("input",{name:"admissionNo",type:"text",onChange:s.handleChange,value:s.values.admissionNo,className:"w-[40vh] h-11  p-3 flex text-[2vh]  items-start justify-start  border border-[#E5E7E9] bg-white rounded-[5px] max-[825px]:w-full max-[825px]:h-full"}),t.jsx("br",{}),t.jsx("span",{className:"text-red-600 text-xs",children:s.touched.admissionNo&&s.errors.admissionNo?s.errors.admissionNo:null})]})]})})}),t.jsxs("div",{className:" w-full h-[8vh] flex items-center justify-center max-[768px]:block mb-5 max-[768px]:ml-5",children:[t.jsx("button",{type:"submit",className:"text-[2vh] bg-[#0F766E] text-white border border-[#0F766E]  py-[7px] px-[20px] rounded-[5px] m-[20px] hover:text-[#0F766E] hover:border-[#0F766E] hover:bg-white",children:"Search"}),t.jsx("button",{onClick:()=>{o(),i!=null&&i.Link&&x(`${i==null?void 0:i.Link}`)},type:"cancel",className:"text-[2vh] border-red-600 border text-white bg-red-600 px-[20px] py-[7px]  rounded-[5px] hover:border-red-600 hover:bg-white hover:text-red-600",children:"Cancel"})]}),t.jsx("div",{className:"mb-5 w-full flex justify-center items-center max-[350px]:items-end max-[350px]:mt-12",children:t.jsxs("h1",{className:"text-gray-500",children:["Note : (",t.jsx("span",{className:"text-red-600",children:"*"}),") marks is mandatory."]})})]})})})]})]})}export{K as s};
