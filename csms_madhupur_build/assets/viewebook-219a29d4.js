import{r as l,A as K,e as Q,Q as n,j as t,T as U,I as W,_ as F,g as J}from"./index-21aade66.js";function Z(){const[m,f]=l.useState([]),[s,u]=l.useState(!1),[O,x]=l.useState(!1),[i,g]=l.useState(1),[r,X]=l.useState(10),[b,v]=l.useState(),[M,j]=l.useState(),[o,R]=l.useState(),{api_getebookData:V,api_searchebookData:q}=J();console.log(M),console.log(m);const G=e=>{g(e-1)},H=e=>{g(e+1)};l.useEffect(()=>{c()},[]),l.useEffect(()=>{i&&s&&c()},[i,s]),l.useEffect(()=>{r&&s&&c()},[r,s]);const c=e=>{console.log(e);let d,h;e===void 0?(h={perPage:r,page:i},d=V):(h={search:e,perPage:r,page:i},d=q),x(!0),K.post(d,h,Q()).then(function(a){var w,N,y,p,k,_,S,D,P,A,E,C,L,T,$,B,I,z;((w=a==null?void 0:a.data)==null?void 0:w.status)===!0?((y=(N=a==null?void 0:a.data)==null?void 0:N.data)==null?void 0:y.total)===0?(n.error("Data not Found"),f((k=(p=a==null?void 0:a.data)==null?void 0:p.data)==null?void 0:k.data),v((S=(_=a==null?void 0:a.data)==null?void 0:_.data)==null?void 0:S.last_page),j((P=(D=a==null?void 0:a.data)==null?void 0:D.data)==null?void 0:P.total),u(!1)):(console.log("Class data",(E=(A=a==null?void 0:a.data)==null?void 0:A.data)==null?void 0:E.data),f((L=(C=a==null?void 0:a.data)==null?void 0:C.data)==null?void 0:L.data),v(($=(T=a==null?void 0:a.data)==null?void 0:T.data)==null?void 0:$.last_page),j((I=(B=a==null?void 0:a.data)==null?void 0:B.data)==null?void 0:I.total),u(!1)):n.error(`${(z=a==null?void 0:a.data)==null?void 0:z.message}`),x(!1)}).catch(function(a){n.warning("Error occured while fetching data."),x(!1)})};return t.jsx("div",{children:t.jsxs("div",{classNameName:"p-6 h-[76vh] ",children:[t.jsx("h1",{className:" text-[4vh] text-[#4338ca] font-bold ",children:"View Book Gallery"}),t.jsx("div",{className:" w-full px-[40%] flex items-center justify-end mt-2",children:t.jsx(U,{id:"search",type:"search",label:"Search",size:"small",fullWidth:!0,onChange:e=>{e.target.value===""?c():R(e.target.value)},onKeyDown:e=>e.key==="Enter"&&c(o),sx:{width:"100%"},InputProps:{endAdornment:t.jsx(W,{position:"end",sx:{marginRight:"-14px"},children:t.jsx("button",{onClick:()=>{o===""?c():c(o)},className:"bg-[#3b82f6] w-14 max-[320px]:w-8 h-10 rounded-r-[5px] flex items-center justify-center text-white",type:"submit",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-5 w-5 ",children:t.jsx("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})})})})}})}),t.jsxs("div",{className:"flex flex-wrap items-center justify-center mt-[1vh] h-[72vh] overflow-auto",children:[m.map((e,d)=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"block w-[40vh] h-[50vh] m-[10px] rounded-[10px] shadow-lg",children:[t.jsx("div",{className:"w-[40vh] h-[25vh] rounded-t-[10px]",children:t.jsx("img",{src:`${F}/api/${e==null?void 0:e.cover_pic_docs}`,alt:"pic1",className:"h-[100%] w-[100%] rounded-t-[10px]"})}),t.jsxs("div",{classNameName:"w-full flex items-center justify-between px-5 ",children:[t.jsxs("div",{className:"flex mt-3",children:[" ",t.jsx("div",{className:"w-full text-left ml-[5vh]",children:t.jsx("h1",{className:"text-[3vh] font-extrabold text-transparent bg-clip-text bg-gradient-to-br from-pink-400 to-red-600 ",children:e==null?void 0:e.book_name})})]}),t.jsxs("div",{className:"flex ",children:[" ",t.jsx("div",{className:"w-full text-left ml-[5vh]",children:t.jsx("h1",{className:"text-[2vh] text-transparent bg-clip-text bg-gradient-to-br from-cyan-400 to-black ",children:e==null?void 0:e.author_name})})]}),t.jsxs("div",{className:"flex ",children:[" ",t.jsx("div",{className:"w-full text-left ml-[5vh]",children:t.jsx("h1",{className:"text-[2vh] text-transparent bg-clip-text bg-gradient-to-br from-cyan-400 to-black ",children:e==null?void 0:e.publish_by})})]}),t.jsxs("div",{className:"flex ",children:[" ",t.jsx("div",{className:"w-full text-left ml-[5vh]",children:t.jsxs("h1",{className:"text-[2vh] text-transparent bg-clip-text bg-gradient-to-br from-cyan-400 to-black ",children:["$ ",e==null?void 0:e.price]})})]}),t.jsx("button",{className:"text-white bg-gradient-to-r from-[yellow] to-[#0c0a09] font-bold px-12 py-2 rounded-[10px]",children:t.jsx("a",{href:`${F}/api/${e==null?void 0:e.ebook_docs}`,target:"_blank",children:"View"})})]})]})})),t.jsxs("div",{className:"mt-3 w-full flex items-center justify-between px-10 my-2",children:[t.jsx("button",{type:"submit",className:(i===1?"opacity-50":"opacity-100")+"bg-white text-red-600 border-red-600 border px-8 py-2 rounded-lg hover:text-white text-[2vh] hover:bg-red-600",onClick:()=>G(i),disabled:i===1,children:"Previous"}),t.jsxs("button",{className:(i===b?"opacity-50":"opacity-100")+"bg-white text-indigo-600 border-indigo-600 border px-8 py-2 rounded-lg hover:text-white text-[2vh] hover:bg-indigo-600",onClick:()=>H(i),disabled:i===b,children:[" ","Next"]})]})]})]})})}export{Z as default};
