import{u as U,r as l,A as W,Q as u,j as a,B as J,T as O,I as X,_ as Y,g as Z}from"./index-21aade66.js";import{A as tt}from"./ApiHeader2-f80ad0bc.js";function it(){const $=U(),[z,o]=l.useState(!1),[d,m]=l.useState(!1),[i,f]=l.useState(1),[r,at]=l.useState(10),[M,g]=l.useState(),[R,v]=l.useState(),[x,V]=l.useState(),[h,w]=l.useState([]);l.useState(!1);const{api_retrieve_gallery:q,api_search_gallery:G}=Z();console.log(R);const H=h;console.log(h);const K=e=>{f(e-1)},Q=e=>{f(e+1)};l.useEffect(()=>{i&&d&&c()},[i,d]),l.useEffect(()=>{r&&d&&c()},[r,d]),l.useEffect(()=>{c()},[]);const c=e=>{console.log("initialvalue",e,r,i);let s,n;e===void 0?(n={perPage:r,page:i},s=q):(n={search:e},s=G),o(!0),W.post(s,n,tt()).then(function(t){var b,j,y,N,E,S,k,P,_,p,A,C,D,L,B,F,I,T;((b=t==null?void 0:t.data)==null?void 0:b.status)===!0?((y=(j=t==null?void 0:t.data)==null?void 0:j.data)==null?void 0:y.total)===0?(u.error("Data not Found"),w((E=(N=t==null?void 0:t.data)==null?void 0:N.data)==null?void 0:E.data),g((k=(S=t==null?void 0:t.data)==null?void 0:S.data)==null?void 0:k.last_page),v((_=(P=t==null?void 0:t.data)==null?void 0:P.data)==null?void 0:_.total),m(!1)):(console.log("exam term data",(A=(p=t==null?void 0:t.data)==null?void 0:p.data)==null?void 0:A.data),w((D=(C=t==null?void 0:t.data)==null?void 0:C.data)==null?void 0:D.data),g((B=(L=t==null?void 0:t.data)==null?void 0:L.data)==null?void 0:B.last_page),v((I=(F=t==null?void 0:t.data)==null?void 0:F.data)==null?void 0:I.total),m(!1)):u.error(`${(T=t==null?void 0:t.data)==null?void 0:T.message}`),o(!1)}).catch(function(t){u.warning("Error occured while fetching data."),o(!1)})};return console.log("hello",h),a.jsxs("div",{children:[z&&a.jsx(J,{}),a.jsxs("div",{classNameName:"p-6 h-[76vh] ",children:[a.jsx("h1",{className:" text-[4vh] text-[#4338ca] font-bold ",children:"View Image Gallery"}),a.jsx("div",{className:" w-full px-[40%] flex items-center justify-end mt-2",children:a.jsx(O,{id:"search",type:"search",label:"Search",size:"small",fullWidth:!0,onChange:e=>{e.target.value===""?c():V(e.target.value)},onKeyDown:e=>e.key==="Enter"&&c(x),sx:{width:"100%"},InputProps:{endAdornment:a.jsx(X,{position:"end",sx:{marginRight:"-14px"},children:a.jsx("button",{onClick:()=>{x===""?c():c(x)},className:"bg-[#0F766E] w-14 max-[320px]:w-8 h-10 rounded-r-[5px] flex items-center justify-center text-white",type:"submit",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-5 w-5 ",children:a.jsx("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})})})})}})}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center mt-[1vh] h-[72vh] overflow-auto",children:[H.map((e,s)=>a.jsxs("div",{className:"block w-[40vh] h-[40vh] m-[10px] rounded-[10px] shadow-lg",children:[a.jsx("div",{className:"w-[40vh] h-[25vh] rounded-t-[10px]",children:a.jsx("img",{src:`${Y}/api/${e==null?void 0:e.cover_pic_docs}`,alt:"pic1",className:"h-[100%] w-[100%] rounded-t-[10px]"})}),a.jsxs("div",{classNameName:"w-full flex items-center justify-center px-5 ",children:[a.jsxs("div",{className:"flex mt-3 ",children:[" ",a.jsx("div",{className:"w-full ml-[5vh]",children:a.jsx("h1",{className:"text-[3vh] font-extrabold text-transparent bg-clip-text bg-gradient-to-br from-cyan-400 to-black ",children:e==null?void 0:e.category})})]}),a.jsx("button",{className:"mt-2 text-white bg-gradient-to-r from-[yellow] to-[#0c0a09] font-bold px-12 py-2 rounded-[10px]",onClick:()=>$(`/show-galleryimage/${e.category}`),children:"View Pic Collection"})]})]})),a.jsxs("div",{className:"mt-3 w-full flex items-center justify-between px-10 my-2",children:[a.jsx("button",{type:"submit",className:"bg-white text-red-600 border-red-600 border px-8 py-2 rounded-lg hover:text-white text-[2vh] hover:bg-red-600",disabled:i===1,onClick:()=>K(i),children:"Previous"}),a.jsx("button",{className:"bg-white text-[#0F766E] border-[#0F766E] border px-8 py-2 rounded-lg hover:text-white text-[2vh] hover:bg-[#0F766E]",disabled:i===M,onClick:()=>Q(i),children:" Next"})]})]})]})]})}export{it as default};
