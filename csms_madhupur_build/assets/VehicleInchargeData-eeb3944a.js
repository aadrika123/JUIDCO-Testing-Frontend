import{r as l,u as ua,s as ma,b as ga,j as t,B as xa,D as fa,Y as ja,t as va,U as Na,_ as ba,$ as Sa,n as g,A as z,e as J,g as _a}from"./index-21aade66.js";import{T as ya}from"./Tabs-65330aff.js";import{B as wa}from"./BottomErrorCard-c4e8289a.js";function Da(){const[x,f]=l.useState([]),[j,Ca]=l.useState(!0),[Y,d]=l.useState(!1),[v,G]=l.useState(!1),[K,Q]=l.useState(null),[W,X]=l.useState(null),[Z,m]=l.useState(!1),[N,p]=l.useState(),[n,b]=l.useState(1),[h,aa]=l.useState(10),[ta,S]=l.useState(),[ea,_]=l.useState();l.useState();const{api_getVehicle_inchargeData:ia,api_deleteVehicle_inchargeData:la,api_searchVehicle_inchargeData:sa}=_a(),y=ua();ma("City Type Master");const r=[{id:1,fee_head:10,fee_head_type:10,desc:"hello"},{id:2,fee_head:10,fee_head_type:10,desc:"hello"},{id:3,fee_head:10,fee_head_type:10,desc:"hello"},{id:4,fee_head:10,fee_head_type:10,desc:"hello"},{id:5,fee_head:10,fee_head_type:10,desc:"hello"}],w=ga({initialValues:{search:""},onSubmit:(e,i)=>{console.log("at submit ",e),o(e)}}),ca=[{Header:"Sl No.",Cell:({cell:e})=>t.jsx("span",{children:(n-1)*h+e.row.index+1})},{Header:"Incharge Name",accessor:"incharge_name"},{Header:"Email",accessor:"email"},{Header:"Mobile No.",accessor:"mobile"},{Header:"Address",accessor:"address"},{Header:"Aadhar No.",accessor:"aadhar_no"},{Header:"Country",accessor:"country_name"},{Header:"State",accessor:"state_name"},{Header:"City",accessor:"city_name"},{Header:"View",accessor:"aadhar_doc",Cell:({cell:e})=>{var i;return t.jsx("a",{href:`${ba}/api/${(i=e.row.original)==null?void 0:i.aadhar_doc}`,target:"_blank",className:"text-xl text-red-700 ",children:t.jsx(Sa,{className:"text-red bg-red w-8 h-8"})})}},{Header:"Status",Cell:({cell:e})=>{var i,s;return t.jsx("span",{className:((i=e.row.original)==null?void 0:i.status)==="Active"?"text-[green]":"text-[red]",children:g((s=e.row.original)==null?void 0:s.status)})}},{Header:"Created Date & Time",Cell:({cell:e})=>{var i,s;return t.jsxs("span",{children:[g((i=e.row.original)==null?void 0:i.date)," | ",g((s=e.row.original)==null?void 0:s.time)]})}},{Header:"Action",Cell:({cell:e})=>{var i,s;return t.jsxs("div",{className:"flex",children:[t.jsx("button",{onClick:()=>{var a;return y(`/vehicleincharge-form/${(a=e.row.original)==null?void 0:a.id}`)},className:"edit-button-master",children:"Edit"}),t.jsx("button",{onClick:()=>{var a,c;X((a=e.row.original)==null?void 0:a.id),p(((c=e.row.original)==null?void 0:c.status)==="Active"?"deactive":"active"),m(!0)},className:`${((i=e.row.original)==null?void 0:i.status)=="Active"?"deactivate-button-master":"deactivate-second-button-master"}`,children:((s=e.row.original)==null?void 0:s.status)==="Active"?"Deactivate":"Activate"})]})}}],da=()=>{d(!0),m(!1);let e={id:W,status:N};z.post(la,e,J()).then(function(i){var s,a,c;console.log("delete response..",(s=i==null?void 0:i.data)==null?void 0:s.data),(a=i==null?void 0:i.data)!=null&&a.status?o():u(!0,`${(c=i==null?void 0:i.data)==null?void 0:c.message}`),d(!1)}).catch(function(i){console.log("==delete error...",i),u(!0,"Error occured in deletion."),d(!1)})},o=(e=null)=>{let i,s;e===null?(s={perPage:h,page:n},i=ia):(s={search:e==null?void 0:e.search},i=sa),d(!0),z.post(i,s,J()).then(function(a){var c,C,E,A,H,D,F,L,P,T,B,I,M,V,k,$,U,O,R,q;((c=a==null?void 0:a.data)==null?void 0:c.status)===!0?((E=(C=a==null?void 0:a.data)==null?void 0:C.data)==null?void 0:E.total)===0||((H=(A=a==null?void 0:a.data)==null?void 0:A.data)==null?void 0:H.data.length)===0?(toast.error("Data not Found"),f((F=(D=a==null?void 0:a.data)==null?void 0:D.data)==null?void 0:F.data),S((P=(L=a==null?void 0:a.data)==null?void 0:L.data)==null?void 0:P.last_page),_((B=(T=a==null?void 0:a.data)==null?void 0:T.data)==null?void 0:B.total)):(console.log("Teaching Title data",(M=(I=a==null?void 0:a.data)==null?void 0:I.data)==null?void 0:M.data),f((k=(V=a==null?void 0:a.data)==null?void 0:V.data)==null?void 0:k.data),S((U=($=a==null?void 0:a.data)==null?void 0:$.data)==null?void 0:U.last_page),_((R=(O=a==null?void 0:a.data)==null?void 0:O.data)==null?void 0:R.total)):toast.error(`${(q=a==null?void 0:a.data)==null?void 0:q.message}`),d(!1)}).catch(function(a){console.log("==2 error list...",a),u(!0,"Error occured while fetching data."),d(!1)})},ra=x;console.log(x);const oa=e=>{aa(parseInt(e))},na=e=>{b(e-1)},ha=e=>{b(e+1)};l.useEffect(()=>{o()},[n]),l.useEffect(()=>{o()},[h]),l.useEffect(()=>{o()},[]);const u=(e,i)=>{Q(i),G(e)};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"main-div",children:t.jsxs("div",{className:"main-inner-div",children:[Y&&t.jsx(xa,{}),v&&t.jsx(wa,{activateBottomErrorCard:u,errorTitle:K}),v&&t.jsxs("div",{className:"alert-msg",role:"alert",children:[t.jsx("strong",{className:"sorry-msg",children:"Sorry! "}),t.jsx("span",{className:"some-error-msg",children:"Some error occured while fetching list. Please try again later"}),t.jsx("span",{className:"absolute-span"})]}),Z&&t.jsx(fa,{setdeleteStatus:m,deleteItem:da,deactivate:N}),t.jsxs("div",{className:"main-sub-div",children:[t.jsx("div",{className:"main-sub-inner-div",children:t.jsxs("div",{className:"text-div",children:[t.jsx("div",{className:"big-text",children:"Vehicle Incharge Master List"}),t.jsx("div",{className:"small-text text-teal-500",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),t.jsx("div",{className:"tab-div",children:t.jsxs("div",{className:"global-filter-div",children:[t.jsx("form",{onSubmit:w.handleSubmit,children:t.jsxs("div",{className:"global-filter flex",children:[t.jsx("input",{type:"search",placeholder:"Search...",...w.getFieldProps("search"),className:"bg-[#F2F4F4] h-10 pl-4 "}),t.jsx("button",{className:"bg-[#0F766E] w-14 max-[320px]:w-8 h-10 rounded-r-[5px] flex items-center justify-center text-white",type:"submit",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-5 w-5 ",children:t.jsx("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})})})," "]})}),t.jsx("div",{className:"hiplus-div",children:t.jsx("button",{onClick:()=>y("/vehicleincharge-form"),type:"button",className:"hiplus-button bg-[#0F766E]",children:t.jsx(ja,{className:"hiplus"})})})]})})]}),t.jsx(ya,{listRoute:"/vehicleincharge",formRoute:"/vehicleincharge-form"}),t.jsx("div",{className:"mt-6",children:t.jsx("span",{className:"lists text-[#0F766E]",children:"Vehicle Incharge List "})}),j&&(r==null?void 0:r.length)!=0&&t.jsx(va,{filter:!1,exportStatus:!1,assessmentType:!1,columns:ca,dataList:ra,pageNumber:ea}),t.jsx(Na,{ChangePage:oa,number:n,lastPage:ta,nextPage:ha,prevPage:na,postperpage:h}),j&&(r==null?void 0:r.length)==0&&t.jsx("div",{className:"data-not-found",children:"Data Not Found"})]})})})}export{Da as default};
