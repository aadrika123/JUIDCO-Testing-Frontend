import{r as a,j as e,T as F,A as U,Q as m,g as P}from"./index-21aade66.js";import{A as E}from"./ApiHeader2-f80ad0bc.js";const V=()=>{const[u,b]=a.useState(void 0),[x,y]=a.useState(""),[i,j]=a.useState(""),[c,f]=a.useState([]),[o,d]=a.useState([]),[n,w]=a.useState({val:[]}),[g,N]=a.useState([]);a.useState([]);const[L,h]=a.useState(!1);a.useState(!1),a.useState(null),a.useRef(null);const{api_videopost:S}=P(),C=s=>{let t=[];for(let l=0;l<s.target.files.length;l++)t.push(URL.createObjectURL(s.target.files[l]));b(s.target.files),d([...o,...t]),w({val:[]}),N([]),f([...c,...s.target.files])};console.log(u),console.log(c);const k=()=>{const s=new FormData;s.append("category",x),s.append("coverpic",i),c.forEach((l,r)=>{s.append(`videoUpload[${r}]`,l)});for(var t of s.entries())console.log(t[0]+" - "+t[1]);U.post(S,s,E()).then(function(l){var r,p,v;console.log("bank master..",(r=l==null?void 0:l.data)==null?void 0:r.data),((p=l==null?void 0:l.data)==null?void 0:p.status)===!0?(m.success("Data Added Successfully"),d([])):m.error(`${(v=l==null?void 0:l.data)==null?void 0:v.message}`),h(!1)}).catch(function(l){console.log("==2 error list...",l),m.warning("Error occured in submitting form."),h(!1)})},A=s=>{f(t=>t.filter(l=>{if(t.indexOf(l)!=s)return l})),d(t=>t.filter(l=>{if(t.indexOf(l)!=s)return l}))};return console.log(o,x),e.jsxs("div",{className:"w-full h-[76vh] lg:h-auto overflow-auto ",children:[e.jsxs("div",{className:"flex items-start justify-start flex-col mt-5 ml-5 ",children:[e.jsx("h1",{className:"text-4xl font-semibold text-gray-700",children:"Video Gallery Master"}),e.jsx("h1",{className:"text-gray-600 text-sm",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]}),e.jsx("div",{className:" mt-1 ml-3 mr-3 ",children:e.jsx("div",{className:"flex h-auto  items-start justify-start w-full",children:e.jsxs("div",{className:"grid grid-cols-12 w-full  ml-3 mr-3 ",children:[e.jsx("div",{className:"col-span-12  lg:col-span-4 w-full flex justify-center",children:e.jsxs("div",{className:"mt-8 border w-full  rounded-md relative",children:[e.jsxs("div",{className:"bg-white px-3 ",children:[" ",e.jsx("h1",{className:" absolute text-2xl bg-white flex font-semibold  -mt-4 text-gray-500 ml-9",children:"Add"})]}),e.jsxs("div",{className:"col-8 mt-[10vh] px-[20%]",children:[e.jsx("div",{className:"my-3 flex w-full",children:e.jsx(F,{id:"category",name:"category",label:"category",fullWidth:!0,size:"small",type:"text",onChange:s=>y(s.target.value),className:"form-control h-10 block w-full border border-gray-200 px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"})}),e.jsxs("div",{className:"my-3 block w-full",children:[e.jsx("label",{htmlFor:"coverpicUpload",className:"form-control h-10 block w-full border border-gray-200 px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:"Choose Cover Pic"}),i?i.name:"No file Selected",e.jsx("input",{id:"coverpicUpload",type:"file",accept:"image/*",onChange:s=>j(s.target.files[0]),className:"sr-only"})]}),e.jsxs("div",{className:"my-3 flex w-full",children:[e.jsx("label",{htmlFor:"videoUpload",className:"form-control h-10 block w-full border border-gray-200 px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:"Choose Video"}),e.jsx("input",{id:"videoUpload",type:"file",multiple:!0,accept:".mp4",onChange:C,className:"sr-only"})]})]}),e.jsx("div",{className:"col-4 mt-7",children:e.jsx("button",{className:"px-9 py-2.5 bg-[#6AB783] text-white font-medium text-sm leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out",disabled:!u,onClick:k,children:"Save"})})]})}),e.jsx("div",{className:"col-span-12 md:col-span-12 lg:col-span-8 w-full lg:ml-2 ",children:e.jsxs("div",{className:"mt-8 border   rounded-md relative",children:[e.jsxs("div",{className:"bg-white px-3 ",children:[" ",e.jsx("h1",{className:" absolute text-2xl bg-white flex font-semibold  -mt-4 text-gray-500 ml-9",children:"Preview"})]}),e.jsx("div",{className:"mt-5  ",children:e.jsxs("div",{className:"flex flex-wrap justify-between",children:[n&&n.val.length>0&&n.val.map((s,t)=>e.jsxs("div",{className:"mb-2 ",children:[e.jsx("span",{children:s.fileName}),e.jsx("div",{className:"progress",children:e.jsxs("div",{className:"progress-bar progress-bar-info",role:"progressbar","aria-valuenow":s.percentage,"aria-valuemin":"0","aria-valuemax":"100",style:{width:s.percentage+"%"},children:[s.percentage,"%"]})})]},t)),o&&e.jsx("div",{className:" h-[70vh] overflow-auto flex flex-wrap items-center justify-center",children:o.map((s,t)=>e.jsxs("div",{className:"block",children:[e.jsxs("video",{controls:!0,className:"w-[40vh] h-[40vh] mx-4 my-3",children:[e.jsx("source",{src:s,type:"video/mp4"}),"Your browser does not support the video tag."]}),e.jsx("button",{className:"text-white bg-gradient-to-r from-[yellow] to-[#0c0a09] font-bold px-12 py-2 rounded-[10px]",onClick:()=>A(t),children:"Remove"})]}))}),g.length>0&&e.jsx("div",{className:"alert alert-secondary mt-2",role:"alert",children:e.jsx("ul",{children:g.map((s,t)=>e.jsx("li",{children:s},t))})})]})})]})})]})})})]})};export{V as default};
