import{r as t,j as e,T as F,A as P,Q as m,g as U}from"./index-21aade66.js";import{A as E}from"./ApiHeader2-f80ad0bc.js";const R=()=>{const[u,v]=t.useState(void 0),[x,y]=t.useState(""),[i,j]=t.useState(""),[c,g]=t.useState([]),[o,n]=t.useState([]),[d,w]=t.useState({val:[]}),[f,N]=t.useState([]);t.useState([]);const[I,h]=t.useState(!1);t.useState(!1),t.useState(null),t.useRef(null);const{api_gallerypost:S}=U(),C=l=>{let a=[];for(let s=0;s<l.target.files.length;s++)a.push(URL.createObjectURL(l.target.files[s]));v(l.target.files),n([...o,...a]),w({val:[]}),N([]),g([...c,...l.target.files])};console.log(u),console.log(c);const k=()=>{const l=new FormData;l.append("category",x),l.append("coverPicDoc",i),c.forEach((s,r)=>{l.append(`picUpload[${r}]`,s)});for(var a of l.entries())console.log(a[0]+" - "+a[1]);P.post(S,l,E()).then(function(s){var r,p,b;console.log("bank master..",(r=s==null?void 0:s.data)==null?void 0:r.data),((p=s==null?void 0:s.data)==null?void 0:p.status)===!0?(m.success("Data Added Successfully"),n([])):m.error(`${(b=s==null?void 0:s.data)==null?void 0:b.message}`),h(!1)}).catch(function(s){console.log("==2 error list...",s),m.warning("Error occured in submitting form."),h(!1)})},A=l=>{g(a=>a.filter(s=>{if(a.indexOf(s)!=l)return s})),n(a=>a.filter(s=>{if(a.indexOf(s)!=l)return s}))};return console.log(o,x),e.jsxs("div",{className:"w-full h-[76vh] lg:h-auto overflow-auto ",children:[e.jsxs("div",{className:"flex items-start justify-start flex-col mt-5 ml-5 ",children:[e.jsx("h1",{className:"text-4xl font-semibold text-gray-700",children:"Image Gallery Master"}),e.jsx("h1",{className:"text-gray-600 text-sm",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]}),e.jsx("div",{className:" mt-1 ml-3 mr-3 ",children:e.jsx("div",{className:"flex h-auto  items-start justify-start w-full",children:e.jsxs("div",{className:"grid grid-cols-12 w-full  ml-3 mr-3 ",children:[e.jsx("div",{className:"col-span-12  lg:col-span-4 w-full flex justify-center",children:e.jsxs("div",{className:"mt-8 border w-full  rounded-md relative",children:[e.jsxs("div",{className:"bg-white px-3 ",children:[" ",e.jsx("h1",{className:" absolute text-2xl bg-white flex font-semibold  -mt-4 text-gray-500 ml-9",children:"Add"})]}),e.jsxs("div",{className:"col-8 mt-[10vh] px-[20%]",children:[e.jsx("div",{className:"my-3 flex w-full",children:e.jsx(F,{id:"category",name:"category",label:"category",fullWidth:!0,size:"small",type:"text",onChange:l=>y(l.target.value),className:"form-control h-10 block w-full border border-gray-200 px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"})}),e.jsxs("div",{className:"my-3 block w-full",children:[e.jsx("label",{htmlFor:"coverpicUpload",className:"form-control h-10 block w-full border border-gray-200 px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:"Choose Cover Pic"}),i?i.name:"No file Selected",e.jsx("input",{id:"coverpicUpload",type:"file",accept:"image/*",onChange:l=>j(l.target.files[0]),className:"sr-only"})]}),e.jsxs("div",{className:"my-3 flex w-full",children:[e.jsx("label",{htmlFor:"picUpload",className:"form-control h-10 block w-full border border-gray-200 px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:"Choose Image"}),e.jsx("input",{id:"picUpload",type:"file",multiple:!0,accept:"image/*",onChange:C,className:"sr-only"})]})]}),e.jsx("div",{className:"col-4 mt-7",children:e.jsx("button",{className:"px-9 py-2.5 bg-[#6AB783] text-white font-medium text-sm leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out",disabled:!u,onClick:k,children:"Save"})})]})}),e.jsx("div",{className:"col-span-12 md:col-span-12 lg:col-span-8 w-full lg:ml-2 ",children:e.jsxs("div",{className:"mt-8 border   rounded-md relative",children:[e.jsxs("div",{className:"bg-white px-3 ",children:[" ",e.jsx("h1",{className:" absolute text-2xl bg-white flex font-semibold  -mt-4 text-gray-500 ml-9",children:"Preview"})]}),e.jsx("div",{className:"mt-5  ",children:e.jsxs("div",{className:"flex flex-wrap justify-between",children:[d&&d.val.length>0&&d.val.map((l,a)=>e.jsxs("div",{className:"mb-2 ",children:[e.jsx("span",{children:l.fileName}),e.jsx("div",{className:"progress",children:e.jsxs("div",{className:"progress-bar progress-bar-info",role:"progressbar","aria-valuenow":l.percentage,"aria-valuemin":"0","aria-valuemax":"100",style:{width:l.percentage+"%"},children:[l.percentage,"%"]})})]},a)),o&&e.jsx("div",{className:" h-[70vh] overflow-auto flex flex-wrap items-center justify-center",children:o.map((l,a)=>e.jsxs("div",{className:"block",children:[e.jsx("img",{className:"w-[20vh] h-[20vh] mx-4",src:l,alt:"image-"+a},a),e.jsx("br",{}),e.jsx("button",{className:"text-white bg-gradient-to-r from-[yellow] to-[#0c0a09] font-bold px-12 py-2 rounded-[10px]",onClick:()=>A(a),children:"Remove"})]}))}),f.length>0&&e.jsx("div",{className:"alert alert-secondary mt-2",role:"alert",children:e.jsx("ul",{children:f.map((l,a)=>e.jsx("li",{children:l},a))})})]})})]})})]})})})]})};export{R as default};
