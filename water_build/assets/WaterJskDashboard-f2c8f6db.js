import{l as n,W as N,y as D,z as h,B as v,m as _,k as t,o as p,j as e,D as k,G as L,L as S,q as H,A,h as C}from"./index-4c3b7050.js";function j(){const[r,u]=n.useState(),[d,l]=n.useState(!1),[b,i]=n.useState(!1),{api_WaterListDetailsById:f,header:q}=N(),g=D({fromData:h().required("This is a required field !"),toData:h().required("This is a required field !")}),s=v({initialValues:{fromData:"",toData:""},onSubmit:a=>{w(a)},validationSchema:g}),x=_(),w=a=>{i(!0),l(!1);const c={fromDate:a.fromData,toDate:a.toData};console.log("before fetch applied application..",c),H.post(f,c,A()).then(o=>{var m;console.log("this ====applied application. in ...",o==null?void 0:o.data),u((m=o==null?void 0:o.data)==null?void 0:m.data),l(!0),i(!1)}).catch(o=>{console.log("Error while fetching Filter Data",o),l(!1),i(!1)})},y=[{Header:"Ward No.",accessor:"ward_name"},{Header:"ULB Name",accessor:"ulb_name"},{Header:"Application No",accessor:"application_no"},{Header:"Holding No",accessor:"holding_no"},{Header:"Apply Date",accessor:"apply_date",Cell:({cell:a})=>e("span",{children:C(a.row.original.apply_date).format("DD-MM-YYYY")})},{Header:"Payment",accessor:"all_payment_status",Cell:({cell:a})=>t(p,{children:[e("span",{children:a.row.original.all_payment_status==!0&&e("p",{className:"mx-5 text-center bg-green-500 text-white font-semibold rounded",children:"Paid"})}),e("span",{children:a.row.original.all_payment_status==!1&&e("p",{className:"mx-5 px-2 text-center bg-red-500 text-white font-semibold rounded",children:"UnPaid"})})]})},{Header:"Address",accessor:"address"},{Header:"Action",accessor:"id",Cell:({cell:a})=>e("button",{onClick:()=>x(`/waterViewApplication/${a.row.original.id}`),className:"bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:"View Application"})}];return t(p,{children:[b&&e(k,{}),t("div",{className:"border shadow-xl bg-white mt-6",children:[e("form",{onSubmit:s.handleSubmit,children:t("div",{className:"flex max-sm:justify-between gap-4 justify-center p-4 flex-wrap",children:[t("div",{className:"max-sm:w-full",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["From Date",e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"date",name:"fromData",onChange:s.handleChange,className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e("p",{className:"text-red-500 text-xs",children:s.touched.fromData&&s.errors.fromData?s.errors.fromData:null})]}),t("div",{className:"max-sm:w-full",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["To Date",e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"date",name:"toData",onChange:s.handleChange,className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e("p",{className:"text-red-500 text-xs",children:s.touched.toData&&s.errors.toData?s.errors.toData:null})]}),e("div",{className:"mt-4 max-sm:w-full",children:e("button",{type:"submit",className:" w-full border  border-indigo-600 bg-indigo-600 hover:bg-indigo-100 text-white hover:text-black shadow-lg rounded-lg text-base font-semibold max-sm:m-0 m-3 py-1",children:t("p",{className:"flex place-content-center",children:[t("span",{className:"mt-1 mr-2 my-2",children:[e(L,{})," "]}),"Search record"]})})})]})}),t("div",{className:"m-10",children:[d&&(r==null?void 0:r.length)!=0&&e(S,{columns:y,dataList:r}),d&&(r==null?void 0:r.length)==0&&e("div",{className:"text-xl font-semibold text-red-400 text-center",children:"Data Not Found"})]})]})]})}export{j as default};
