import{v as he,I as ge,m as Ne,W as pe,l,k as r,o as h,j as t,D as ye,M as x,J as fe,q as se}from"./index-4c3b7050.js";function ve(){var b,v,w,u,_,A,P,C,j,S,L,k,T,M,I,W,O,$,q,V,B,E,H,J,U,z,R,K,Q,X,Y,Z,G;const{id:c}=he();console.log("param",c),ge("Water View Application");const g=Ne(),{api_getPendingApplicationDetails:re,api_getdocumentscollected:de,header:N}=pe(),[e,ae]=l.useState(),[d,ce]=l.useState(),[le,n]=l.useState(!1),[ne,p]=l.useState(!1),[o,y]=l.useState(""),f=s=>{y(s),p(!0)},oe=()=>{p(!1),y("")},ie=()=>{n(!0),se.post(`${re}`,{applicationId:c},N).then(function(s){console.log("view Water full details ...",s.data.data),ae(s.data.data),n(!1)}).catch(function(s){console.log("==2 details by id error...",s),n(!1)})};l.useEffect(()=>{ie()},[c]);const xe=()=>{n(!0),se.post(`${de}`,{applicationId:c},N).then(function(s){console.log("documents to be collected ...",s.data.data),ce(s.data.data),n(!1)}).catch(function(s){console.log("==2 details by id error...",s),n(!1)})};l.useEffect(()=>{xe()},[c]);const a=JSON.parse(window.localStorage.getItem("UserDetails"));console.log("payment_status",a==null?void 0:a.name),console.log("documents to be collected applicationGetData ...",d==null?void 0:d.documentsList),console.log("owner documents list ...",d==null?void 0:d.ownersDocList);const me=s=>/\.(jpg|jpeg|png|gif)$/i.test(s);return r(h,{children:[le&&t(ye,{}),t("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container mx-auto w-full",children:r("div",{className:"col-span-12 rounded-lg pt-4",children:[r("div",{className:"flex max-sm:flex-col py-2 justify-center items-center",children:[r("div",{className:"flex-1 flex pl-2 font-bold text-2xl text-gray-700 pb-3",children:[" ","Application No -"," ",(b=e==null?void 0:e.applicationDetails)==null?void 0:b.application_no]}),r("div",{className:"flex justify-right items-center",children:[t("button",{className:"mr-4 bg-indigo-500  text-white px-4 py-1 shadow-lg hover:scale-105 rounded-sm",children:"Application Details"}),t("button",{onClick:()=>g(`/waterApplicationPaymentHistory/${c}`),className:"mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm",children:"Payment History"})]})]}),r("div",{className:"float-right max-sm:float-left font-bold text-xl mr-4 max-sm:w-full max-sm:pt-4 max-sm:pb-4",children:[t("span",{className:"text-base text-gray-600 max-sm:ml-3 ",children:"Current Designation"})," ",t("span",{className:"text-green-600",children:(v=e==null?void 0:e.applicationDetails)==null?void 0:v.current_role_name})]}),r("div",{className:"p-4",children:[r("div",{className:"",children:[r("h1",{className:"px-1 font-semibold font-serif  text-gray-500",children:[t(x,{className:"inline "})," Basic Details"]}),t("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-xl p-4",children:r("div",{className:"flex max-sm:flex-col space-x-5 p-3 max-sm:space-x-0 max-sm:space-y-4 ",children:[r("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:(w=e==null?void 0:e.applicationDetails)!=null&&w.ulb_name?(u=e==null?void 0:e.applicationDetails)==null?void 0:u.ulb_name:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"ULB Name"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-lg",children:(_=e==null?void 0:e.applicationDetails)!=null&&_.ward_name?(A=e==null?void 0:e.applicationDetails)==null?void 0:A.ward_name:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Ward No"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:(P=e==null?void 0:e.applicationDetails)!=null&&P.owner_char_type?(C=e==null?void 0:e.applicationDetails)==null?void 0:C.owner_char_type:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Ownership Type"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:(j=e==null?void 0:e.applicationDetails)!=null&&j.property_type?(S=e==null?void 0:e.applicationDetails)==null?void 0:S.property_type:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Property Type"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:(L=e==null?void 0:e.applicationDetails)!=null&&L.pipeline_type?(k=e==null?void 0:e.applicationDetails)==null?void 0:k.pipeline_type:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Pipeline Type"})]})]})})]}),r("h1",{className:"px-1 font-semibold font-serif mt-10 text-gray-500",children:[t(x,{className:"inline"})," Property Address & Details"]}),r("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-xl p-4",children:[r("div",{className:"flex space-x-10 pl-4 max-sm:flex-col max-sm:space-x-0 max-sm:space-y-3",children:[r("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:(T=e==null?void 0:e.applicationDetails)!=null&&T.connection_through?(M=e==null?void 0:e.applicationDetails)==null?void 0:M.connection_through:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Connection Through"})]}),(e==null?void 0:e.connection_through)=="SAF"?r("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:(I=e==null?void 0:e.applicationDetails)!=null&&I.saf_no?(W=e==null?void 0:e.applicationDetails)==null?void 0:W.saf_no:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"SAF No"})]}):r("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:(O=e==null?void 0:e.applicationDetails)!=null&&O.holding_no?($=e==null?void 0:e.applicationDetails)==null?void 0:$.holding_no:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Holding No"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:(q=e==null?void 0:e.applicationDetails)!=null&&q.connection_type?(V=e==null?void 0:e.applicationDetails)==null?void 0:V.connection_type:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Connection Type"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:(B=e==null?void 0:e.applicationDetails)!=null&&B.area_sqft?(E=e==null?void 0:e.applicationDetails)==null?void 0:E.area_sqft:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Area (Sqft.)"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:(H=e==null?void 0:e.applicationDetails)!=null&&H.category?(J=e==null?void 0:e.applicationDetails)==null?void 0:J.category:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Category"})]})]}),t("div",{className:"flex space-x-10  pl-4 mt-4",children:r("div",{className:"flex-1",children:[r("div",{className:"font-bold text-sm",children:[(U=e==null?void 0:e.applicationDetails)!=null&&U.address?(z=e==null?void 0:e.applicationDetails)==null?void 0:z.address:"N/A"," ",", ",(R=e==null?void 0:e.applicationDetails)==null?void 0:R.prop_state]}),t("div",{className:"text-gray-500 text-xs",children:"Property Address"})]})}),t("div",{})]}),r("div",{className:"mt-10",children:[r("h1",{className:"px-1 font-semibold font-serif text-gray-500",children:[t(x,{className:"inline"})," Owner Details"]}),t("div",{className:"overflow-auto",children:r("table",{className:"min-w-full leading-normal mt-2 bg-white rounded-lg shadow-xl p-4",children:[t("thead",{className:"font-bold text-left text-sm border text-gray-800 bg-white",children:r("tr",{children:[t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Owner Name"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Guardian Name"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Mobile No."}),r("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:["email"," "]})]})}),t("tbody",{className:"text-sm",children:t(h,{children:(K=e==null?void 0:e.ownerDetails)==null?void 0:K.map((s,m)=>r("tr",{className:"bg-white shadow-xl border-b border-gray-200",children:[t("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:m+1}),t("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:s!=null&&s.applicant_name?s==null?void 0:s.applicant_name:"N/A"}),t("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:s!=null&&s.guardian_name?s==null?void 0:s.guardian_name:"N/A"}),t("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:s!=null&&s.mobile_no?s==null?void 0:s.mobile_no:"N/A"}),t("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:s!=null&&s.email?s==null?void 0:s.email:"N/A"})]}))})})]})})]}),(e==null?void 0:e.calculation)&&r("div",{className:"mt-10",children:[r("h1",{className:"px-1 font-semibold font-serif text-gray-500",children:[t(x,{className:"inline"}),"Application Payment Details"]}),t("div",{className:"overflow-auto",children:r("table",{className:"min-w-full leading-normal mt-2 bg-white rounded-lg shadow-xl p-4",children:[t("thead",{className:"font-bold text-left text-sm border text-gray-800 bg-white",children:r("tr",{children:[t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Charge Category"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Connection Fee"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Penalty"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Total Amount"}),(a==null?void 0:a.name)=="jsk"&&t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Action"})]})}),t("tbody",{className:"text-sm",children:t(h,{children:r("tr",{className:"bg-white shadow-xl border-b border-gray-200",children:[t("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:1}),t("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:(Q=e==null?void 0:e.calculation)==null?void 0:Q.chargeCatagory}),t("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:(X=e==null?void 0:e.calculation)==null?void 0:X.connectionFee}),t("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:(Y=e==null?void 0:e.calculation)==null?void 0:Y.penalty}),t("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:(Z=e==null?void 0:e.calculation)==null?void 0:Z.totalAmount}),(a==null?void 0:a.name)=="jsk"&&t("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:t("button",{onClick:()=>g(`/water-application-payment/${c}`),type:"button",className:" px-5 py-2.5 border border-indigo-500 hover:text-indigo-100 font-medium text-xs leading-tight uppercase rounded shadow-xl bg-indigo-700 hover:bg-indigo-800 text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"Pay Now"})})]})})})]})})]}),((G=e==null?void 0:e.applicationDetails)==null?void 0:G.doc_upload_status)&&r(h,{children:[r("h1",{className:"px-1 font-semibold mt-8 font-serif text-gray-500",children:[t(x,{className:"inline"}),"Documents"]}),r("div",{className:"border bg-white shadow-2xl p-5",children:[console.log(d==null?void 0:d.documentsList),(d==null?void 0:d.documentsList)&&t("div",{className:"",children:t("div",{className:"overflow-auto",children:r("table",{className:"min-w-full leading-normal mt-2 bg-white rounded-lg shadow-xl p-4",children:[t("thead",{className:"font-bold text-left text-sm border text-gray-800 bg-indigo-100",children:r("tr",{children:[t("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"#"}),t("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"Document Name"}),t("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"View"}),t("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"Status"})]})}),t("tbody",{className:"text-sm",children:[...d.documentsList.map(s=>({...s,type:"document"})),...d.ownersDocList.map(s=>({...s,type:"owner"}))].map((s,m)=>{var D,F,ee,te;return r("tr",{children:[t("td",{className:"px-2 py-3 border-b border-gray-200",children:m+1}),t("td",{className:"px-2 py-3 border-b border-gray-200",children:s.refDocName}),t("td",{className:"px-2 py-3 border-b border-gray-200",children:me((D=s.uploadDoc)==null?void 0:D.doc_path)?t("img",{src:(F=s.uploadDoc)==null?void 0:F.doc_path,className:"w-8 h-8 cursor-pointer",alt:"Document Thumbnail",onClick:()=>{var i;return f((i=s.uploadDoc)==null?void 0:i.doc_path)}}):t(fe,{className:"w-8 h-8 text-red-600 cursor-pointer",onClick:()=>{var i;return f((i=s.uploadDoc)==null?void 0:i.doc_path)}})}),t("td",{className:"px-2 py-3 border-b border-gray-200",children:((ee=s.uploadDoc)==null?void 0:ee.verify_status)==0?t("span",{className:"text-yellow-600",children:"Pending"}):((te=s.uploadDoc)==null?void 0:te.verify_status)==1?t("span",{className:"text-green-600",children:"Verified"}):t("span",{className:"text-red-600",children:"Rejected"})})]},m)})})]})})})]})]}),ne&&t("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r("div",{className:"bg-white rounded-lg shadow-lg p-4 max-w-lg w-full",children:[t("button",{onClick:oe,className:"text-gray-500 hover:text-gray-700 float-right",children:"Close"}),console.log(o,"gtfhgj"),t("div",{className:"mt-4",children:o!=null&&o.endsWith(".pdf")?t("iframe",{src:o,className:"w-full h-96",title:"PDF Document"}):t("img",{src:o,className:"w-full h-auto",alt:"Document Preview"})})]})})]})]})}),t("div",{className:"w-full h-60"})]})}export{ve as default};
