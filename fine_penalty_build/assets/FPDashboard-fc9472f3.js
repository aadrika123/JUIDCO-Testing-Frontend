import{a as u,j as e,g as _,r as m,A as j,P as N}from"./index-5a588281.js";import{A as b}from"./AxiosInterceptors-aea314b9.js";import{u as A}from"./useSetTitle-1d9b5759.js";import{b as k}from"./index.esm-921e46e9.js";import{W as w}from"./react-tooltip.min-2b836f61.js";import{i as L,g as C,e as P,n as S}from"./PowerupFunctions-79d5c0b2.js";import{b as F}from"./index.esm-ddcfd483.js";import{S as I}from"./ShimmerEffectInline-58a923c6.js";const H=t=>{var s;const n=u();return e.jsx("div",{className:" bg-white shadow-xl py-4 px-2 md:px-6 md:py-6 mt-4 mx-10 mb-10 animate__animated animate__fadeInDown animate__faster",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"flex-initial ml-4",children:[e.jsx("div",{className:"text-2xl font-bold text-black google-roboto capitalize",children:t==null?void 0:t.heading}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:"text-gray-600",children:[e.jsx(k,{className:"inline text-green-500 text-xl"}),t==null?void 0:t.subHeading]})}),e.jsx("div",{})]}),e.jsxs("div",{className:"flex-1 flex text-right justify-center items-center md:justify-end md:items-end h-full mt-4 md:mt-0",children:[e.jsx(w,{anchorId:"button-3"}),e.jsx("button",{id:"button-3","data-tooltip-content":"Click to change password.",onClick:()=>n(t==null?void 0:t.changePasswordLink),className:"mr-4 cypress_floor_add_update text-gray-700 px-4 md:px-8 py-3 bg-white-600 font-medium border text-xs leading-tight capitalize rounded-xl shadow-md hover:bg-indigo-500 hover:shadow-lg focus:bg-indigo-500 hover:text-white focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Change Password"}),((s=t==null?void 0:t.allRole)==null?void 0:s.user_type)=="CO"&&e.jsxs(e.Fragment,{children:[e.jsx(w,{anchorId:"button-1"}),e.jsx("button",{id:"button-1","data-tooltip-content":"Click to go to fine & penalty workflow.",onClick:()=>n(t==null?void 0:t.mainWorkflowLink),className:"cypress_floor_add_update text-white px-4 md:px-8 py-3 bg-indigo-500 font-medium border text-xs leading-tight capitalize rounded-xl shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Fine & Penalty Workflow"})]})]})]})})},z="/assets/forms-9a62bcb2.png",v=t=>e.jsx("div",{class:"transform hover:scale-105 transition duration-300 shadow-xl",children:e.jsxs("div",{class:"p-5 bg-white",children:[e.jsxs("div",{class:"flex justify-between border-b pb-4",children:[e.jsx("span",{className:"w-10 h-10 bg-indigo-100 rounded-full flex justify-center items-center",children:e.jsx("img",{className:"bg-indigo-50 rounded-full p-1",src:z,alt:""})}),e.jsx("div",{class:"bg-indigo-100 rounded-full h-6 px-2 flex justify-items-center text-indigo-600 font-semibold text-xs",children:e.jsx("span",{class:"flex items-center",children:L(C())})})]}),e.jsx("div",{class:"ml-2 w-full flex-1",children:e.jsx("div",{children:e.jsxs("div",{class:"flex justify-between mt-4 pr-4",children:[e.jsx("div",{class:"mt-1 text-base text-gray-600",children:t==null?void 0:t.heading}),e.jsx("div",{className:"font-bold leading-8 text-xl",children:t!=null&&t.loading?e.jsx("div",{class:"spinner2"}):P(t==null?void 0:t.total)})]})})})]})}),y=t=>{const n=u();return e.jsxs("div",{className:"w-full rounded overflow-hidden shadow-lg bg-white p-2 px-10 flex items-center gap-6",children:[e.jsx("div",{className:"flex-1",children:t==null?void 0:t.heading}),e.jsx("div",{onClick:()=>n(t==null?void 0:t.path),className:"cursor-pointer hover:bg-indigo-200 w-10 h-10 bg-indigo-50 rounded-full inline-flex justify-center items-center",children:e.jsx(F,{className:"inline text-indigo-500"})})]})},D=t=>{var s,i,x,d,r,c;const n=u();return e.jsx(e.Fragment,{children:e.jsxs("table",{className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"bg-indigo-100",children:e.jsxs("tr",{className:"font-semibold",children:[e.jsx("th",{scope:"col",className:"px-2 py-2 border-b border-gray-200 text-gray-800  text-left text-sm",children:"#"}),(s=t==null?void 0:t.heading)==null?void 0:s.map(a=>e.jsx("th",{scope:"col",className:"px-2 py-2 border-b border-gray-200 text-gray-800  text-left text-sm",children:a})),e.jsx("th",{scope:"col",className:"px-2 py-2 border-b border-gray-200 text-gray-800  text-left text-sm",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white",children:t!=null&&t.loading?e.jsx("tr",{children:e.jsx("td",{colSpan:((i=t==null?void 0:t.heading)==null?void 0:i.length)+2,children:e.jsx(I,{})})}):e.jsx(e.Fragment,{children:Array.isArray(t==null?void 0:t.data)&&e.jsx(e.Fragment,{children:((x=t==null?void 0:t.data)==null?void 0:x.length)>0?e.jsx(e.Fragment,{children:(r=(d=t==null?void 0:t.data)==null?void 0:d.slice(0,10))==null?void 0:r.map((a,h)=>{var o;return e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:h+1}),(o=t==null?void 0:t.dataKey)==null?void 0:o.map((g,f)=>{var l;return e.jsx("td",{className:`px-2 py-2 text-sm text-left ${f==((l=t==null?void 0:t.dataKey)==null?void 0:l.length)-1&&"w-[7%]"}`,children:S(a[g])})}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[" ",e.jsx("button",{className:"w-max cursor-pointer px-4 py-1 bg-indigo-500 hover:bg-indigo-600 text-white text-sm",onClick:()=>n(`${t==null?void 0:t.viewLink}${a==null?void 0:a.id}`),children:"View"})]})]})})})}):e.jsx("tr",{children:e.jsx("td",{colSpan:((c=t==null?void 0:t.heading)==null?void 0:c.length)+2,className:"text-center text-red-500 font-semibold py-4",children:"No Application Found"})})})})})]})})};function O(){A("Home");const{api_FPTrack:t,api_getInfractionList:n}=N(),s=_("userDetails"),[i,x]=m.useState(null),[d,r]=m.useState(null),[c,a]=m.useState(!1),[h,o]=m.useState(!1),g=()=>{a(!0),b.post(t,{},j()).then(function(l){r(l.data.data)}).catch(function(l){}).finally(()=>a(!1))},f=()=>{o(!0),b.post(n,{},j()).then(function(l){x(l.data.data),a(!1)}).catch(function(l){}).finally(()=>o(!1))};return m.useEffect(()=>{g(),f()},[]),e.jsxs(e.Fragment,{children:[e.jsx(H,{allRole:s,heading:"Fines & Penalties Home Page",subHeading:"Verified Account",changePasswordLink:"/change-password",mainWorkflowLink:"/fp-workflow"}),e.jsxs("div",{class:"grid grid-cols-12 items-center mx-10 ",children:[e.jsxs("div",{class:"flex flex-row flex-wrap gap-2 items-start col-span-12 md:col-span-6 ",children:[e.jsx("div",{className:"w-[45%] animate__animated animate__zoomIn animate__faster",children:e.jsx(v,{heading:"Pending Application",total:i==null?void 0:i.total,loading:c})}),e.jsx("div",{className:"w-[45%] animate__animated animate__zoomIn animate__faster",children:e.jsx(v,{heading:"Challan Generated",total:d==null?void 0:d.total,loading:c})})]}),e.jsxs("div",{class:"flex flex-col flex-wrap gap-4 justify-center col-span-12 md:col-span-6 md:mt-0 mt-10 animate__animated animate__fadeInLeft animate__faster",children:[e.jsx("div",{className:"w-full md:w-[50%]",children:e.jsx(y,{heading:"Application List",path:"/fp-list"})}),e.jsx("div",{className:"w-full md:w-[50%]",children:e.jsx(y,{heading:"Search Challan",path:"/search-challan"})})]})]}),e.jsxs("div",{className:"mx-10 mt-10 md:w-auto w-[80vw] overflow-auto animate__animated animate__fadeInUp animate__faster",children:[e.jsx("div",{className:"font-bold text-md mb-2 flex-1 text-gray-600",children:"# Recent Applications"}),e.jsx(D,{loading:h,heading:["Application No.","Name","Mobile No.","Holding No.","Violation Name","Violation Section","Amount (â‚¹)","Apply Date"],dataKey:["application_no","full_name","mobile_no","holding_no","violation_name","violation_section","amount","date"],data:(i==null?void 0:i.data)??[],viewLink:"/fp-details/"})]})]})}export{O as default};
