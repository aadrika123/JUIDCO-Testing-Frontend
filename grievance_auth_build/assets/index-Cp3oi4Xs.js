import{r as w,a as _a,g,v as P,j as a,C as $a,w as b,x as y,M as C,y as R,S as T,z as i,a0 as d,L as _,K as $,A}from"./index-CtV24Q57.js";import{P as Aa}from"./index-BYiFiVfg.js";import{T as S,a as I,b as f,c as e,d as G,e as c}from"./table-CZIjl9tM.js";import{P as Y}from"./index-Bowmb8FB.js";import{S as k}from"./index-BXPuUs73.js";import{T as Sa,a as Ia,b as O,c as H}from"./tabs-D1XeYYl1.js";function Ga(){var M,F,E,U,z,V,X,q,K,W,J,Q,Z,L,D,m,aa,la,ea,ca,da,na,ra,sa,xa,ja,ha,oa,ia,Na,fa,ua,ga,pa,va,ta,wa,Pa,ba,ya,Ca,Ra,Ta;const[j,p]=w.useState(1),[h,v]=w.useState(10),[N,t]=w.useState(""),{user:B}=_a();w.useState([]),console.log("Response-----",g);const s=P({api:`${g.getComplaintInbox}?page=${j}&limit=${h}&q=${N}`,key:"getComplaintInboxList",value:[j,h],options:{enabled:!0}}),x=P({api:`${g.getComplaintOutbox}?page=${j}&limit=${h}&q=${N}`,key:"getComplaintOutboxList",value:[j,h],options:{enabled:!0}}),r=P({api:`${g.getComplaintSpecial}?page=${j}&limit=${h}&q=${N}`,key:"getComplaintSpecialList",value:[j,h],options:{enabled:!0}}),n=P({api:`${g.getComplaintHighlight}?page=${j}&limit=${h}&q=${N}`,key:"getComplaintHighlight",value:[j,h],options:{enabled:!0}});return console.log("highlighted compalint here",(M=n==null?void 0:n.data)==null?void 0:M.data[0]),a.jsx("main",{className:"grid items-start",children:a.jsxs(Sa,{defaultValue:"INBOX",className:"w-full",children:[a.jsxs("div",{className:"flex",children:[a.jsx($a,{className:"flex-1 text-2xl font-bold",children:"Registered Grievance List"}),a.jsx("div",{className:"flex-1 flex justify-end",children:a.jsxs(Ia,{className:"grid w-auto grid-cols-4",children:[a.jsx(O,{value:"INBOX",children:"Grievance Inbox"}),a.jsx(O,{value:"OUTBOX",children:"Grievance Outbox"}),a.jsx(O,{value:"SPECIAL",children:"Special Grievance"}),(B==null?void 0:B.role)!="Normal"&&a.jsx(O,{value:"HIGHLIGHTED",children:"Highlighted Grievance"})]})})]}),a.jsx(H,{value:"INBOX",children:a.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[a.jsxs("div",{className:"flex w-full justify-between gap-2",children:[a.jsx("div",{children:a.jsx(k,{search:N,setSearch:t,refetch:s.refetch,isFetching:s.isLoading})}),a.jsx("div",{})]}),a.jsxs(b,{children:[a.jsx(y,{className:"px-7",children:a.jsxs(C,{children:["Grievance List Inbox (",(E=(F=s.data)==null?void 0:F.data)==null?void 0:E.totalDocs,")"]})}),a.jsx(R,{children:s.isLoading?a.jsx("div",{className:"flex h-32 items-center justify-center",children:a.jsx(T,{})}):a.jsxs(a.Fragment,{children:[a.jsxs(S,{children:[a.jsx(I,{children:a.jsxs(f,{children:[a.jsx(e,{className:"",children:"#"}),a.jsx(e,{className:"",children:"Name"}),a.jsx(e,{className:"",children:"Department"}),a.jsx(e,{className:"",children:"ULB"}),a.jsx(e,{className:"",children:"Grievance No."}),a.jsx(e,{className:"",children:"Module"}),a.jsx(e,{className:"",children:"Date"}),a.jsx(e,{className:"",children:"Status"}),a.jsx(e,{children:"Action"})]})}),a.jsx(G,{children:(V=(z=(U=s==null?void 0:s.data)==null?void 0:U.data)==null?void 0:z.docs)==null?void 0:V.map((l,u)=>{var o;return a.jsxs(f,{children:[a.jsx(c,{children:u+1}),a.jsx(c,{children:(l==null?void 0:l.citizenName)||"N/A"}),a.jsx(c,{className:"font-semibold",children:(l==null?void 0:l.complaintTitle)||"N/A"}),a.jsx(c,{children:(l==null?void 0:l.ulbName)||"N/A"}),a.jsx(c,{children:(l==null?void 0:l.complaintRefNo)||"N/A"}),a.jsx(c,{children:((o=l==null?void 0:l.module)==null?void 0:o.moduleName)||"N/A"}),a.jsx(c,{children:i(l==null?void 0:l.createdAt).format("DD-MM-YYYY")}),a.jsxs(c,{children:[(l==null?void 0:l.wf_status)===4&&a.jsx(d,{variant:"destructive",children:"Closed"}),(l==null?void 0:l.wf_status)===3&&a.jsx(d,{className:"bg-amber-500 text-white",children:"Pending(Re-Opened)"}),(l==null?void 0:l.wf_status)===2&&a.jsx(d,{variant:"destructive",children:"Rejected"}),(l==null?void 0:l.wf_status)===1&&a.jsx(d,{variant:"success",children:"Resolved"}),(l==null?void 0:l.wf_status)===0&&a.jsx(d,{variant:"secondary",children:"Pending"})]}),a.jsx(c,{children:a.jsx(_,{to:`/grievance/dashboard/workflow-details?complaintRefNo=${l==null?void 0:l.complaintRefNo}&complaintId=${l==null?void 0:l._id}`,children:a.jsx($,{className:"bg-primary",onClick:()=>{},children:"View"})})})]},l._id)})})]}),a.jsx(A,{className:"mb-2 mt-4"}),a.jsx("div",{className:"flex w-full justify-end",children:a.jsx(Y,{page:j,perPage:h,totalPage:(q=(X=s==null?void 0:s.data)==null?void 0:X.data)==null?void 0:q.totalDocs,hasNextPage:(W=(K=s==null?void 0:s.data)==null?void 0:K.data)==null?void 0:W.hasNextPage,hasPrevPage:(Q=(J=s==null?void 0:s.data)==null?void 0:J.data)==null?void 0:Q.hasPrevPage,setPage:p,setPerPage:v})})]})})]})]})}),a.jsx(H,{value:"OUTBOX",children:a.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[a.jsxs("div",{className:"flex w-full justify-between gap-2",children:[a.jsx("div",{children:a.jsx(k,{search:N,setSearch:t,refetch:x.refetch,isFetching:x.isLoading})}),a.jsx("div",{})]}),a.jsxs(b,{children:[a.jsx(y,{className:"px-7",children:a.jsxs(C,{children:["Grievance List Outbox (",(L=(Z=x.data)==null?void 0:Z.data)==null?void 0:L.totalDocs,")"]})}),a.jsx(R,{children:x.isLoading?a.jsx("div",{className:"flex h-32 items-center justify-center",children:a.jsx(T,{})}):a.jsxs(a.Fragment,{children:[a.jsxs(S,{children:[a.jsx(I,{children:a.jsxs(f,{children:[a.jsx(e,{className:"",children:"#"}),a.jsx(e,{className:"",children:"Name"}),a.jsx(e,{className:"",children:"Title"}),a.jsx(e,{className:"",children:"ULB"}),a.jsx(e,{className:"",children:"Grievance No."}),a.jsx(e,{className:"",children:"Module"}),a.jsx(e,{className:"",children:"Date"}),a.jsx(e,{className:"",children:"Status"}),a.jsx(e,{className:"",children:"Pending From"}),a.jsx(e,{children:"Action"})]})}),a.jsx(G,{children:(aa=(m=(D=x==null?void 0:x.data)==null?void 0:D.data)==null?void 0:m.docs)==null?void 0:aa.map((l,u)=>{var o;return a.jsxs(f,{children:[a.jsx(c,{children:u+1}),a.jsx(c,{children:l==null?void 0:l.citizenName}),a.jsx(c,{className:"font-semibold",children:l==null?void 0:l.complaintTitle}),a.jsx(c,{children:l==null?void 0:l.ulbName}),a.jsx(c,{children:l==null?void 0:l.complaintRefNo}),a.jsx(c,{children:(o=l==null?void 0:l.module)==null?void 0:o.moduleName}),a.jsx(c,{children:i(l==null?void 0:l.createdAt).format("DD-MM-YYYY")}),a.jsxs(c,{children:[(l==null?void 0:l.wf_status)===4&&a.jsx(d,{variant:"destructive",children:"Closed"}),(l==null?void 0:l.wf_status)===3&&a.jsx(d,{className:"bg-amber-500 text-white",children:"Pending(Re-Opened)"}),(l==null?void 0:l.wf_status)===2&&a.jsx(d,{variant:"destructive",children:"Rejected"}),(l==null?void 0:l.wf_status)===1&&a.jsx(d,{variant:"success",children:"Resolved"}),(l==null?void 0:l.wf_status)===0&&a.jsx(d,{variant:"secondary",children:"Pending"})]}),a.jsxs(c,{className:"flex justify-center items-center",children:[i().diff(i(l==null?void 0:l.createdAt),"days")," days"]}),a.jsx(c,{children:a.jsx(_,{to:`/grievance/dashboard/workflow-details?complaintRefNo=${l==null?void 0:l.complaintRefNo}&complaintId=${l==null?void 0:l._id}`,children:a.jsx($,{className:"bg-primary",onClick:()=>{},children:"View"})})})]},l._id)})})]}),a.jsx(A,{className:"mb-2 mt-4"}),a.jsx("div",{className:"flex w-full justify-end",children:a.jsx(Y,{page:j,perPage:h,totalPage:(ea=(la=x==null?void 0:x.data)==null?void 0:la.data)==null?void 0:ea.totalDocs,hasNextPage:(da=(ca=x==null?void 0:x.data)==null?void 0:ca.data)==null?void 0:da.hasNextPage,hasPrevPage:(ra=(na=x==null?void 0:x.data)==null?void 0:na.data)==null?void 0:ra.hasPrevPage,setPage:p,setPerPage:v})})]})})]})]})}),a.jsx(H,{value:"SPECIAL",children:a.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[a.jsxs("div",{className:"flex w-full justify-between gap-2",children:[a.jsx("div",{children:a.jsx(k,{search:N,setSearch:t,refetch:r.refetch,isFetching:r.isLoading})}),a.jsx("div",{})]}),a.jsxs(b,{children:[a.jsx(y,{className:"px-7",children:a.jsxs(C,{children:["Grievance List Special (",(xa=(sa=r.data)==null?void 0:sa.data)==null?void 0:xa.totalDocs,") - ",a.jsx("span",{className:"text-amber-500",children:"This list contains special complaints"})]})}),a.jsx(R,{children:r.isLoading?a.jsx("div",{className:"flex h-32 items-center justify-center",children:a.jsx(T,{})}):a.jsxs(a.Fragment,{children:[a.jsxs(S,{children:[a.jsx(I,{children:a.jsxs(f,{children:[a.jsx(e,{className:"",children:"#"}),a.jsx(e,{className:"",children:"Name"}),a.jsx(e,{className:"",children:"Title"}),a.jsx(e,{className:"",children:"ULB"}),a.jsx(e,{className:"",children:"Grievance No."}),a.jsx(e,{className:"",children:"Module"}),a.jsx(e,{className:"",children:"Date"}),a.jsx(e,{className:"",children:"Status"}),a.jsx(e,{className:"",children:"Pending From"}),a.jsx(e,{children:"Action"})]})}),a.jsx(G,{children:(oa=(ha=(ja=r==null?void 0:r.data)==null?void 0:ja.data)==null?void 0:ha.docs)==null?void 0:oa.map((l,u)=>{var o;return a.jsxs(f,{children:[a.jsx(c,{children:u+1}),a.jsx(c,{children:l==null?void 0:l.citizenName}),a.jsx(c,{className:"font-semibold",children:(l==null?void 0:l.complaintTitle)||"N/A"}),a.jsx(c,{children:l==null?void 0:l.ulbName}),a.jsx(c,{children:l==null?void 0:l.complaintRefNo}),a.jsx(c,{children:(o=l==null?void 0:l.module)==null?void 0:o.moduleName}),a.jsx(c,{children:i(l==null?void 0:l.createdAt).format("DD-MM-YYYY")}),a.jsxs(c,{children:[(l==null?void 0:l.wf_status)===4&&a.jsx(d,{variant:"destructive",children:"Closed"}),(l==null?void 0:l.wf_status)===3&&a.jsx(d,{className:"bg-amber-500 text-white",children:"Pending(Re-Opened)"}),(l==null?void 0:l.wf_status)===2&&a.jsx(d,{variant:"destructive",children:"Rejected"}),(l==null?void 0:l.wf_status)===1&&a.jsx(d,{variant:"success",children:"Resolved"}),(l==null?void 0:l.wf_status)===0&&a.jsx(d,{variant:"secondary",children:"Pending"})]}),a.jsxs(c,{className:"flex justify-center items-center",children:[i().diff(i(l==null?void 0:l.createdAt),"days")," days"]}),a.jsx(c,{children:a.jsx(_,{to:`/grievance/dashboard/workflow-details?complaintRefNo=${l==null?void 0:l.complaintRefNo}&complaintId=${l==null?void 0:l._id}`,children:a.jsx($,{className:"bg-primary",onClick:()=>{},children:"View"})})})]},l._id)})})]}),a.jsx(A,{className:"mb-2 mt-4"}),a.jsx("div",{className:"flex w-full justify-end",children:a.jsx(Y,{page:j,perPage:h,totalPage:(Na=(ia=r==null?void 0:r.data)==null?void 0:ia.data)==null?void 0:Na.totalDocs,hasNextPage:(ua=(fa=r==null?void 0:r.data)==null?void 0:fa.data)==null?void 0:ua.hasNextPage,hasPrevPage:(pa=(ga=r==null?void 0:r.data)==null?void 0:ga.data)==null?void 0:pa.hasPrevPage,setPage:p,setPerPage:v})})]})})]})]})}),a.jsx(H,{value:"HIGHLIGHTED",children:a.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[a.jsxs("div",{className:"flex w-full justify-between gap-2",children:[a.jsx("div",{children:a.jsx(k,{search:N,setSearch:t,refetch:r.refetch,isFetching:r.isLoading})}),a.jsx("div",{})]}),a.jsxs(b,{children:[a.jsx(y,{className:"px-7",children:a.jsxs(C,{children:["Grievance  Highlighted List(",(va=n==null?void 0:n.data)==null?void 0:va.docs,") - ",a.jsx("span",{className:"text-amber-500",children:"This list contains Highlighted complaints"})]})}),a.jsx(R,{children:n.isLoading?a.jsx("div",{className:"flex h-32 items-center justify-center",children:a.jsx(T,{})}):a.jsxs(a.Fragment,{children:[a.jsxs(S,{children:[a.jsx(I,{children:a.jsxs(f,{children:[a.jsx(e,{className:"",children:"#"}),a.jsx(e,{className:"",children:"Name"}),a.jsx(e,{className:"",children:"Title"}),a.jsx(e,{className:"",children:"ULB"}),a.jsx(e,{className:"",children:"Grievance No."}),a.jsx(e,{className:"",children:"Module"}),a.jsx(e,{className:"",children:"Date"}),a.jsx(e,{className:"",children:"Status"}),a.jsx(e,{className:"",children:"Pending From"}),a.jsx(e,{children:"Action"})]})}),a.jsx(G,{children:(wa=(ta=n==null?void 0:n.data)==null?void 0:ta.data)==null?void 0:wa.map((l,u)=>{var o;return a.jsxs(f,{children:[a.jsx(c,{children:u+1}),a.jsx(c,{children:l==null?void 0:l.citizenName}),a.jsx(c,{className:"font-semibold",children:l==null?void 0:l.complaintTitle}),a.jsx(c,{children:l==null?void 0:l.ulbName}),a.jsx(c,{children:l==null?void 0:l.complaintRefNo}),a.jsx(c,{children:(o=l==null?void 0:l.module)==null?void 0:o.moduleName}),a.jsx(c,{children:i(l==null?void 0:l.createdAt).format("DD-MM-YYYY")}),a.jsxs(c,{children:[(l==null?void 0:l.wf_status)===4&&a.jsx(d,{variant:"destructive",children:"Closed"}),(l==null?void 0:l.wf_status)===3&&a.jsx(d,{className:"bg-amber-500 text-white",children:"Pending(Re-Opened)"}),(l==null?void 0:l.wf_status)===2&&a.jsx(d,{variant:"destructive",children:"Rejected"}),(l==null?void 0:l.wf_status)===1&&a.jsx(d,{variant:"success",children:"Resolved"}),(l==null?void 0:l.wf_status)===0&&a.jsx(d,{variant:"secondary",children:"Pending"})]}),a.jsxs(c,{className:"flex justify-center items-center",children:[i().diff(i(l==null?void 0:l.createdAt),"days")," days"]}),a.jsx(c,{children:a.jsx(_,{to:`/grievance/dashboard/workflow-details?complaintRefNo=${l==null?void 0:l.complaintRefNo}&complaintId=${l==null?void 0:l._id}`,children:a.jsx($,{className:"bg-primary",onClick:()=>{},children:"View"})})})]},l._id)})})]}),a.jsx(A,{className:"mb-2 mt-4"}),a.jsx("div",{className:"flex w-full justify-end",children:a.jsx(Y,{page:j,perPage:h,totalPage:(ba=(Pa=n==null?void 0:n.data)==null?void 0:Pa.data)==null?void 0:ba.totalDocs,hasNextPage:(Ca=(ya=n==null?void 0:n.data)==null?void 0:ya.data)==null?void 0:Ca.hasNextPage,hasPrevPage:(Ta=(Ra=n==null?void 0:n.data)==null?void 0:Ra.data)==null?void 0:Ta.hasPrevPage,setPage:p,setPerPage:v})})]})})]})]})})]})})}function Fa(){return a.jsx(Aa,{title:"",subTitle:"",children:a.jsx("div",{className:"pb-12",children:a.jsx(Ga,{})})})}export{Fa as default};
