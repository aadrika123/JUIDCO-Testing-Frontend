import{u as h,f as g,b as x,o as P,j as s,M as f,F as p,Z as d,R as t,B as j,c as y,d as o,h as b,g as v,_ as l}from"./index-CtV24Q57.js";import{P as N}from"./index-BYiFiVfg.js";const F=y().shape({currentPassword:o().required("Current Password is required"),newPassword:o().required("New Password is required"),confirmPassword:o().oneOf([b("newPassword")],"Passwords must match").required("Confirm Password is required")});function k(){const m=h({}),w=g(),r=x({resolver:P(F)}),u=async a=>{var n,i,c;try{const e=await m.mutateAsync({api:v.changePassword,data:{currentPassword:a.currentPassword,newPassword:a.newPassword,confirmPassword:a.confirmPassword}});(n=e.data)!=null&&n.success?(l.success((i=e==null?void 0:e.data)==null?void 0:i.message),w("/grievance/auth/login")):l.error((c=e.data)==null?void 0:c.message),r.reset({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){console.log(e)}};return s.jsx(N,{children:s.jsx("section",{className:"relative flex w-full justify-center items-center   dark:bg-gray-900",children:s.jsxs("div",{className:"w-full max-w-md px-4 py-8 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[s.jsx("h1",{className:"text-2xl text-center font-semibold text-gray-800 capitalize dark:text-white mb-2",children:s.jsx("span",{className:"text-[#0D7538] ",children:"Change Password"})}),s.jsx(f,{className:"px-2 text-center text-sm text-gray-500 dark:text-gray-400",children:"Easily change your password"}),s.jsx(p,{methods:r,onSubmit:r.handleSubmit(u),children:s.jsxs("div",{className:"space-y-6 mt-6",children:[s.jsxs("div",{children:[s.jsx(d,{htmlFor:"currentPassword",children:"Old Password"}),s.jsx(t,{className:"bg-gray-100 dark:bg-gray-700 mt-1 w-full rounded-md shadow-sm",name:"currentPassword",type:"password",placeholder:"Enter old password"})]}),s.jsxs("div",{children:[s.jsx(d,{htmlFor:"newPassword",children:"New Password"}),s.jsx(t,{className:"bg-gray-100 dark:bg-gray-700 mt-1 w-full rounded-md shadow-sm",name:"newPassword",type:"password",placeholder:"Enter new password"})]}),s.jsxs("div",{children:[s.jsx(d,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(t,{className:"bg-gray-100 dark:bg-gray-700 mt-1 w-full rounded-md shadow-sm",name:"confirmPassword",type:"password",placeholder:"Confirm new password"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(j,{isLoading:r.formState.isSubmitting,type:"submit",className:"w-full bg-[#0D7538] text-white py-2 rounded-md hover:bg-green-700",children:"Submit"})})]})})]})})})}function S(){return s.jsx(s.Fragment,{children:s.jsx(k,{})})}export{S as default};
