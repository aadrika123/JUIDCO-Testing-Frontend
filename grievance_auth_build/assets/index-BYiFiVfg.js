import{U as g,a as b,r as i,v as H,g as z,j as e,a1 as y,a2 as S,a3 as k,a4 as A,a0 as Y,z as G,ah as O,ai as h,aj as J,ak as C,ag as f,al as V,am as K,V as Q,an as W,ao as X,ap as j,aq as Z,ar as ee,as as ae,W as se,at as te,au as re,C as u,L as v,av as m,aw as N,ax as oe}from"./index-CtV24Q57.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=g("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=g("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=g("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function ie(a=""){const{setTitle:t}=b();return i.useEffect(()=>{t(a)},[a]),null}function ce({notificationSide:a,notificationType:t}){var n,d;const[s,o]=i.useState(null),l=H({api:`${z.getUserNotificationAuth}?notificationSide=${a}&notificationType=${t}`,key:"myNotificationsAuth",options:{enabled:!0}});return e.jsxs(y,{children:[e.jsx(S,{}),e.jsx(k,{className:"sm:max-w-[500px]",children:e.jsx("div",{children:s&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold  text-lg text-amber-500",children:[e.jsx(w,{className:"inline mr-2"}),s==null?void 0:s.title]}),e.jsx("p",{className:"text-gray-600",children:s==null?void 0:s.description})]})})}),e.jsx("div",{className:" max-h-[95%] overflow-y-auto",children:(d=(n=l==null?void 0:l.data)==null?void 0:n.data)==null?void 0:d.docs.map(r=>e.jsx(A,{asChild:!0,onClick:()=>o(r),children:e.jsxs("div",{className:"relative flex items-start p-4 bg-white border border-gray-200 rounded-lg shadow-md mb-2 cursor-pointer",children:[e.jsx(w,{className:"h-6 w-6 text-amber-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"font-semibold text-gray-900 ",children:r==null?void 0:r.title}),e.jsx("div",{className:"w-60 overflow-hidden text-ellipsis whitespace-nowrap mb-2",children:r==null?void 0:r.description})]}),e.jsx(Y,{className:"text-xs absolute bottom-0 right-0",variant:"outline",children:G(r==null?void 0:r.createdAt).format("DD-MM-YYYY hh:mm a")})]})},r==null?void 0:r.id))})]})}var p="Avatar",[de,fe]=O(p),[xe,M]=de(p),L=i.forwardRef((a,t)=>{const{__scopeAvatar:s,...o}=a,[l,n]=i.useState("idle");return e.jsx(xe,{scope:s,imageLoadingStatus:l,onImageLoadingStatusChange:n,children:e.jsx(h.span,{...o,ref:t})})});L.displayName=p;var I="AvatarImage",R=i.forwardRef((a,t)=>{const{__scopeAvatar:s,src:o,onLoadingStatusChange:l=()=>{},...n}=a,d=M(I,s),r=ue(o),x=J(c=>{l(c),d.onImageLoadingStatusChange(c)});return C(()=>{r!=="idle"&&x(r)},[r,x]),r==="loaded"?e.jsx(h.img,{...n,ref:t,src:o}):null});R.displayName=I;var D="AvatarFallback",T=i.forwardRef((a,t)=>{const{__scopeAvatar:s,delayMs:o,...l}=a,n=M(D,s),[d,r]=i.useState(o===void 0);return i.useEffect(()=>{if(o!==void 0){const x=window.setTimeout(()=>r(!0),o);return()=>window.clearTimeout(x)}},[o]),d&&n.imageLoadingStatus!=="loaded"?e.jsx(h.span,{...l,ref:t}):null});T.displayName=D;function ue(a){const[t,s]=i.useState("idle");return C(()=>{if(!a){s("error");return}let o=!0;const l=new window.Image,n=d=>()=>{o&&s(d)};return s("loading"),l.onload=n("loaded"),l.onerror=n("error"),l.src=a,()=>{o=!1}},[a]),t}var E=L,U=R,_=T;const P=i.forwardRef(({className:a,...t},s)=>e.jsx(E,{ref:s,className:f("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));P.displayName=E.displayName;const B=i.forwardRef(({className:a,...t},s)=>e.jsx(U,{ref:s,className:f("aspect-square h-full w-full",a),...t}));B.displayName=U.displayName;const $=i.forwardRef(({className:a,...t},s)=>e.jsx(_,{ref:s,className:f("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));$.displayName=_.displayName;function me(){var o,l;const[a,t]=i.useState(null);i.useEffect(()=>{try{const n=localStorage.getItem("userDetails");n?t(JSON.parse(n)):console.error("❌ No user details found in localStorage.")}catch(n){console.error("❌ Error reading user details from localStorage:",n)}},[]);const s=()=>{se("Are you sure?","Please confirm",()=>{te(),localStorage.removeItem("userDetails"),localStorage.removeItem("permission"),localStorage.removeItem("menu"),localStorage.removeItem("token"),window.location.reload()})};return e.jsxs(V,{children:[e.jsx(K,{asChild:!0,children:e.jsx(Q,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(P,{className:"h-10 w-10",children:[e.jsx(B,{src:a!=null&&a.googleId?a==null?void 0:a.imageUrl:a==null?void 0:a.imgFullPath,alt:"profile"}),e.jsx($,{children:((l=(o=a==null?void 0:a.user_name)==null?void 0:o[0])==null?void 0:l.toUpperCase())||"U"})]})})}),e.jsxs(W,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(X,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:(a==null?void 0:a.user_name)||"User"}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(a==null?void 0:a.email)||"No email found"})]})}),e.jsx(j,{}),e.jsx(Z,{}),e.jsx(j,{}),e.jsxs(ee,{onClick:s,children:["Log out",e.jsx(ae,{children:"⇧⌘Q"})]})]})]})}const ge=i.forwardRef(({children:a,title:t="",subTitle:s="",searchLink:o="",searchLabel:l="",meta:n,...d},r)=>{ie(t);const{user:x}=b(),[c,F]=i.useState({});return i.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]),i.useEffect(()=>{const q=JSON.parse(localStorage.getItem("userDetails")||"{}");F(q)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx("title",{children:`${t} | Grievance`}),n]}),e.jsx("div",{ref:r,...d,children:e.jsxs(y,{children:[e.jsx(S,{}),e.jsxs(k,{className:"sm:max-w-[600px]",children:[e.jsxs(u,{className:"mt-4 text-xl text-gray-500 font-bold flex justify-between",children:["This is your process",e.jsx(v,{to:"/grievance/citizen/complaint-registration-info",target:"_blank",children:"Learn More"})]}),e.jsx("div",{className:"py-4",children:e.jsxs("video",{controls:!0,autoPlay:!0,className:"w-full",children:[e.jsx("source",{src:"/images/info1.mp4",type:"video/mp4"}),"Your browser does not support HTML video."]})})]}),e.jsxs(m,{fixed:!0,children:[e.jsxs(m.Header,{sticky:!0,className:"border-b border-r-2 border-r-muted",children:[e.jsxs("div",{className:"flex gap-3",children:[(c==null?void 0:c.ulbName)&&e.jsxs("h1",{className:"text-gray-700 font-bold text-lg hidden sm:block",children:["ULB :- ",c==null?void 0:c.ulbName]}),e.jsxs("h1",{className:"text-gray-700 font-bold text-lg hidden sm:block",children:["ROLE :- ",(c==null?void 0:c.role)||(x==null?void 0:x.role)||"N/A"]})]}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(A,{asChild:!0,children:e.jsx("div",{className:"w-6 h-6 bg-background border border-black cursor-pointer rounded-full flex justify-center items-center shadow-xl",children:e.jsx("span",{className:"font-bold text-xl",children:"?"})})}),e.jsxs(N,{trigger:e.jsx(ne,{size:25,className:"text-black cursor-pointer hover:scale-110"}),children:[e.jsx(u,{className:"mb-4 text-[#0D7538] text-lg",children:"Recent Updates"}),e.jsx(oe,{notificationSide:0,notificationType:1})]}),e.jsxs(N,{trigger:e.jsx(le,{size:25,className:"text-black cursor-pointer hover:scale-110"}),children:[e.jsx(u,{className:"mb-4 text-[#0D7538] text-lg",children:"My Notifications"}),e.jsx(ce,{notificationSide:0,notificationType:0})]}),e.jsx(me,{})]})]}),e.jsxs(m.Body,{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between space-y-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:t}),e.jsx("p",{className:"text-muted-foreground",children:s})]}),l&&e.jsx(v,{className:"text-blue-800 font-semibold hover:underline",to:o,target:"_blank",children:l})]}),e.jsx("div",{className:"flex-1 overflow-auto py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:a})]})]})]})})]})}),pe=ge;export{pe as P};
