import{u as h,f as g,b as w,o as j,j as e,M as b,F as f,Z as d,R as l,B as N,c as v,d as r,g as y,_ as m}from"./index-Di_aGywo.js";const I=v().shape({complaintTitle:r().required("ulb is required"),complaintDescription:r().required("Module  is required"),moduleId:r().required("Module  is required"),ulbId:r().required("Module  is required"),priorityId:r().required("Module  is required"),targetTypeId:r().required("Module  is required")});function P(){const u=h({}),x=g(),a=w({resolver:j(I)}),p=async i=>{var o,t,c,n;try{const s=await u.mutateAsync({api:y.createComplaintApplication,data:{complaintTitle:i.complaintTitle,complaintDescription:i.complaintDescription,moduleId:i.moduleId,ulbId:i.ulbId,priorityId:i.priorityId,targetTypeId:i.targetTypeId}});(o=s.data)!=null&&o.success?(m.success((t=s==null?void 0:s.data)==null?void 0:t.message),x(`/grievance/citizen/complaint-success?complaintRefNo=${(n=(c=s==null?void 0:s.data)==null?void 0:c.data)==null?void 0:n.complaintRefNo}`)):m.error("Grievance not created successfully"),a.reset({ulbId:"",moduleId:""})}catch(s){console.log(s)}};return e.jsxs("section",{className:"relative flex w-full",children:[e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 md:w-3/4"}),e.jsxs("div",{className:"flex flex-col justify-center w-full min-h-screen px-4 py-10 md:fixed md:mx-24",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800 capitalize lg:text-3xl dark:text-white",children:e.jsx("span",{className:"text-[#0D7538]",children:"Change Password."})}),e.jsx(b,{className:"px-2",children:"Easily change your password"}),e.jsx("div",{className:"grid w-full md:grid-cols-3 mt-10",children:e.jsx("div",{className:"w-full p-8 bg-white rounded-md shadow-none border dark:bg-gray-800",children:e.jsx(f,{methods:a,onSubmit:a.handleSubmit(p),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"oldPassword",children:"Old Password"}),e.jsx(l,{className:"bg-background",name:"oldPassword",placeholder:""})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"newPassword",children:"New Password"}),e.jsx(l,{className:"bg-background",name:"newPassword",placeholder:""})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"confirmNewPassword",children:"Confirm Password"}),e.jsx(l,{className:"bg-background",name:"confirmNewPassword",placeholder:""})]}),e.jsx("div",{className:"col-span-3",children:e.jsx(N,{isLoading:a.formState.isSubmitting,type:"submit",className:" w-auto rounded-lg px-10 float-right",children:"Submit"})})]})})})})]})]})}function F(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-4",children:e.jsx(P,{})})})}export{F as default};
