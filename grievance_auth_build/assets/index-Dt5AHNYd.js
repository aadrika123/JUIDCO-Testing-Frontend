import{bb as f,b as C,o as y,r as b,v as g,g as v,j as e,w as k,y as w,K as T,c as S,d as U}from"./index-Di_aGywo.js";import{T as A,a as D,b as o,c,d as R,e as l}from"./table-Dsc_-o8o.js";const $=S().shape({ulbId:U().required("ulbId is Required")});function q(){var d,i,u;f(),C({resolver:y($)});const[t,p]=b.useState(""),[r,j]=b.useState({key:"ulbName",direction:"asc"}),n=[...((u=(i=g({api:`${(d=v)==null?void 0:d.getAllUlbDirect}?page=1&limit=10000`,key:"getAllUlbDirect",options:{enabled:!0,refetchOnMount:!1}}).data)==null?void 0:i.data)==null?void 0:u.filter(a=>a==null?void 0:a.ulbName.toLowerCase().includes(t.toLowerCase())))||[]].sort((a,s)=>{var h,x;return r.direction==="asc"?((h=a[r.key])==null?void 0:h.localeCompare(s[r.key]))||0:r.direction==="desc"&&((x=s[r.key])==null?void 0:x.localeCompare(a[r.key]))||0}),m=a=>{let s="asc";r.key===a&&r.direction==="asc"&&(s="desc"),j({key:a,direction:s})},N=a=>{const s=a;window.open(`tel:${s}`,"_self")};return e.jsxs("div",{className:"w-full md:w-8/12 p-2 mx-auto",children:[e.jsx("div",{className:"mt-4",children:e.jsx("h1",{className:"text-blue-800 font-bold text-2xl underline mb-2",children:"Ulb Wise Grievance via Phone Number"})}),e.jsx(k,{children:e.jsxs(w,{children:[e.jsx("div",{className:"mb-4 py-2",children:e.jsx("input",{type:"text",placeholder:"Search by ULB Name...",className:"w-64 px-4 py-2 border rounded-md",value:t,onChange:a=>p(a.target.value)})}),e.jsxs(A,{children:[e.jsx(D,{children:e.jsxs(o,{children:[e.jsx(c,{className:"cursor-pointer",children:"Serial No."}),e.jsxs(c,{className:"cursor-pointer",onClick:()=>m("ulbName"),children:["Ulb Name ",r.key==="ulbName"&&(r.direction==="asc"?"↑":"↓")]}),e.jsx(c,{className:"cursor-pointer",children:"Contact No."}),e.jsx(c,{className:"md:hidden block",children:"Action"})]})}),e.jsx(R,{children:(n==null?void 0:n.length)>0?n.map((a,s)=>e.jsxs(o,{children:[e.jsx(l,{children:s+1}),e.jsx(l,{children:a==null?void 0:a.ulbName}),e.jsx(l,{children:(a==null?void 0:a.phonenumber)||"N/A"}),e.jsx(l,{className:"md:hidden block",children:e.jsx(T,{onClick:()=>N(a==null?void 0:a.phonenumber),children:"Call Now"})})]},a._id)):e.jsx(o,{children:e.jsx(l,{colSpan:4,className:"text-center",children:"No results found"})})})]})]})})]})}function E(){return e.jsx("div",{className:"",children:e.jsx(q,{})})}export{E as default};
