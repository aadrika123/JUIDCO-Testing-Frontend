import{i as Y,r as g,h as ne,c as ie,b as _,u as ae,d as z,e as G,j as n,F as k,f as m,k as J,x as te,y as ce,A as K,g as oe}from"./index-ae9171d8.js";function me(l){var U;const{api_selfAdvtCashPayment:w,api_selfAdvtCheckDDPayment:N,api_movableVehicleCashPayment:y,api_movableVehicleCheckDDPayment:C,api_privateLandCashPayment:Q,api_privateLandCheckDDPayment:D,api_agencyCashPayment:b,api_agencyCheckDDPayment:x,api_hoardingCashPayment:F,api_hoardingCheckDDPayment:I,api_banquetMarriageHallCashPayment:A,api_banquetMarriageHallCheckDDPayment:q,api_hostelCashPayment:P,api_hostelCheckDDPayment:S,api_lodgeCashPayment:H,api_lodgeCheckDDPayment:E,api_dharamshalaCashPayment:M,api_dharamshalaCheckDDPayment:B}=K(),{id:t,moduleType:L}=Y(),[p,v]=g.useState(!1),[h,r]=g.useState(!1),[c,u]=g.useState(null),[f,O]=g.useState(null),W=ne();g.useState(!1);const[o,X]=g.useState(),[re,Z]=g.useState(!1);ie({paymentMode:_().required("select payment mode"),bankName:_(),branchName:_(),cheque_dd_no:_()});const s=ae({initialValues:{paymentMode:"",bankName:"",branchName:"",cheque_dd_no:""},onSubmit:(e,i)=>{console.log("values at submit payment",e),le(e)}}),ee=e=>{let i=e.target.name,a=e.target.value;i=="paymentMode"&&X(a),i=="payAdvance"&&Z(e.target.checked)},le=e=>{r(!0);let i,a;o=="CASH"&&(l==null?void 0:l.applicationFor)=="selfAdvt"&&(i=w,a={applicationId:t,status:1}),o=="CASH"&&(l==null?void 0:l.applicationFor)=="movableVehicle"&&(i=y,a={applicationId:t,status:1}),o=="CASH"&&(l==null?void 0:l.applicationFor)=="privateLand"&&(i=Q,a={applicationId:t,status:1}),o=="CASH"&&(l==null?void 0:l.applicationFor)=="agency"&&(i=b,a={applicationId:t,status:1}),o=="CASH"&&(l==null?void 0:l.applicationFor)=="hoarding"&&(i=F,a={applicationId:t,status:1}),o=="CASH"&&(l==null?void 0:l.applicationFor)=="banquetMarriageHall"&&(i=A,a={applicationId:t,status:1}),o=="CASH"&&(l==null?void 0:l.applicationFor)=="hostel"&&(i=P,a={applicationId:t,status:1}),o=="CASH"&&(l==null?void 0:l.applicationFor)=="lodge"&&(i=H,a={applicationId:t,status:1}),o=="CASH"&&(l==null?void 0:l.applicationFor)=="dharamshala"&&(i=M,a={applicationId:t,status:1}),o=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="selfAdvt"&&(i=N,a={applicationId:t,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),o=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="movableVehicle"&&(i=C,a={applicationId:t,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),o=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="privateLand"&&(i=D,a={applicationId:t,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),o=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="agency"&&(i=x,a={applicationId:t,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),o=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="hoarding"&&(i=I,a={applicationId:t,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),o=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="banquetMarriageHall"&&(i=q,a={applicationId:t,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),o=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="hostel"&&(i=S,a={applicationId:t,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),o=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="lodge"&&(i=E,a={applicationId:t,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),o=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="dharamshala"&&(i=B,a={applicationId:t,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),console.log("before make payment..",a),z.post(i,a,G()).then(function(d){var V,T,$,j,R;console.log(" payment response...",d==null?void 0:d.data),u((T=(V=d==null?void 0:d.data)==null?void 0:V.data)==null?void 0:T.transactionNo),O((j=($=d==null?void 0:d.data)==null?void 0:$.data)==null?void 0:j.workflowId),v((R=d==null?void 0:d.data)==null?void 0:R.status),r(!1)}).catch(function(d){console.log(" payment error..",d),r(!1)})};return console.log("currentTransactionNo",c),console.log("workFlowId",f),p==!0?n(k,{children:n("div",{className:"w-full h-full bg-white p-20",children:m("div",{children:[n("div",{className:"text-center font-semibold text-3xl",children:"Your payment has been successfully done !"}),n("div",{className:"text-center mt-6",children:n("button",{className:"mr-4 bg-indigo-500  text-white px-6 py-1 shadow-lg hover:scale-105 rounded-sm",onClick:()=>W(`/agencyPaymentReceipt/${c}/${f}`),children:"View Receipt"})})]})})}):m(k,{children:[h&&n(J,{}),n(te,{position:"top-right",autoClose:2e3}),n("div",{className:" block p-4 mt-4 w-full md:py-4 md:px-40 md:pb-0 md:pt-0 rounded-lg shadow-lg bg-white md:w-full mx-auto  overflow-x-auto mb-20 ",children:m("div",{className:" block p-4 w-full md:py-6 rounded-lg bg-white mx-auto ",children:[m("h1",{className:"mb-2 text-gray-600 text-xl",children:[n("img",{src:ce,alt:"rupee-image",className:"w-5 inline"})," Payable Amount - ",n("span",{className:"font-semibold text-lg text-gray-800",children:(U=l==null?void 0:l.applicationDetail)==null?void 0:U.payment_amount})]}),n("form",{onSubmit:s.handleSubmit,onChange:ee,className:"p-4 relative",children:m("div",{className:"grid grid-cols-12",children:[m("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[m("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Payment Mode"]}),m("select",{...s.getFieldProps("paymentMode"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[n("option",{children:"Select"}),n("option",{value:"CASH",children:"Cash"}),n("option",{value:"CHEQUE",children:"Cheque"}),n("option",{value:"DD",children:"DD"})]}),n("span",{className:"text-red-600 absolute text-xs",children:s.touched.paymentMode&&s.errors.paymentMode?s.errors.paymentMode:null})]}),(o=="CHEQUE"||o=="DD")&&m(k,{children:[m("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[m("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Bank Name"]}),n("input",{...s.getFieldProps("bankName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),n("span",{className:"text-red-600 absolute text-xs",children:s.touched.bankName&&s.errors.bankName?s.errors.bankName:null})]}),m("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[m("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Branch Name"]}),n("input",{...s.getFieldProps("branchName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),n("span",{className:"text-red-600 absolute text-xs",children:s.touched.branchName&&s.errors.branchName?s.errors.branchName:null})]}),m("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[m("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD No"]}),n("input",{...s.getFieldProps("cheque_dd_no"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),n("span",{className:"text-red-600 absolute text-xs",children:s.touched.cheque_dd_no&&s.errors.cheque_dd_no?s.errors.cheque_dd_no:null})]})]}),n("div",{className:"col-span-12"}),n("div",{className:"col-span-12 grid grid-cols-2 mt-10",children:n("div",{className:"md:pl-10 text-right",children:n("button",{type:"submit",className:" px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"Pay "})})})]})})]})})]})}function he(l){var t,L,p,v;const[w,N]=g.useState(!1),[y,C]=g.useState(),[Q,D]=g.useState(),{id:b,idFor:x}=Y();oe("Payment Screen");const{api_agencyApplicationFullDetailById:F,api_privateLandApplicationFullDetailById:I,api_advertApplicationFullDetailById:A,api_movableApplicationFullDetailById:q,api_hoardingApplicationFullDetailById:P,api_BanquetMarriageApplicationFullDetailById:S,api_HostelApplicationFullDetailById:H,api_LodgeApplicationFullDetailById:E,api_DharamshalaApplicationFullDetailById:M}=K(),B=()=>{const h="Approve",r=x;console.log("application for",r),N(!0);let c,u;r=="selfAdvt"&&(c=A,u={applicationId:b,type:h}),r=="movableVehicle"&&(c=q,u={applicationId:b,type:h}),r=="privateLand"&&(c=I,u={applicationId:b,type:h}),r=="agency"&&(c=F,u={applicationId:b,type:h}),r=="hoarding"&&(c=P,u={applicationId:b,type:h}),r=="banquetMarriageHall"&&(c=S,u={applicationId:b,type:h}),r=="hostel"&&(c=H,u={applicationId:b,type:h}),r=="lodge"&&(c=E,u={applicationId:b,type:h}),r=="dharamshala"&&(c=M,u={applicationId:b,type:h}),console.log("request body 12",u),z.post(`${c}`,u,G()).then(function(f){console.log("payment details data...",f),C(f.data.data),D(f==null?void 0:f.data),N(!1)}).catch(function(f){console.log("payment details error...",f),N(!1)})};return g.useEffect(()=>{B()},[]),m(k,{children:[w&&n(J,{}),m("div",{className:"p-10",children:[n("h1",{className:"text-center pl-2 font-bold text-2xl text-gray-700 uppercase underline",children:(L=(t=y==null?void 0:y.fullDetailsData)==null?void 0:t.cardArray)==null?void 0:L.headerTitle}),n("h1",{className:"flex-1 flex p-2 pl-2 pt-2 font-bold text-xl text-gray-700 bg-white shadow-lg",children:"Pay License Fee"}),n("div",{className:"w-full bg-white shadow-xl mb-6",children:n("div",{className:" mt-2 rounded-lg shadow-lg p-4",children:(v=(p=y==null?void 0:y.fullDetailsData)==null?void 0:p.dataArray)==null?void 0:v.map(h=>{var r;return n("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 container mx-auto  p-4 mt-4",children:(r=h==null?void 0:h.data)==null?void 0:r.map(c=>m("div",{className:"pl-4 p-2",children:[m("h1",{className:"font-bold text-sm",children:[(c==null?void 0:c.value)||"N/A"," "]}),n("h1",{className:"text-gray-500 text-xs",children:c==null?void 0:c.displayString})]}))})})})}),n("div",{children:n(me,{applicationDetail:y,applicationFor:x})})]}),n("div",{className:"w-full h-40 md:none"})]})}export{he as default};
