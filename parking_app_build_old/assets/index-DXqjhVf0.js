import{u as A,j as e,I as Y,B as C,p as M}from"./index-FgAh2Vi0.js";import{P as L}from"./index-BxyVfkOV.js";import{C as B,I as w}from"./Image-jNCK4nXw.js";import{c as S}from"./useCustomQuery-BhBLTzQ6.js";import{h as a}from"./moment-BjLXg0w5.js";import{S as I}from"./separator-BxN8mDOa.js";import{b as H}from"./router-DLL89Qev.js";import"./axios-DmypytPv.js";import"./headlessui-DXpdh5LM.js";function q(){var n,l,o,i,c,d,x,h,f,j;const P=H(),{user:t}=A(),r=new URLSearchParams(P.search).get("receipt_no"),s=S({api:`${M.inReceipt}/${r}`,key:"inReceipt",options:{enabled:!!r}}),m=((l=(n=s==null?void 0:s.data)==null?void 0:n.data)==null?void 0:l.parking_area)??"NA",T=()=>{var g,N,p,b,y,u,_,v;return"[C]"+(t==null?void 0:t.ulb_name)+`
[C]Parking
*******************************
 
Receipt no: `+((N=(g=s==null?void 0:s.data)==null?void 0:g.data)==null?void 0:N.receipt_no)+`
Date: `+a((b=(p=s==null?void 0:s.data)==null?void 0:p.data)==null?void 0:b.date).format("DD-MM-YYYY")+`
In-Time: `+a((u=(y=s==null?void 0:s.data)==null?void 0:y.data)==null?void 0:u.in_time,"HH:mm").format("hh:mm A")+`
Vehicle No: `+((v=(_=s==null?void 0:s.data)==null?void 0:_.data)==null?void 0:v.vehicle_no)+`
Incharge ID: `+(t==null?void 0:t.emp_id)+`
Area: `+m+`

Thank You for using our service!
*******************************`},k=()=>{window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({Key:"PRINT_FOR_BT_PRINTER",keyData:{charPerLine:32,printTxt:T()}}))};return s!=null&&s.isLoading?e.jsx("div",{className:"flex justify-center items-center h-[700px]",children:e.jsx(Y,{})}):e.jsx(L,{title:"Receipt",children:e.jsx("div",{className:"p-4",children:e.jsx(B,{children:e.jsxs("div",{className:"flex flex-col justify-center items-center py-8 px-10",children:[e.jsx("div",{children:e.jsx(w,{src:(t==null?void 0:t.ulb_logo)??"/assets/image/RMC_LOGO.png",alt:"receipt"})}),e.jsx("div",{className:"flex flex-col md:flex-row",children:e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("div",{className:"flex mt-2 ",children:e.jsx("h2",{className:"text-[#585858] font-bold text-lg text-center",children:t==null?void 0:t.ulb_name})}),e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx("h1",{className:"text-md font-bold break-words text-[#1436C3]",children:"Parking Management System"}),e.jsx(w,{src:"/assets/image/bus 1.png",alt:"Bus",className:"ml-2 max-w-full h-5 w-5"})]})]})}),e.jsx(I,{className:"mt-5 mb-5"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Receipt no:"}),e.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:(i=(o=s==null?void 0:s.data)==null?void 0:o.data)==null?void 0:i.receipt_no}),e.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Incharge ID:"}),e.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:t==null?void 0:t.emp_id}),e.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Date:"}),e.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:a((d=(c=s==null?void 0:s.data)==null?void 0:c.data)==null?void 0:d.date).format("DD-MM-YYYY")}),e.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"In Time:"}),e.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:a((h=(x=s==null?void 0:s.data)==null?void 0:x.data)==null?void 0:h.in_time,"HH:mm").format("hh:mm A")}),e.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Vehicle No:"}),e.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:(j=(f=s==null?void 0:s.data)==null?void 0:f.data)==null?void 0:j.vehicle_no}),e.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Area:"}),e.jsx("h1",{className:"text-sm font-semibold text-gray-600  text-wrap",children:m})]}),e.jsx(I,{className:"mt-5 mb-5"}),e.jsx("div",{className:"flex justify-center w-full",children:e.jsx(C,{size:"sm",onClick:k,children:"Print Receipt"})})]})})})})}export{q as default};
