import{r as f,b as H,o as $,s as L,g as k,j as a,F as R,H as y,X as P,M as S,B as A,t as B,v as E,w as M,x as G,y as I,c as U,d as V}from"./index-BM0oc_dR.js";import{T as X,a as Y,b as T,c as r,d as _,e as d}from"./table-BWoLNWxy.js";import{P as q}from"./index-D9n-mIVU.js";import{P as z}from"./index-lAQ15i_6.js";import"./pagination-CQ-KYJ4s.js";import"./badge-272lERzh.js";import"./index-CeYUPDYe.js";import"./circle-check-big-DCfAJpH9.js";const J=U().shape({duration:V()});function K(){var t,o,u,x,h,j,b,m,v,p,g;const[i,C]=f.useState(1),[c,D]=f.useState(10),n=H({resolver:$(J),defaultValues:{duration:""}}),F=async()=>{s.refetch()},s=L({api:`${k.complaintTimeDurationReport}?page=${i}&limit=${c}&duration=${n.watch("duration")}`,key:"searchAllComplaints",value:[i,c],options:{enabled:!0}}),l=[{id:1,value:"1",label:"1 Day"},{id:2,value:"2",label:"2 Day"},{id:3,value:"3",label:"3 Day"},{id:4,value:"4",label:"4 Day"},{id:5,value:"5",label:"5 Day"},{id:6,value:"6",label:"6 Day"},{id:7,value:"7",label:"7 Day"},{id:8,value:"8",label:"8 Day"},{id:9,value:"9",label:"9 Day"},{id:10,value:"10",label:"10 Day"}];return a.jsxs(a.Fragment,{children:[a.jsx(R,{methods:n,onSubmit:n.handleSubmit(F),children:a.jsxs("div",{className:"grid grid-cols-4 gap-x-2  bg-background p-10",children:[a.jsx("h1",{className:"text-xl font-bold text-blue-800 uppercase col-span-4",children:"Search Your Complaint "}),a.jsx(y,{className:"col-span-4"}),a.jsxs("div",{children:[a.jsx(P,{htmlFor:"duration",children:"Time Duration Type"}),a.jsx(S,{className:"bg-background cursor-pointer",name:"duration",data:(l==null?void 0:l.map(e=>({value:e==null?void 0:e.value,label:e==null?void 0:e.label})))??[]})]}),a.jsxs("div",{children:[a.jsx(P,{htmlFor:"duration",children:"Resolved Under"}),a.jsx(S,{className:"bg-background cursor-pointer",name:"duration",data:(l==null?void 0:l.map(e=>({value:e==null?void 0:e.value,label:e==null?void 0:e.label})))??[]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(A,{isLoading:n.formState.isSubmitting,type:"submit",className:" w-auto  px-10 float-right",children:"Search"})})]})}),a.jsx("div",{className:"mt-2",children:a.jsxs(B,{children:[a.jsx(E,{className:"px-7",children:a.jsxs(M,{children:["Complaint List ( ",(o=(t=s.data)==null?void 0:t.data)==null?void 0:o.totalDocs," )"]})}),a.jsx(G,{children:s.isLoading?a.jsx("div",{className:"flex h-32 items-center justify-center",children:a.jsx(I,{})}):a.jsxs("div",{children:[a.jsxs(X,{children:[a.jsx(Y,{children:a.jsxs(T,{children:[a.jsx(r,{className:"",children:"#"}),a.jsx(r,{className:"",children:"Complaint Tittle."}),a.jsx(r,{className:"",children:"Module"}),a.jsx(r,{className:"",children:"Duration Day's"}),a.jsx(r,{className:"",children:"Resolve Status"})]})}),a.jsx(_,{children:(h=(x=(u=s==null?void 0:s.data)==null?void 0:u.data)==null?void 0:x.docs)==null?void 0:h.map((e,w)=>{var N;return a.jsxs(T,{children:[a.jsx(d,{children:w+1}),a.jsx(d,{children:e.complaintTitle}),a.jsx(d,{children:(N=e==null?void 0:e.module)==null?void 0:N.moduleName}),a.jsxs(d,{children:[e.duration," ( Day's)"]}),a.jsx(d,{children:e.wfStatus==0?"Pending":"Resolved"})]},e._id)})})]}),a.jsx(y,{className:"mb-2 mt-4"}),a.jsx("div",{className:"flex w-full justify-end",children:a.jsx(q,{page:i,perPage:c,totalPage:(b=(j=s==null?void 0:s.data)==null?void 0:j.data)==null?void 0:b.totalDocs,hasNextPage:(v=(m=s==null?void 0:s.data)==null?void 0:m.data)==null?void 0:v.hasNextPage,hasPrevPage:(g=(p=s==null?void 0:s.data)==null?void 0:p.data)==null?void 0:g.hasPrevPage,setPage:C,setPerPage:D})})]})})]})})]})}function ra(){return a.jsx(z,{title:"Reports Details",subTitle:"Grievance Reports",children:a.jsx("div",{className:"",children:a.jsx(K,{})})})}export{ra as default};
