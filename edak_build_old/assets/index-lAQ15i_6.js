import{P as h,a as x,r as i,s as U,j as e,Y as w,Z as k,$ as A,a0 as C,K as H,g as Y,aa as q,ab as g,ac as z,ad as M,ae as f,af as G,ag as K,Q as O,ah as Q,ai as V,aj as v,ak as Z,al as J,am as W,an as X,ao as ee,C as m,L as N,ap as u}from"./index-BM0oc_dR.js";import{B as ae}from"./badge-272lERzh.js";import{C as se,a as b,T as te,b as re}from"./index-CeYUPDYe.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=h("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=h("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=h("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function ne(a=""){const{setTitle:t}=x();return i.useEffect(()=>{t(a)},[a]),null}function ie({notificationSide:a,notificationType:t}){var c,d;const[s,l]=i.useState(null),n=U({api:`${Y.getUserNotificationAuth}?notificationSide=${a}&notificationType=${t}`,key:"myNotificationsAuth",options:{enabled:!0}});return e.jsxs(w,{children:[e.jsx(k,{}),e.jsx(A,{className:"sm:max-w-[500px]",children:e.jsx("div",{children:s&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold  text-lg text-amber-500",children:[e.jsx(y,{className:"inline mr-2"}),s==null?void 0:s.title]}),e.jsx("p",{className:"text-gray-600",children:s==null?void 0:s.description})]})})}),e.jsx("div",{className:" max-h-[95%] overflow-y-auto",children:(d=(c=n==null?void 0:n.data)==null?void 0:c.data)==null?void 0:d.docs.map(r=>e.jsx(C,{asChild:!0,onClick:()=>l(r),children:e.jsxs("div",{className:"relative flex items-start p-4 bg-white border border-gray-200 rounded-lg shadow-md mb-2 cursor-pointer",children:[e.jsx(y,{className:"h-6 w-6 text-amber-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"font-semibold text-gray-900 ",children:r==null?void 0:r.title}),e.jsx("div",{className:"w-60 overflow-hidden text-ellipsis whitespace-nowrap mb-2",children:r==null?void 0:r.description})]}),e.jsx(ae,{className:"text-xs absolute bottom-0 right-0",variant:"outline",children:H(r==null?void 0:r.createdAt).format("DD-MM-YYYY hh:mm a")})]})},r==null?void 0:r.id))})]})}var p="Avatar",[ce,pe]=q(p),[de,S]=ce(p),L=i.forwardRef((a,t)=>{const{__scopeAvatar:s,...l}=a,[n,c]=i.useState("idle");return e.jsx(de,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:c,children:e.jsx(g.span,{...l,ref:t})})});L.displayName=p;var D="AvatarImage",R=i.forwardRef((a,t)=>{const{__scopeAvatar:s,src:l,onLoadingStatusChange:n=()=>{},...c}=a,d=S(D,s),r=xe(l),o=z(j=>{n(j),d.onImageLoadingStatusChange(j)});return M(()=>{r!=="idle"&&o(r)},[r,o]),r==="loaded"?e.jsx(g.img,{...c,ref:t,src:l}):null});R.displayName=D;var T="AvatarFallback",I=i.forwardRef((a,t)=>{const{__scopeAvatar:s,delayMs:l,...n}=a,c=S(T,s),[d,r]=i.useState(l===void 0);return i.useEffect(()=>{if(l!==void 0){const o=window.setTimeout(()=>r(!0),l);return()=>window.clearTimeout(o)}},[l]),d&&c.imageLoadingStatus!=="loaded"?e.jsx(g.span,{...n,ref:t}):null});I.displayName=T;function xe(a){const[t,s]=i.useState("idle");return M(()=>{if(!a){s("error");return}let l=!0;const n=new window.Image,c=d=>()=>{l&&s(d)};return s("loading"),n.onload=c("loaded"),n.onerror=c("error"),n.src=a,()=>{l=!1}},[a]),t}var E=L,P=R,B=I;const _=i.forwardRef(({className:a,...t},s)=>e.jsx(E,{ref:s,className:f("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));_.displayName=E.displayName;const $=i.forwardRef(({className:a,...t},s)=>e.jsx(P,{ref:s,className:f("aspect-square h-full w-full",a),...t}));$.displayName=P.displayName;const F=i.forwardRef(({className:a,...t},s)=>e.jsx(B,{ref:s,className:f("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));F.displayName=B.displayName;function me(){const{user:a}=x(),{logout:t}=x(),s=()=>{se("Are you sure?","Please confirm",async()=>{X(),t()})};return e.jsxs(G,{children:[e.jsx(K,{asChild:!0,children:e.jsx(O,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(_,{className:"h-10 w-10",children:[e.jsx($,{src:a!=null&&a.googleId?a==null?void 0:a.imageUrl:a==null?void 0:a.imgFullPath,alt:"profile"}),e.jsx(F,{children:"SN"})]})})}),e.jsxs(Q,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(V,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:a==null?void 0:a.fullName}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:a==null?void 0:a.email})]})}),e.jsx(v,{}),e.jsx(Z,{}),e.jsx(v,{}),e.jsxs(J,{onClick:()=>s(),children:["Log out",e.jsx(W,{children:"⇧⌘Q"})]})]})]})}const ue=i.forwardRef(({children:a,title:t="",subTitle:s="",searchLink:l="",searchLabel:n="",meta:c,...d},r)=>{ne(t);const{user:o}=x();return i.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]),e.jsxs(e.Fragment,{children:[e.jsxs(ee,{children:[e.jsx("title",{children:`${t} | E-Dak`}),c]}),e.jsx("div",{ref:r,...d,children:e.jsxs(w,{children:[e.jsx(k,{}),e.jsxs(A,{className:"sm:max-w-[600px]",children:[e.jsxs(m,{className:"mt-4 text-xl text-gray-500 font-bold flex justify-between",children:["This is your process",e.jsx(N,{to:"/grievance/citizen/complaint-registration-info",target:"_blank"})," "]}),e.jsx("div",{className:"py-4",children:e.jsxs("video",{controls:!0,autoPlay:!0,width:"fill",children:[e.jsx("source",{src:"/images/info1.mp4",type:"video/mp4"}),"Your browser does not support HTML video."]})})]}),e.jsxs(u,{fixed:!0,children:[e.jsxs(u.Header,{sticky:!0,className:"border-b border-r-2 border-r-muted",children:[e.jsxs("div",{className:"flex gap-3",children:[(o==null?void 0:o.ulbName)&&e.jsxs("h1",{className:"text-gray-700 font-bold text-lg  hidden sm:block",children:["ULB :- ",o==null?void 0:o.ulbName]}),e.jsxs("h1",{className:"text-gray-700 font-bold text-lg  hidden sm:block",children:["ROLE :- ",o==null?void 0:o.role]}),(o==null?void 0:o.moduleName)&&e.jsxs("h1",{className:"text-gray-700 font-bold text-lg  hidden sm:block uppercase",children:["MODULE :- ",o==null?void 0:o.moduleName]})]}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4 ",children:[e.jsx(C,{asChild:!0,children:e.jsx("div",{className:"w-6 h-6 bg-background border border-black cursor-pointer rounded-full flex justify-center items-center shadow-xl",children:e.jsx("span",{className:"font-bold text-xl",children:"?"})})}),e.jsxs(b,{trigger:e.jsx(le,{size:25,className:"text-black cursor-pointer hover:scale-110"}),children:[e.jsx(m,{className:"mb-4 text-[#0D7538] text-lg",children:"Recent Updates"}),e.jsx(te,{notificationSide:0,notificationType:1})]}),e.jsxs(b,{trigger:e.jsx(oe,{size:25,className:"text-black cursor-pointer hover:scale-110"}),children:[e.jsx(m,{className:"mb-4 text-[#0D7538] text-lg ",children:"My Notifications"}),e.jsx(ie,{notificationSide:0,notificationType:0})]}),e.jsx(re,{}),e.jsx(me,{})]})]}),e.jsxs(u.Body,{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between space-y-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:t}),e.jsx("p",{className:"text-muted-foreground",children:s})]}),n&&e.jsx(N,{className:"text-blue-800 font-semibold hover:underline",to:l,target:"_blank",children:e.jsx("div",{children:n})})]}),e.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:a})]})]})]})})]})}),je=ue;export{je as P};
