import{j as a}from"./mui-8bd1858b.js";import{r as d,f as w,u as q}from"./router-56e993c5.js";import{o as W,W as z,c as I,d as m,u as R,M as L}from"./index-48939ba9.js";import{a as M}from"./axios-ab7cc016.js";import{C as U}from"./ChatBot-72c5dcd2.js";import{B as Z}from"./BarLoader-29e6d937.js";import"./reactIcons-d26c0b2d.js";import"./materialTailwind-98468b5d.js";import"./moment-a9aaa855.js";import"./redux-a3f69129.js";import"./i18next-2edfafb0.js";/* empty css                */const O=(t,s)=>{if(s.includes("mobile")){const e=t.target.value;e.length>10&&(t.target.value=e.slice(0,10))}if(s.includes("zip")){const e=t.target.value;e.length>6&&(t.target.value=e.slice(0,6))}if(s.includes("partPayment")){const e=t.target.value;e.length>7&&(t.target.value=e.slice(0,7))}if(s.includes("floatNumber")){const e=t.target.value;t.target.value=e.replace(/[^0-9.]/g,"")}if(s.includes("mReading")){const e=t.target.value;e.length>4&&(t.target.value=e.slice(0,4))}if(s.includes("aadhar")){const e=t.target.value;e.length>12&&(t.target.value=e.slice(0,12))}if(s.includes("removeDoubleSpace")){const e=t.target.value;t.target.value=e.replace(/\s+/g," ")}if(s.includes("removeSpecialCharacter")){const e=t.target.value;t.target.value=e.replace(/[^a-zA-Z0-9]/g,"")}if(s.includes("removeSpecialCharacterExceptSpace")){const e=t.target.value;t.target.value=e.replace(/[^a-zA-Z0-9 ]/g,"")}if(s.includes("removeSpecialCharacterExceptSpaceAndDot")){const e=t.target.value;t.target.value=e.replace(/[^a-zA-Z0-9 .]/g,"")}if(s.includes("sqlInjectionGuard")){const e=t.target.value;(e.includes("drop")||e.includes("select"))&&(t.target.value="")}if(s.includes("address")){const e=t.target.value;t.target.value=e.replace(/[^a-zA-Z0-9 ,]/g,"")}if(s.includes("phone")){const e=t.target.value;t.target.value=e.replace(/[^0-9]/g,"")}if(s.includes("email")){const e=t.target.value;t.target.value=e.replace(/[^a-zA-Z0-9@.]/g,"")}if(s.includes("string")){const e=t.target.value;t.target.value=e.replace(/[^a-zA-Z ]/g,"")}if(s.includes("number")){const e=t.target.value;t.target.value=e.replace(/[^0-9]/g,"")}if(s.includes("removeDoubleQuote")){const e=t.target.value;t.target.value=e.replace(/"/g,"")}if(s.includes("removeSingleQuote")){const e=t.target.value;t.target.value=e.replace(/'/g,"")}if(s.includes("removeSpecialCharacterWithDoubleSpace")){const e=t.target.value;t.target.value=e.replace(/[^a-zA-Z0-9 ]/g,"");const n=t.target.value;t.target.value=n.replace(/\s+/g," ")}if(s.includes("CapitalFirstLetter")){const e=t.target.value;t.target.value=e.charAt(0).toUpperCase()+e.slice(1)}if(s.includes("UppercaseAfterSpace")){const e=t.target.value;t.target.value=e.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}if(s.includes("Uppercase")){const e=t.target.value;t.target.value=e.toUpperCase()}if(s.includes("removeSpace")){const e=t.target.value;t.target.value=e.replace(/\s+/g,"")}if(s.includes("password")){const e=t.target.value;t.target.value=e.replace(/[^a-zA-Z0-9@#$%^&*]/g,"")}if(s.includes("Lowercase")){const e=t.target.value;t.target.value=e.toLowerCase()}if(s.includes("none")){const e=t.target.value;t.target.value=e}},H="/assets/watertap-7e473123.png",B={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"",border:"none"}},ae=()=>{const[t,s]=d.useState(!1),[e,n]=d.useState(!1),[u,N]=d.useState();w();const{notify:g}=d.useContext(W),[p,h]=d.useState(""),[i,j]=d.useState(!1);d.useState(!1);const y=()=>{j(!i)},S={feruleCleaning:!1,pipeShifting:!1,remarks:"",reason:"",address:"",mobileNo:"",document:""},C=q(),{consumerId:x}=w();console.log("param payment id ..",x);const{api_applywaterdisconnection:k,header:A}=z(),F=I().shape({remarks:m().required("Remarks is required"),address:m().required("Address is required"),reason:m().required("Address is required"),document:m().required("Document  is required")}),r=R({initialValues:S,validationSchema:F,onSubmit:o=>{n(!0);let c=new FormData;c.append("consumerId",x),c.append("remarks",o==null?void 0:o.remarks),c.append("reason",o==null?void 0:o.reason),c.append("mobileNo",o==null?void 0:o.mobileNo),c.append("address",o==null?void 0:o.address),c.append("documents[2][image]",o.document),c.append("documents[2][docCode]","Soft Copy Of Ofline form"),c.append("documents[2][ownerDtlId]",""),M.post(k,c,A).then(l=>{var f,b,v;l.data.status==!0?(N((f=l==null?void 0:l.data)==null?void 0:f.data),n(!1),console.log("Data Really Saved",l),s(!0)):(n(!1),console.log("False While Water Disconnection Apply",l),h(" "+((b=l==null?void 0:l.data)==null?void 0:b.message)),g((v=l==null?void 0:l.data)==null?void 0:v.message,"error"))}).catch(l=>{n(!1),h("Exception While Apply"),g("Something Went Wrong","error"),console.log("Exception while Submitting the form",l)}),console.log(o)}}),D=()=>{},E=()=>{s(!1)};return a.jsxs("div",{children:[e&&a.jsx(Z,{}),a.jsx("div",{className:"justify-items-start p-5 max-sm:p-0  w-full",children:a.jsxs("div",{className:" w-full h-full",children:[a.jsxs("p",{className:"border p-2 bg-indigo-600 text-white rounded shadow-md text-center text-xl font-bold",children:["You are Applying for ",a.jsx("span",{className:"font-semibold",children:"Water Disconnection"})]}),a.jsx("div",{className:"bg-white rounded-md my-2 shadow-lg p-4  ",children:a.jsxs("form",{onSubmit:r.handleSubmit,children:[a.jsx("div",{className:"flex justify-end absolute top-32 h-[40%] w-[50%] max-sm:hidden ml-[38%]",children:a.jsx("img",{src:H,alt:"water tap"})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"reason",className:"block text-gray-700 text-sm font-bold mb-2",children:"Reason:"}),a.jsx("input",{type:"text",id:"reason",name:"reason",className:"px-4 py-2 border rounded w-full sm:w-3/4 md:w-2/3 lg:w-1/2 text-sm",placeholder:"Enter your Reason",value:r.values.reason,onChange:r.handleChange}),r.errors.reason&&r.touched.reason&&a.jsx("div",{className:"text-red-500 text-xs",children:r.errors.reason})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"address",className:"block text-gray-700 text-sm font-bold mb-2",children:"Address:"}),a.jsx("input",{type:"text",id:"address",name:"address",className:"px-4 py-2 border rounded w-full sm:w-3/4 md:w-2/3 lg:w-1/2 text-sm",placeholder:"Enter your Address",value:r.values.address,onChange:r.handleChange}),r.errors.address&&r.touched.address&&a.jsx("div",{className:"text-red-500 text-xs",children:r.errors.address})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"mobileNo",className:"block text-gray-700 text-sm font-bold mb-2",children:"Updated Mobile Number:"}),a.jsx("input",{type:"text",id:"mobileNo",name:"mobileNo",className:"px-4 py-2 border rounded w-full sm:w-3/4 md:w-2/3 lg:w-1/2 text-sm",placeholder:"Enter your updated Mobile No",value:r.values.mobileNo,onChange:o=>{r.handleChange(o),O(o,["mobile","number"])}}),r.errors.mobileNo&&r.touched.mobileNo&&a.jsx("div",{className:"text-red-500 text-xs",children:r.errors.mobileNo})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"document",className:"block text-gray-700 text-sm font-bold mb-2",children:"Upload Soft Copy of Water Disconnection Form:"}),a.jsx("input",{type:"file",id:"document",name:"document",className:"px-4 py-2 border rounded w-full sm:w-3/4 md:w-2/3 lg:w-1/2 text-sm",placeholder:"Upload Document",onChange:o=>{r.setFieldValue("document",o.currentTarget.files[0])}}),r.errors.document&&r.touched.document&&a.jsx("div",{className:"text-red-500 text-xs",children:r.errors.document})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"remarks",className:"block text-gray-700 text-sm font-bold mb-2",children:"Remarks:"}),a.jsx("textarea",{id:"remarks",name:"remarks",className:"px-4 py-2 border rounded w-full sm:w-3/4 md:w-2/3 lg:w-1/2 text-sm",placeholder:"Enter any additional remarks...",value:r.values.remarks,onChange:r.handleChange}),r.errors.remarks&&r.touched.remarks&&a.jsx("div",{className:"text-red-500 text-xs",children:r.errors.remarks})]}),p&&a.jsxs("div",{className:"text-center text-red-600 font-semibold mb-3",children:["Error: ",p]}),a.jsxs("div",{className:"w-full m-2",children:[a.jsxs("label",{htmlFor:"declaration",className:"inline-flex items-center mb-2",children:[a.jsx("input",{type:"checkbox",id:"declaration",className:"form-checkbox h-5 w-5 text-blue-600 cursor cursor-pointer ",checked:i,onChange:y}),a.jsx("span",{className:"ml-2 text-sm text-red-500 font-semibold",children:"I hereby declare that the above particulars of facts and information stated are true, Correct, and Complete to the best of my belief and knowledge."})]}),a.jsx("div",{className:"text-right",children:a.jsx("button",{type:"submit",className:`bg-indigo-600 text-white font-medium text-sm leading-tight hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out px-12 py-2.5 rounded w-[50%] md:w-[25%] lg:w-[15%]
                    ${i?"opacity-100 transition-opacity":"opacity-50 transition-opacity"}`,disabled:!i,children:"Submit"})})]})]})})]})}),a.jsx(L,{isOpen:t,onAfterOpen:D,onRequestClose:E,style:B,contentLabel:"Example Modal",children:a.jsx("div",{className:"bg-white shadow-2xl border border-blue-200 rounded-md ",children:a.jsx("div",{className:"block p-4 md:py-6 shadow-lg bg-indigo-100 border border-indigo-300 rounded  mx-auto ",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("p",{className:"font-semibold",children:"Your Application Has been Submitted Successfully."}),a.jsxs("p",{children:[a.jsx("span",{className:"text-sm",children:" Application No: "}),a.jsx("span",{className:"text-indigo-600 font-semibold",children:(u==null?void 0:u.application_no)||"N/A"})]}),a.jsx("button",{onClick:()=>C("/landingDashboard"),className:"bg-white hover:bg-indigo-600 hover:text-white text-indigo-700  border border-indigo-600 mx-2 rounded-sm text-sm px-4 py-2 shadow-xl",children:"Home"}),a.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white mx-2 rounded-sm text-sm px-4 py-2 shadow-xl",children:"Make Payment"})]})})})}),a.jsx(U,{topic:[{q:"How to apply ",a:"You can apply water connection against your property using Holding or SAF."},{q:"Which documents need to submit  ?",a:"Holding proff ,saf proff"}]})]})};export{ae as default};
