import{j as e}from"./mui-8bd1858b.js";import{u as M,r as g}from"./router-56e993c5.js";import{u as z,A as P,r as ee,Q as I,p as Q,K as R,ah as se,R as re,C as J,b as $,ai as le,aj as oe,n as m,ak as ne,al as S}from"./index-48939ba9.js";import{u as H}from"./user-9843d999.js";import{G as ie}from"./reactIcons-d26c0b2d.js";import{R as X}from"./index.esm-9221a1e6.js";import{b as te}from"./UsefulFunctions-f0597782.js";import{b as ae}from"./index.esm-f1f230fb.js";import{m as ce}from"./marriage_bg-8e87c671.js";/* empty css              */import{w as de,t as xe,a as pe,s as me,b as ge,p as ue}from"./septic-92c6194c.js";import"./axios-ab7cc016.js";import"./materialTailwind-98468b5d.js";import"./moment-a9aaa855.js";import"./redux-a3f69129.js";import"./i18next-2edfafb0.js";import"./sweetalert2.esm.all-93f49e75.js";const he="/assets/background-90d7111d.jpeg";function fe(s){return ie({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 16 1.25 L 15.1875 2.4375 C 15.1875 2.4375 14.648438 3.191406 14.125 4.09375 C 13.863281 4.546875 13.617188 5.019531 13.40625 5.5 C 13.195313 5.980469 13 6.421875 13 7 C 13 8.644531 14.355469 10 16 10 C 17.644531 10 19 8.644531 19 7 C 19 6.421875 18.804688 5.980469 18.59375 5.5 C 18.382813 5.019531 18.136719 4.546875 17.875 4.09375 C 17.351563 3.191406 16.8125 2.4375 16.8125 2.4375 Z M 16 10 L 13 10 L 13 14 L 7 14 C 4.789063 14 3 15.789063 3 18 C 3 19.015625 3.375 19.949219 4 20.65625 L 4 28 L 28 28 L 28 20.65625 C 28.625 19.949219 29 19.015625 29 18 C 29 15.789063 27.210938 14 25 14 L 19 14 L 19 10 Z M 16 4.875 C 16.066406 4.984375 16.058594 4.976563 16.125 5.09375 C 16.363281 5.503906 16.617188 5.941406 16.78125 6.3125 C 16.945313 6.683594 17 7.027344 17 7 C 17 7.554688 16.554688 8 16 8 C 15.445313 8 15 7.554688 15 7 C 15 7.027344 15.054688 6.683594 15.21875 6.3125 C 15.382813 5.941406 15.636719 5.503906 15.875 5.09375 C 15.941406 4.976563 15.933594 4.984375 16 4.875 Z M 15 12 L 17 12 L 17 14 L 15 14 Z M 7 16 L 25 16 C 26.191406 16 27 16.808594 27 18 C 27 19.191406 26.191406 20 25 20 C 23.808594 20 23 19.191406 23 18 L 21 18 C 21 19.191406 20.191406 20 19 20 C 17.808594 20 17 19.191406 17 18 L 15 18 C 15 19.191406 14.191406 20 13 20 C 11.808594 20 11 19.191406 11 18 L 9 18 C 9 19.191406 8.191406 20 7 20 C 5.808594 20 5 19.191406 5 18 C 5 16.808594 5.808594 16 7 16 Z M 10 20.65625 C 10.734375 21.484375 11.804688 22 13 22 C 14.195313 22 15.265625 21.484375 16 20.65625 C 16.734375 21.484375 17.804688 22 19 22 C 20.195313 22 21.265625 21.484375 22 20.65625 C 22.734375 21.484375 23.804688 22 25 22 C 25.347656 22 25.679688 21.925781 26 21.84375 L 26 26 L 6 26 L 6 21.84375 C 6.320313 21.925781 6.652344 22 7 22 C 8.195313 22 9.265625 21.484375 10 20.65625 Z"}}]})(s)}const be=()=>{const{api_getProfileDetails:s,api_EditMyProfile:r}=J();M();const p={symbol:"rounded-full drop-shadow-md border p-1.5 bg-indigo-500 text-white font-bold text-lg"},[t,j]=g.useState(null),[w,c]=g.useState(H),[d,h]=g.useState(null),[v,b]=g.useState(!1),N=()=>{P.post(s,{},$()).then(l=>{var x,f,_,A;(x=l==null?void 0:l.data)!=null&&x.status&&(j((f=l==null?void 0:l.data)==null?void 0:f.data),c((A=(_=l==null?void 0:l.data)==null?void 0:_.data)==null?void 0:A.profile_photo)),console.log("Getting Citizen details",l)}).catch(l=>console.error(l))};g.useEffect(()=>{N()},[]);const y=g.useRef(),n=z({initialValues:{name:t==null?void 0:t.user_name,mobile:t==null?void 0:t.mobile,email:t==null?void 0:t.email,dob:t==null?void 0:t.dob,gender:t==null?void 0:t.gender,photo:""},enableReinitialize:!0,onSubmit:l=>{a(l)}}),a=l=>{let x=new FormData;x.append("name",l==null?void 0:l.name),x.append("mobile",l==null?void 0:l.mobile),x.append("email",l==null?void 0:l.email),x.append("dob",l==null?void 0:l.dob),x.append("gender",l==null?void 0:l.gender),l.photo!=""&&d!=null&&x.append("photo",d),b(!0),P.post(r,x,ee()).then(function(f){var _;console.log(" Submitted......",f),f.data.status==!0?(I.success("Your profile updated Successfully"),y.current.close()):I.error(Q((_=res==null?void 0:res.data)==null?void 0:_.message))}).catch(function(f){I.error("Something went wrong! Please try again later.")}).finally(()=>{b(!1)})},k=l=>{const x=l.target.name;if(l.target.value,x=="photo"){let f=l.target.files[0];if(te(f))h(f);else{n.setFieldValue("photo","");return}}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full grid grid-cols-12 bg-cover bg-blend-overlay",children:[e.jsx("div",{className:"col-span-12 flex justify-center py-4 pt-10 bg-gray-100",children:e.jsx("img",{src:w,onError:()=>c(H),alt:"",srcset:"",className:" border-4 rounded-full drop-shadow-md bg-zinc-700 w-32 md:w-40 p-1"})}),e.jsxs("div",{className:"col-span-12 flex flex-col items-center justify-center bg-gray-100 border-b-2 border-gray-200 mb-6",children:[e.jsx("span",{className:"text-3xl font-semibold mb-4 pb-6",children:t==null?void 0:t.name}),e.jsxs("div",{className:"w-full flex flex-col gap-1 p-4 py-6 bg-gray-50",children:[e.jsxs("span",{className:"text-sm flex items-center gap-2",children:[e.jsx("span",{className:p==null?void 0:p.symbol,children:e.jsx(fe,{})}),R(t==null?void 0:t.dob)]}),e.jsxs("span",{className:"text-sm flex items-center gap-2",children:[e.jsx("span",{className:p==null?void 0:p.symbol,children:e.jsx(se,{})}),t==null?void 0:t.mobile]})]})]})]}),e.jsxs("dialog",{ref:y,className:"backdrop:backdrop-brightness-75 w-full md:w-[50vw] animate__animated animate__zoomIn animate__faster relative drop-shadow-lg p-0 focus:outline-none",children:[e.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-red-500 font-bold text-base rounded-full p-1 text-white  hover:bg-red-600 ",onClick:()=>y.current.close(),children:e.jsx(X,{})}),e.jsxs("div",{class:"grid grid-cols-12 ",children:[e.jsx("div",{class:"col-span-12 md:col-span-5 w-full",children:e.jsx("img",{className:" bg-gray-700 shadow-xl",src:w,onError:()=>c(H),alt:""})}),e.jsxs("form",{onSubmit:n.handleSubmit,onChange:k,class:"col-span-12 md:col-span-7 flex flex-wrap flex-row text-sm",children:[e.jsx("h1",{className:"w-full text-2xl font-bold border-b mb-2 px-4 pt-5",children:"Edit Profile"}),e.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/2",children:[e.jsx("label",{class:"inline-block mb-2",children:"Name"}),e.jsx("input",{type:"text",...n.getFieldProps("name"),class:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-white border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.name&&n.errors.name?n.errors.name:null})]}),e.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/2",children:[e.jsx("label",{class:"inline-block mb-2",children:"Mobile No."}),e.jsx("input",{...n.getFieldProps("mobile"),disabled:!0,type:"text",class:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-gray-50 border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.mobile&&n.errors.mobile?n.errors.mobile:null})]}),e.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/2",children:[e.jsx("label",{class:"inline-block mb-2",children:"Email"}),e.jsx("input",{...n.getFieldProps("email"),disabled:!0,type:"email",class:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-gray-50 border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.email&&n.errors.email?n.errors.email:null})]}),e.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/2",children:[e.jsx("label",{class:"inline-block mb-2",children:"DOB"}),e.jsx("input",{...n.getFieldProps("dob"),type:"date",class:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-white border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600 cursor-pointer"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.dob&&n.errors.dob?n.errors.dob:null})]}),e.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/2",children:[e.jsx("label",{class:"inline-block mb-2",children:"Gender"}),e.jsxs("select",{...n.getFieldProps("gender"),class:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-white border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600 cursor-pointer",children:[e.jsx("option",{children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.gender&&n.errors.gender?n.errors.gender:null})]}),e.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/2",children:[e.jsx("label",{class:"inline-block mb-2",children:"Photo"}),e.jsx("input",{...n.getFieldProps("photo"),type:"file",class:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-white border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.photo&&n.errors.photo?n.errors.photo:null})]}),e.jsx("div",{class:"w-full flex justify-end items-center px-4 gap-4",children:v?e.jsx("div",{className:"flex justify-center",children:e.jsx(re,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",class:"py-1.5 text-xs px-4 inline-block text-center rounded leading-5 text-gray-800 bg-gray-100 border border-gray-100 hover:text-gray-900 hover:bg-gray-200 hover:ring-0 hover:border-gray-200 focus:bg-gray-200 focus:border-gray-200 focus:outline-none focus:ring-0 ltr:mr-2 rtl:ml-2",onClick:()=>y.current.close(),children:"Close"}),e.jsx("button",{type:"submit",class:"py-1.5 text-xs px-4 inline-block text-center rounded leading-5 text-gray-100 bg-indigo-500 border border-indigo-500 hover:text-white hover:bg-indigo-600 hover:ring-0 hover:border-indigo-600 focus:bg-indigo-600 focus:border-indigo-600 focus:outline-none focus:ring-0",children:"Update"})]})})]})]})]})]})},q="/assets/house-91e8f968.gif",ye="/assets/tick-67b2f70d.png",L=s=>(M(),e.jsx(e.Fragment,{children:e.jsx("div",{className:"poppins flex items-center gap-2 bg-white hover:drop-shadow-lg cursor-pointer border border-slate-200 py-2 text-xs 2xl:text-sm transition-all duration-500 px-2 my-2 flex-row flex-wrap justify-between",children:e.jsxs("div",{className:"poppins",children:["🔔  ",s==null?void 0:s.message]})})})),je=({style:s=""})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-slate-100 relative animate__animated animate__fadeIn animate__faster grid grid-cols-12 poppins text-gray-800 h-full p-4 border-l",children:e.jsxs("div",{className:"poppins mds:col-span-6 col-span-12 pb-4",children:[e.jsxs("div",{className:"font-semibold flex flex-row items-center gap-2 text-indigo-800 mt-2 2xl:mb-4 mb-2 2xl:text-lg text-sm poppins",children:[e.jsx("span",{className:s==null?void 0:s.symbol,children:e.jsx(le,{})})," Current Notifications"]}),e.jsx(L,{message:"You have a new notification.",action:""}),e.jsx(L,{message:"You have a new notification.",action:""}),e.jsx(L,{message:"You have a new notification.",action:""}),e.jsx(L,{message:"You have a new notification.",action:""})]})})}),we=({data:s=""})=>{var x,f,_,A,O,W,G,V,B,D,Y,Z,U;var r;Array.isArray(s==null?void 0:s.owners)&&(r=s==null?void 0:s.owners[0]);const[p,t]=g.useState(null),[j,w]=g.useState(q),c=M();g.useEffect(()=>{var i,u,o,F;if(Array.isArray(s==null?void 0:s.geotags)){const T=(i=s==null?void 0:s.geotags)==null?void 0:i.filter(E=>oe("front",E==null?void 0:E.direction_type)==!0);t(T[0]),((u=s==null?void 0:s.geotags)==null?void 0:u.length)>0&&((o=T[0])==null?void 0:o.image_path)!=""&&w((F=T[0])==null?void 0:F.image_path)}},[s]);let d={css1:"font-semibold w-full md:w-[48%] flex flex-wrap h-max gap-x-2 ",buttonStyle:i=>`bg-${i}-400 hover:bg-${i}-500 px-4 py-1 text-sm drop-shadow-md`,symbol:"rounded-full drop-shadow-md border p-2 bg-indigo-500 text-white font-bold text-xl"};const h=(i,u)=>e.jsxs("h1",{className:"w-full text-xl font-bold flex items-center gap-2 py-1",children:[e.jsx("span",{className:d==null?void 0:d.symbol,children:i})," ",u]}),v=i=>{switch(i){case"S/O":return"Father's";case"D/O":return"Father's";case"W/O":return"Husband's";case"C/O":return"Guardian's";default:return"Guardian's"}},b=(i,u,o="")=>e.jsxs("div",{className:`${d.css1}`,children:[" ",e.jsxs("span",{className:"col-span-6 ",children:[i," : "]})," ",e.jsx("span",{className:"col-span-6 font-normal",children:o==""?m(u):R(u)})," "]}),N=[{key:"Name                    ",value:m(r==null?void 0:r.owner_name)},{key:`${v(r==null?void 0:r.relation_type)} Name   `,value:m(r==null?void 0:r.guardian_name)},{key:"Gender                  ",value:m(r==null?void 0:r.gender)},{key:"Address                 ",value:m(s==null?void 0:s.property_address)},{key:"Mobile No.              ",value:m(r==null?void 0:r.mobile_no)},{key:"Is Senior Citizen       ",value:m(r==null?void 0:r.is_senior_citizen)},{key:"Is Specially Abled      ",value:m(r==null?void 0:r.is_specially_abled)},{key:"Is Armed Force          ",value:m(r==null?void 0:r.is_armed_force)}],y=[{key:"Holding No.     ",value:(s==null?void 0:s.new_holding_no)==""?s==null?void 0:s.holding_no:s==null?void 0:s.new_holding_no},{key:"Holding Date    ",value:R(s==null?void 0:s.holding_date)},{key:"Ward No.        ",value:(s==null?void 0:s.new_ward_no)==""?s==null?void 0:s.ward_no:s==null?void 0:s.new_ward_no},{key:"Ownership Type  ",value:m(s==null?void 0:s.ownership_type)},{key:"Property Type   ",value:m(s==null?void 0:s.property_type)},{key:"Holding Type    ",value:m(s==null?void 0:s.holding_type)},{key:"Area of Plot    ",value:m(s==null?void 0:s.area_of_plot)},{key:"Road Width      ",value:m(s==null?void 0:s.road_width)}],n=[{key:"Name",value:"owner_name"},{key:"Mobile No.",value:"mobile_no"}],a=[{key:"Floor",value:"floor_name"},{key:"Usage Type",value:"usage_type"},{key:"Occupancy Type",value:"occupancy_type"},{key:"Construction Type",value:"construction_type"},{key:"Build Up Area",value:"builtup_area"},{key:"From Date",value:"date_from",type:"date"},{key:"Upto Date",value:"date_upto",type:"date"}],k=[{key:"License No.",value:"license_no"},{key:"Valid From",value:"valid_from",type:"date"},{key:"Valid Upto",value:"valid_upto",type:"date"}],l=[{key:"Connection No.",value:"consumer_no"}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 text-zinc-700 bg-white border-2 border-indigo-200 shadow-lg shadow-indigo-100 mb-10",children:[e.jsxs("div",{className:"col-span-12 grid grid-cols-12 bg py-2 px-4 row-span-3 items-center",children:[e.jsxs("div",{className:"col-span-12 md:col-span-8 text-xl md:text-2xl font-bold items-center flex gap-x-1",children:[e.jsx("span",{className:"text-indigo-600 w-[20%]",children:"Located At:"})," ",e.jsx("span",{className:"font-normal ml-2 text-base w-[79%]",children:m(s==null?void 0:s.property_address)})]}),e.jsxs("div",{className:"col-span-12 md:col-span-4 text-lg md:text-xl font-bold text-end flex md:justify-end items-center",children:["Status:",(x=s==null?void 0:s.demands)!=null&&x.is_due?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"bg-red-500 text-white rounded-full p-1 text-base ml-2 mr-1",children:e.jsx(X,{})})," ",e.jsxs("span",{className:"font-normal text-sm text-red-600",children:["Dues Pending"," ",e.jsx("span",{className:"text-white bg-green-500 px-4 py-0.5 text-sm hover:bg-green-600 cursor-pointer",onClick:()=>c(`/property-payment/${s==null?void 0:s.id}/holding`),children:"Pay"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:ye,className:"w-7 ml-2 mr-1 hue-rotate-[290deg]",alt:"",srcset:""})," ",e.jsxs("span",{className:"font-normal text-sm text-green-600",children:["Due passed ",ne((f=s==null?void 0:s.demands)==null?void 0:f.paid_date)]})]})]}),e.jsxs("div",{className:"col-span-12 md:col-span-12 md:text-center text-xs",children:["For more details go to"," ",e.jsx("span",{className:"underline cursor-pointer",onClick:()=>c("/propertyDashboard"),children:"Property Dashboard"})]})]}),e.jsxs("div",{className:"col-span-12 md:col-span-12 row-span-3 p-4 px-6 flex gap-2 bg-indigo-50 bg-cover bg-blend-overlay",style:{backgroundImage:`url(${he})`},children:[e.jsxs("div",{className:"flex flex-col w-full md:w-[25%]",children:[e.jsx("img",{src:j,onError:()=>w(q),className:"mix-blend-darken md:block hidden",alt:"",srcset:""}),e.jsxs("div",{className:"col-span-3 text-base font-bold mb-2",children:["Holding No.:"," ",e.jsx("span",{className:"font-normal ml-2 text-base",children:(s==null?void 0:s.new_holding_no)==""?s==null?void 0:s.holding_no:s==null?void 0:s.new_holding_no})]})]}),e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("div",{className:" flex flex-wrap gap-x-2 items-center h-max gap-y-5 pt-12 justify-center text-sm w-full md:w-[80%]",children:N==null?void 0:N.map(i=>b(i==null?void 0:i.key,i==null?void 0:i.value))}),e.jsxs("div",{className:"flex flex-col gap-2 justify-center w-full md:w-[20%]",children:[e.jsx("button",{onClick:()=>c(`/holding-transactions/${s==null?void 0:s.id}`),className:d.buttonStyle("sky"),children:"View Payment History"}),e.jsx("button",{onClick:()=>c(`/viewDemandHoldingProperty/${s==null?void 0:s.id}`),className:d.buttonStyle("amber"),children:"View Demand"}),e.jsx("a",{href:`https://www.google.com/maps?q=${p==null?void 0:p.latitude},${p==null?void 0:p.longitude}`,target:"_blank",className:d.buttonStyle("blue")+" text-center",children:"View Location"})]})]})]}),e.jsxs("div",{className:"col-span-12 md:col-span-9 px-6 grid grid-cols-12 items-start h-max relative",children:[e.jsxs("div",{className:"col-span-12 flex flex-wrap mt-4 mb-4",children:[h(e.jsx(S,{}),"Property Details"),e.jsx("div",{className:"w-full flex flex-wrap gap-x-2 gap-y-2 px-4 py-2 text-sm  pl-10 md:pl-20",children:y==null?void 0:y.map(i=>b(i==null?void 0:i.key,i==null?void 0:i.value))})]}),e.jsxs("div",{className:"col-span-12 row-span-2 flex flex-wrap mt-4 mb-4",children:[h(e.jsx(ae,{}),"Owner Details"),e.jsx("div",{className:"w-full flex flex-wrap gap-x-2 px-4 py-2 text-sm  pl-10 md:pl-20",children:((A=(_=s==null?void 0:s.owners)==null?void 0:_.map)==null?void 0:A.length)>0&&((O=s==null?void 0:s.owners)==null?void 0:O.map((i,u)=>e.jsxs("div",{className:"mb-8 flex w-full",children:[e.jsxs("span",{className:"font-semibold pr-4",children:[u+1,"."]}),e.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2 w-full ",children:n==null?void 0:n.map((o,F)=>e.jsx(e.Fragment,{children:b(o==null?void 0:o.key,i[o==null?void 0:o.value])}))})]})))})]}),e.jsxs("div",{className:"col-span-12 row-span-2 flex flex-wrap mt-4 mb-4",children:[h(e.jsx(S,{}),"Floor Details"),e.jsx("div",{className:"w-full flex flex-wrap gap-x-2 px-4 py-2 text-sm  pl-10 md:pl-20",children:((W=s==null?void 0:s.floors)==null?void 0:W.length)>0&&((G=s==null?void 0:s.floors)==null?void 0:G.map((i,u)=>e.jsxs("div",{className:"mb-8 flex",children:[e.jsxs("span",{className:"font-semibold",children:[u+1,"."]}),e.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2 px-4",children:a==null?void 0:a.map((o,F)=>e.jsx(e.Fragment,{children:b(o==null?void 0:o.key,i[o==null?void 0:o.value],o==null?void 0:o.type)}))})]})))})]}),((V=s==null?void 0:s.water)==null?void 0:V.length)>0&&e.jsxs("div",{className:"col-span-12 row-span-2 flex flex-wrap mt-4 mb-4",children:[h(e.jsx(S,{}),"Water Connections at this Property"),e.jsx("div",{className:"w-full flex flex-wrap gap-x-2 px-4 py-2 text-sm  pl-10 md:pl-20",children:((B=s==null?void 0:s.water)==null?void 0:B.length)>0&&((D=s==null?void 0:s.water)==null?void 0:D.map((i,u)=>e.jsxs("div",{className:"mb-8 flex w-full",children:[e.jsxs("span",{className:"font-semibold",children:[u+1,"."]}),e.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2 px-4 ",children:l==null?void 0:l.map((o,F)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full",children:[" ",e.jsxs("span",{className:"col-span-6 ",children:[o==null?void 0:o.key," :"," "]})," ",e.jsx("span",{className:"col-span-6 font-normal",children:m(i[o==null?void 0:o.value])})," "]})}))})]})))})]}),((Y=s==null?void 0:s.trade)==null?void 0:Y.length)>0&&e.jsxs("div",{className:"col-span-12 row-span-2 flex flex-wrap mt-4 mb-4",children:[h(e.jsx(S,{}),"Trade Licenses issued at this Property"),e.jsx("div",{className:"w-full flex flex-wrap gap-x-2 px-4 py-2 text-sm  pl-10 md:pl-20",children:((Z=s==null?void 0:s.trade)==null?void 0:Z.length)>0&&((U=s==null?void 0:s.trade)==null?void 0:U.map((i,u)=>e.jsxs("div",{className:"mb-8 flex w-full",children:[e.jsxs("span",{className:"font-semibold",children:[u+1,"."]}),e.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2 w-full  px-4",children:k==null?void 0:k.map((o,F)=>e.jsx(e.Fragment,{children:b(o==null?void 0:o.key,i[o==null?void 0:o.value])}))})]})))})]})]}),e.jsx("div",{className:"col-span-12 md:col-span-3 relative",children:e.jsx(je,{style:d})})]})})};function K(){return e.jsx("div",{className:"h-full w-full  rounded-t-md object-cover bg-gray-200 animate"})}const C=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col pb-6 space-y-4 rounded-md",children:e.jsx("div",{className:"bg-gray-200 w-full h-10 flex justify-center items-center p-4 animate"})})}),ve="/assets/house-4364b995.png",Ne=()=>{var d,h,v,b,N,y,n;const s=M(),[r,p]=g.useState([]),[t,j]=g.useState(!1);g.useEffect(()=>{w()},[]);const w=()=>{j(!0),P.get(void 0,$()).then(function(a){var k,l,x;console.log("fetched application count...",(k=a==null?void 0:a.data)==null?void 0:k.data),(l=a==null?void 0:a.data)!=null&&l.status&&p((x=a==null?void 0:a.data)==null?void 0:x.data),j(!1)}).catch(function(a){console.log("notification error......",a),j(!1)})};let c=[{navigation:"/water-dashboard",image:de,total:((d=r==null?void 0:r.Water)==null?void 0:d.totalApplications)??0,name:"Water Connection(s)"},{navigation:"/trade-dashboard",image:xe,total:((h=r==null?void 0:r.Trade)==null?void 0:h.totalApplications)??0,name:"Trade License(s)"},{navigation:"/advertisement-dashboard",image:pe,total:((v=r==null?void 0:r.Advertisement)==null?void 0:v.totalApplications)??0,name:"Advertisement"},{navigation:"/marriage-index",image:ce,total:((b=r==null?void 0:r.Marriage)==null?void 0:b.totalApplications)??0,name:"Marriage Registration"},{navigation:"/septicTankDashboard",image:me,total:((N=r==null?void 0:r.Septic)==null?void 0:N.totalApplications)??0,name:"Septic Tank"},{navigation:"/waterTankerDashboard",image:ge,total:((y=r==null?void 0:r.WaterTanker)==null?void 0:y.totalApplications)??0,name:"Water Tank"},{navigation:"/pet-registration-dashboard",image:ue,total:((n=r==null?void 0:r.pet)==null?void 0:n.totalApplications)??0,name:"Pet Registration"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-12 ",children:e.jsxs("div",{className:"col-span-12 w-full flex flex-col items-center",children:[e.jsx("img",{src:ve,className:"house 2xl:w-[50%] md:w-[50%] pt-4 w-full",alt:"",srcset:""}),e.jsx("div",{className:"p-4 relative w-full flex flex-col gap-2 ",children:e.jsx("div",{className:"w-full flex overflow-x-auto overflow-y-hidden gap-x-2",children:Array.isArray(c)&&(c==null?void 0:c.map(a=>e.jsx(e.Fragment,{children:e.jsxs("div",{onClick:()=>s(a==null?void 0:a.navigation),className:"bg-slate-50 hover:bg-slate-100 w-[80%] select-none rounded-md flex flex-col gap-2 justify-center items-center p-4 md:p-6 relative cursor-pointer hover:drop-shadow-lg border transition-all duration-150",children:[e.jsx("div",{className:"absolute top-1 right-1 bg-green-500 px-1.5 animate-pulse rounded-full text-white",children:a==null?void 0:a.total}),e.jsx("img",{className:"w-[3rem] text-xs",src:a==null?void 0:a.image}),e.jsx("div",{className:"font-semibold text-center text-sm",children:a==null?void 0:a.name})]})})))})}),e.jsxs("div",{className:"mt-10 flex flex-col ",children:[e.jsx("span",{className:"text-4xl font-bold mb-2",children:"🥳🥳 Congratulations! 🥳🥳"}),e.jsx("span",{className:"text-lg",children:"You will get 5% rebate by apply and pay holding from your dashboard."})]}),e.jsx("div",{className:"c flex gap-4 flex-row items-center justify-center mt-8 mb-16",children:e.jsx("button",{className:" border border-indigo-400 bg-indigo-500 text-white hover:bg-white font-semibold transition-all duration-200 px-4 poppins py-2 shadow-lg cursor-pointer hover:scale-105 hover:text-indigo-500 rounded-sm shadow-indigo-400",onClick:()=>s("/safform/new/0"),children:"Apply New Holding"})})]})})})},ke=()=>{const{post_citizenDashboard:s}=J();g.useState(-1);const[r,p]=g.useState([]),[t,j]=g.useState(!1),w=()=>{j(!0),P.post(s,{},$()).then(c=>{var d,h,v;(d=c==null?void 0:c.data)!=null&&d.status&&p((v=(h=c==null?void 0:c.data)==null?void 0:h.data)==null?void 0:v.property),console.log("property list  => ",Q(c,s,{}))}).catch(c=>console.error(c)).finally(()=>j(!1))};return g.useEffect(()=>{w()},[]),e.jsxs(e.Fragment,{children:[t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex w-[98%] h-[30vh] bg-white m-4 drop-shadow-lg",children:[e.jsx("div",{className:"md:w-[30%] md:p-10 w-full",children:e.jsx(K,{})}),e.jsxs("div",{className:"md:w-[70%] py-2 md:py-7 px-10 w-full",children:[e.jsx(C,{}),e.jsx(C,{}),e.jsx(C,{}),e.jsx(C,{})]})]}),e.jsxs("div",{className:"flex w-[98%] h-[30vh] bg-white m-4 drop-shadow-lg",children:[e.jsx("div",{className:"md:w-[30%] md:p-10 w-full",children:e.jsx(K,{})}),e.jsxs("div",{className:"md:w-[70%] py-2 md:py-7 px-10 w-full",children:[e.jsx(C,{}),e.jsx(C,{}),e.jsx(C,{}),e.jsx(C,{})]})]})]}),!t&&Array.isArray(r)&&(r==null?void 0:r.map((c,d)=>e.jsx(e.Fragment,{children:e.jsx(we,{data:c},d)}))),!t&&(r==null?void 0:r.length)==0&&e.jsx(e.Fragment,{children:e.jsx(Ne,{})})]})},Ve=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 h-full",children:[e.jsx("div",{className:"col-span-12 md:col-span-3 h-full bg-gray-50 shadow-md shadow-slate-400 overflow-y-auto",children:e.jsx(be,{})}),e.jsx("div",{className:"col-span-12 md:col-span-9 overflow-y-auto bg-white h-full",children:e.jsx(ke,{})})]})});export{Ve as default};
