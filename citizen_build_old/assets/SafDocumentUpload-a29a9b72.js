import{j as t}from"./mui-8bd1858b.js";import{f as Vt,r as l,u as Mt}from"./router-56e993c5.js";import{M as Ce,A as we,b as Le,c as Ut,e as Bt,d as zt,u as qt,B as Ht,ax as et,n as P,C as Gt,N as Qt,r as Yt,Q as Se}from"./index-48939ba9.js";import{f as tt}from"./folders-c40af08a.js";import{p as k}from"./photo-8f85a095.js";import{B as Jt}from"./BarLoader-29e6d937.js";import{F as st}from"./index.esm-3ed6923b.js";import{T as Kt}from"./TopTabs-65a65e64.js";import"./CommonModal-6dd116f2.js";import{S as Wt}from"./ServerErrorCard-b2b9e929.js";import{B as Xt}from"./BottomErrorCard-d92abeba.js";import{a as Ie}from"./Styles-8155a0a5.js";import{R as at}from"./index.esm-9221a1e6.js";import"./axios-ab7cc016.js";import"./reactIcons-d26c0b2d.js";import"./materialTailwind-98468b5d.js";import"./moment-a9aaa855.js";import"./redux-a3f69129.js";import"./i18next-2edfafb0.js";import"./index.esm-57652fec.js";const Zt={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none"}};Ce.setAppElement("#root");function Ds(g){var Qe,Ye,Je,Ke,We;const{id:A,btc:Pe}=Vt();let c=Pe=="true"||Pe==!0;const{api_uploadSafDocument:lt,api_listSafDocument:rt,api_getAppicationFullDetail:nt}=Gt(),[ue,F]=l.useState(!1),[I,pe]=l.useState(null),[Tt,it]=l.useState(""),[xe,ke]=l.useState(0),[mt,_]=l.useState(!1),[Ae,ut]=l.useState(""),[Fe,pt]=l.useState(""),[$e,Re]=l.useState(1),[ot,ct]=l.useState(0),[xt,dt]=l.useState(),[Ee,Oe]=l.useState(""),[Lt,_e]=l.useState(!0),[Ve,ht]=l.useState(!1),[a,ft]=l.useState(),[oe,jt]=l.useState(),[de,gt]=l.useState(),[he,ce]=l.useState(null),[es,fe]=l.useState(null),[Nt,bt]=l.useState(null),[$,Dt]=l.useState(null),[je,R]=l.useState([]),[yt,Me]=l.useState(!1),[vt,Ue]=l.useState(!1),[wt,ge]=l.useState(!1),[St,It]=l.useState(!1),[Ct,Pt]=l.useState(null),[kt,At]=l.useState(null),Ne=l.useRef([]),be=l.useRef([]),C=l.useRef([]),E=l.useRef([]),Ft=()=>Ue(!0),$t=()=>{},Be=Mt(),Rt=(e,s)=>{Ot(s),ce(e),ct(ot+1),_(!0),Me(!0)},V=()=>{ce(null),ht(!1),Me(!1),_(!1),Ue(!1),Re($e+1),pe(null),Ne.current=[],C.current=[],be.current=[],E.current=[],console.log("modal m end => ",mt,Ve)};console.log(".............data in full details card in bo doc upload.........",g==null?void 0:g.applicationData2),console.log("id in upload........",g==null?void 0:g.id),l.useEffect(()=>{ze()},[xe]),l.useEffect(()=>{F(!0),we.post(nt,{applicationId:A},Le()).then(function(e){var s,n,r,u;F(!1),console.log("view full details...",(s=e==null?void 0:e.data)==null?void 0:s.data),gt((r=(n=e==null?void 0:e.data)==null?void 0:n.data)==null?void 0:r.fullDetailsData),Dt((u=e==null?void 0:e.data)==null?void 0:u.data)}).catch(function(e){F(!1),console.log("==2 details by id error...",e)})},[]);const ze=()=>{ve(!1),ge(!0),console.log("before fetch upload doc"),we.post(`${rt}`,{applicationId:A},Le()).then(e=>{var s,n;console.log("list of doc to upload at pilotworkflowdocumentupload => ",e==null?void 0:e.data),(s=e==null?void 0:e.data)!=null&&s.status?ft((n=e==null?void 0:e.data)==null?void 0:n.data):ve(!0),ge(!1)}).catch(e=>{console.log("data submission error bo doc upload => ",e),ve(!0),_(!1),ge(!1)})};console.log("temp doc => ",Ve);const Et=Ut({docId:Bt().required("Select document type"),docUpload:zt().required("Select document")}),O=qt({initialValues:{docId:"",docUpload:"",docName:""},onSubmit:e=>{console.log("use effect 2"),console.log("values submission => ",e),De()},validationSchema:Et}),qe=(e,s,n)=>{var u,p;let r=e.target.files[0];Oe(e.target.name),dt(URL.createObjectURL(e.target.files[0])),pe(e.target.files[0]),s=="owner"?C.current[n]=(u=e.target.files[0])==null?void 0:u.name:E.current[n]=(p=e.target.files[0])==null?void 0:p.name,O.setFieldValue("docUpload",URL.createObjectURL(e.target.files[0])),console.log("use effect change ",O.values.docId,O.values.docUpload),console.log("file on change bo doc upload => ",r,"and doc upload => ",I,"and url => ",xt,"and name => ",r==null?void 0:r.name,"file name => ",Ee),(r==null?void 0:r.name).substring((r==null?void 0:r.name).lastIndexOf(".")+1)=="pdf"?_e(!1):_e(!0)};console.log("and doc name => ",Ee);const De=(e,s,n)=>{console.log("use effect 3 => ",C.current[s],`
 index => `,s,`
 module => `,n,e);let r;n==="property"?r=be.current:r=Ne.current;const u=r.map((o,h)=>h===s?o.value:"");if(console.log("current select document is....",u),u[s]===null||u[s]==="Select"||u[s]===""){N(!0,`Select document type for ${e}`),ce(null),fe(null);return}if(n=="owner"&&(C.current[s]==null||C.current[s]==""||C.current[s]==null)){N(!0,`Select document to upload for ${e}`),C.current[s]=null;return}if(n=="property"&&(E.current[s]==null||E.current[s]==""||E.current[s]==null)){N(!0,`Select document to upload for ${e}`),E.current[s]=null;return}if(I==null){N(!0,`Select document to upload for ${e}`);return}if(!Qt(I)){N(!0,`File is too large for ${e}`),pe(null);return}console.log("doc ref name...",e);let p=new FormData;console.log("document  => ",I);let j={applicationId:g==null?void 0:g.id,ownerId:he,docCode:u[s],document:I};p.append("applicationId",A),he!=null&&p.append("ownerId",he),p.append("docCode",u[s]),p.append("document",I),p.append("docCategory",Nt),console.log("form data bo doc upload => ",j),I!=""?(V(),F(!0),console.log("before fetch doc to upload...",p),we.post(`${lt}`,p,Yt()).then(o=>{var h;console.log("data submitted bo doc upload => ",o==null?void 0:o.data),(h=o==null?void 0:o.data)!=null&&h.status?(Se.success("Document Uploaded Successfully !!"),_(!1),it(""),pe(null),ke(xe+1),Oe(""),O.setFieldValue("docUpload",""),ke(xe+1),ce(null),fe(null),ze()):(console.log("something went"),N(!0,"Error occurred in uploading document. Please try again later.")),F(!1)}).catch(o=>{N(!0,"Error occurred in uploading document. Please try again later."),console.log("data submission error bo doc upload => ",o),_(!1),F(!1)})):Se.error("Select file")},ye=(e,s,n)=>{console.log("getting doc name => ",e),e==""&&Se.error("File not uploaded !!!"),e!=""&&(ut(e),pt(s),Ft(),Re($e+1),At(n))},He=(e,s)=>{fe(e.target.value),bt(s)},Ot=e=>{let s=a==null?void 0:a.ownerDocs[e];console.log("select row....",s),jt(s)};console.log("filterred modal data......",oe),console.log("owner doc list ===>......",a==null?void 0:a.ownersDocList);const[_t,ve]=l.useState(!1),N=(e,s)=>{Pt(s),It(e)};if(console.log(a==null?void 0:a.listDocs,"documentListToUpload?.listDocs==================>"),l.useEffect(()=>{a&&(a==null?void 0:a.docUploadStatus)==1&&window.scroll({top:0,left:0,behavior:"smooth"})},[a]),wt)return t.jsxs(t.Fragment,{children:[t.jsx(Ht,{}),t.jsx("div",{className:"min-h-screen"})]});if(_t)return t.jsx(Wt,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"});const b=e=>je==null?void 0:je.some(s=>s==e),Ge="mr-4 bg-green-600 text-white px-4 py-1 shadow-lg hover:scale-105 rounded-sm text-sm md:text-base border border-green-600 hover:text-green-600 hover:bg-white cursor-pointer transition duration-200 ease-in-out";return t.jsxs(t.Fragment,{children:[ue&&t.jsx(Jt,{}),St&&t.jsx(Xt,{activateBottomErrorCard:N,errorTitle:Ct}),t.jsx("div",{className:"max-sm:p-2",children:t.jsx(Kt,{title:"Finalize for Property Application",type:"application",id:A,safNo:"",active:"document"})}),t.jsxs("div",{className:"mx-auto w-full max-sm:px-2 mb-10",children:[(a==null?void 0:a.docUploadStatus)==1&&c!=!0&&t.jsxs("div",{className:"flex mt-2 w-full justify-between",children:[t.jsxs("div",{className:"flex-1 font-semibold  text-rose-600",children:[t.jsx(et,{className:"inline mr-2 -mt-1",size:20}),"All Documents has been uploaded, Pay your tax to send your application for verification"]}),($==null?void 0:$.payment_status)!=1&&t.jsx("div",{className:"",children:t.jsx("button",{className:`${Ge}`,onClick:()=>Be(`/viewDemand/${A}`),children:"Pay Tax"})})]}),c==!0&&t.jsx("div",{className:"text-red-500 font-semibold poppins 2xl:text-sm text-xs",children:"You have been redirected as Back To Citizen."}),t.jsx("div",{className:"text-gray-700 py-6 ",children:t.jsx("div",{className:"grid md:grid-cols-2 text-sm bg-white shadow-lg rounded-sm py-4",children:(Ye=(Qe=de==null?void 0:de.cardArray)==null?void 0:Qe.data)==null?void 0:Ye.map(e=>t.jsxs("div",{className:"grid grid-cols-2",children:[t.jsxs("div",{className:"px-4 py-2 font-semibold",children:[P(e==null?void 0:e.displayString)," :"," "]}),t.jsx("div",{className:"px-4 py-2",children:P(e==null?void 0:e.value)})]}))})}),t.jsx("p",{className:"text-sm font-semibold text-red-500",children:"Note : Image must be less than 1Mb and pdf must be less than 10MB."}),t.jsxs("div",{className:"bg-white",children:[(a==null?void 0:a.ownerDocs)&&t.jsx("div",{className:" flex md:px-4 bg-white font-sans  mt-4 py-6",children:t.jsxs("div",{className:"w-full",children:[t.jsx("h1",{className:" font-bold text-xl",children:"Owner Documents"}),t.jsx("div",{className:"bg-white shadow-md rounded my-2 overflow-x-auto px-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-indigo-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:"Applicant Image"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:"Applicant Name"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:"Guardian Name"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:"Mobile"}),t.jsx("th",{className:"py-3 px-6 text-left",children:"Status"}),t.jsx("th",{className:"py-3 px-6 text-left",children:"Action"})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(Je=a==null?void 0:a.ownerDocs)==null?void 0:Je.map((e,s)=>{var n,r,u,p,j,o,h,D,y,v,w;return t.jsxs("tr",{className:"border-b border-gray-200 ",children:[t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center justify-center",children:[((n=e==null?void 0:e.ownerDetails)==null?void 0:n.uploadedDoc)!=""&&t.jsx("div",{className:"text-center cursor-pointer",onClick:()=>{var f,S;return ye(`${(f=e==null?void 0:e.ownerDetails)==null?void 0:f.uploadedDoc}`,"jpg",(S=e==null?void 0:e.ownerDetails)==null?void 0:S.docId)},children:t.jsx("img",{src:b((r=e==null?void 0:e.ownerDetails)==null?void 0:r.docId)?k:`${(u=e==null?void 0:e.ownerDetails)==null?void 0:u.uploadedDoc}`,alt:"",className:"md:w-[3vw] w-[5vw]",srcset:""})}),((p=e==null?void 0:e.ownerDetails)==null?void 0:p.uploadedDoc)==""&&t.jsx("span",{className:"text-red-500 font-semibold",children:"Not Uploaded"})]})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:P((j=e==null?void 0:e.ownerDetails)==null?void 0:j.name)})})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:P((o=e==null?void 0:e.ownerDetails)==null?void 0:o.guardian)})})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:P((h=e==null?void 0:e.ownerDetails)==null?void 0:h.mobile)})})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:`font-medium ${((D=e==null?void 0:e.ownerDetails)==null?void 0:D.reqDocCount)===((y=e==null?void 0:e.ownerDetails)==null?void 0:y.uploadedDocCount)&&!c?"text-green-500":"text-red-500"}`,children:["Uploaded"," ",P((v=e==null?void 0:e.ownerDetails)==null?void 0:v.uploadedDocCount)," ","of ",P((w=e==null?void 0:e.ownerDetails)==null?void 0:w.reqDocCount)]})})}),t.jsx("td",{className:"py-3 px-6",children:t.jsx("div",{className:"font-semibold text-sm",children:t.jsx("div",{className:"",children:!ue&&t.jsx("button",{onClick:()=>{var f;return Rt((f=e==null?void 0:e.ownerDetails)==null?void 0:f.ownerId,s)},type:"button",className:Ie,children:"View"})})})})]},s)})})]})})]})}),t.jsx("div",{className:" flex md:px-4 bg-white font-sans py-6 mb-32",children:t.jsxs("div",{className:"w-full",children:[t.jsx("h1",{className:" font-bold text-xl",children:"Property Documents"}),t.jsx("div",{className:"bg-white shadow-md rounded my-2 overflow-x-auto px-2 ",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-indigo-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-center",children:"#"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:"Document Name"}),t.jsx("th",{className:"py-3 px-6 text-left",children:"Type"}),t.jsx("th",{className:"py-3 px-6 text-center",children:"Document"}),t.jsx("th",{className:"py-3 px-6 text-center",children:"Status"}),t.jsx("th",{className:"py-3 px-6 text-center",children:"Remarks"}),t.jsx("th",{className:"py-3 px-6 text-center",children:"Upload"})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(Ke=a==null?void 0:a.listDocs)==null?void 0:Ke.map((e,s)=>{var n,r,u,p,j,o,h,D,y,v,w,f,S,M,U,B,z,q,H,G,Q,Y,J,K,W,X,Z,T,L,ee,te,se,ae,le,re,i,x,ne;return t.jsxs("tr",{className:"border-b border-gray-200 ",onSubmit:O.handleSubmit,onChange:O.handleChange,children:[t.jsx("td",{className:"py-3 px-6 font-semibold",children:s+1}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2",children:t.jsx("img",{src:tt,alt:"rain",className:"w-4"})}),t.jsxs("span",{className:"font-medium",value:e==null?void 0:e.docName,children:[e==null?void 0:e.docName," ",t.jsx("span",{className:"text-red-600 inline",children:"*"})]})]})}),t.jsx("td",{className:"py-3 px-6",children:t.jsx("div",{className:"font-semibold text-sm",children:t.jsxs("div",{className:"",children:[t.jsxs("select",{ref:m=>be.current[s]=m,className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.btcStatus&&c||!(e!=null&&e.btcStatus)&&!c&&(e==null?void 0:e.uploadedDoc)==""||!(e!=null&&e.btcStatus)&&!c&&(a==null?void 0:a.paymentStatus)!=1),onChange:m=>He(m,e==null?void 0:e.docName),defaultValue:(n=e==null?void 0:e.uploadedDoc)==null?void 0:n.documentCode,children:[t.jsx("option",{value:"",children:"Select"}),(r=e==null?void 0:e.masters)==null?void 0:r.map((m,d)=>t.jsx("option",{value:m==null?void 0:m.documentCode,children:m==null?void 0:m.docVal},d))]}),t.jsx("div",{className:" mt-1 text-green-500 text-xs font-semibold",children:((u=e==null?void 0:e.uploadedDoc)==null?void 0:u.docVal)&&`${(p=e==null?void 0:e.uploadedDoc)==null?void 0:p.docVal} Uploaded`})]})})}),t.jsx("td",{className:"py-3 px-6 text-center relative",children:(e==null?void 0:e.uploadedDoc)==""?t.jsx("i",{className:"font-semibold not-italic",children:"NA"}):t.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var m,d,ie,me,Xe,Ze,Te;return ye(`${(m=e==null?void 0:e.uploadedDoc)==null?void 0:m.docPath}`,(Ze=(d=e==null?void 0:e.uploadedDoc)==null?void 0:d.docPath)==null?void 0:Ze.split(".")[((Xe=(me=(ie=e==null?void 0:e.uploadedDoc)==null?void 0:ie.docPath)==null?void 0:me.split("."))==null?void 0:Xe.length)-1],(Te=e==null?void 0:e.uploadedDoc)==null?void 0:Te.uploadedDocId)},children:t.jsxs("div",{className:"flex items-center",children:[((y=(j=e==null?void 0:e.uploadedDoc)==null?void 0:j.docPath)==null?void 0:y.split(".")[((D=(h=(o=e==null?void 0:e.uploadedDoc)==null?void 0:o.docPath)==null?void 0:h.split("."))==null?void 0:D.length)-1])=="pdf"&&t.jsx("div",{className:"flex-shrink-0 text-[28px]",children:t.jsx(st,{})}),((M=(v=e==null?void 0:e.uploadedDoc)==null?void 0:v.docPath)==null?void 0:M.split(".")[((S=(f=(w=e==null?void 0:e.uploadedDoc)==null?void 0:w.docPath)==null?void 0:f.split("."))==null?void 0:S.length)-1])=="jpg"&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("img",{onError:()=>R(m=>{var d;return[...m,(d=e==null?void 0:e.uploadedDoc)==null?void 0:d.uploadedDocId]}),src:b((U=e==null?void 0:e.uploadedDoc)==null?void 0:U.uploadedDocId)?k:`${(B=e==null?void 0:e.uploadedDoc)==null?void 0:B.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((Q=(z=e==null?void 0:e.uploadedDoc)==null?void 0:z.docPath)==null?void 0:Q.split(".")[((G=(H=(q=e==null?void 0:e.uploadedDoc)==null?void 0:q.docPath)==null?void 0:H.split("."))==null?void 0:G.length)-1])=="jpeg"&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("img",{onError:()=>R(m=>{var d;return[...m,(d=e==null?void 0:e.uploadedDoc)==null?void 0:d.uploadedDocId]}),src:b((Y=e==null?void 0:e.uploadedDoc)==null?void 0:Y.uploadedDocId)?k:`${(J=e==null?void 0:e.uploadedDoc)==null?void 0:J.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((T=(K=e==null?void 0:e.uploadedDoc)==null?void 0:K.docPath)==null?void 0:T.split(".")[((Z=(X=(W=e==null?void 0:e.uploadedDoc)==null?void 0:W.docPath)==null?void 0:X.split("."))==null?void 0:Z.length)-1])=="png"&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("img",{onError:()=>R(m=>{var d;return[...m,(d=e==null?void 0:e.uploadedDoc)==null?void 0:d.uploadedDocId]}),src:b((L=e==null?void 0:e.uploadedDoc)==null?void 0:L.uploadedDocId)?k:`${(ee=e==null?void 0:e.uploadedDoc)==null?void 0:ee.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),t.jsxs("td",{className:"py-3 px-6 text-center font-semibold",children:[((te=e==null?void 0:e.uploadedDoc)==null?void 0:te.documentCode)=="PHOTOGRAPH"&&t.jsx("p",{className:"whitespace-no-wrap"}),(e==null?void 0:e.uploadedDoc)==""?t.jsx("i",{className:"font-semibold not-italic",children:"NA"}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"whitespace-no-wrap",children:((se=e==null?void 0:e.uploadedDoc)==null?void 0:se.verifyStatus)==0&&t.jsx(t.Fragment,{children:"Pending"})}),t.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((ae=e==null?void 0:e.uploadedDoc)==null?void 0:ae.verifyStatus)==1&&t.jsx(t.Fragment,{children:"Verified"})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:(e==null?void 0:e.btcStatus)===!0&&t.jsx(t.Fragment,{children:"Rejected"})})]})]}),t.jsx("td",{className:"py-3 px-6 text-center",children:((le=e==null?void 0:e.uploadedDoc)==null?void 0:le.remarks)==""||((re=e==null?void 0:e.uploadedDoc)==null?void 0:re.remarks)==null?t.jsx("i",{className:"font-semibold not-italic",children:"NA"}):(i=e==null?void 0:e.uploadedDoc)==null?void 0:i.remarks}),t.jsx("td",{className:"py-3 px-6 flex flex-wrap gap-2",children:e!=null&&e.btcStatus&&c||!(e!=null&&e.btcStatus)&&!c&&(e==null?void 0:e.uploadedDoc)==""||!(e!=null&&e.btcStatus)&&!c&&(a==null?void 0:a.paymentStatus)!=1?t.jsx("div",{className:"font-semibold text-sm",children:t.jsxs("div",{className:"",children:[t.jsx("div",{className:"",children:t.jsx("input",{accept:".pdf,.jpg,.jpeg",type:"file",name:e==null?void 0:e.docName,onChange:m=>qe(m,"property",s),className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 foc}us:outline-none cursor-pointer shadow-md w-36"})}),(((x=e==null?void 0:e.uploadedDoc)==null?void 0:x.verify_status)!=1||(e==null?void 0:e.uploadedDoc)=="")&&t.jsx("div",{className:"mt-2",children:!ue&&t.jsx("button",{onClick:()=>De(e==null?void 0:e.docName,s,"property"),type:"submit",className:Ie,children:(ne=e==null?void 0:e.uploadedDoc)!=null&&ne.docPath?"Re-Upload":"Upload"})})]})}):t.jsx("div",{className:"font-semibold text-sm text-green-500 text-center",children:"Uploaded"})})]},s)})})]})})]})})]}),(a==null?void 0:a.docUploadStatus)==1&&c!=!0&&t.jsxs("div",{className:"my-2 mb-12 hidden",children:[t.jsxs("div",{className:"flex-1 font-semibold  text-rose-600",children:[t.jsx(et,{className:"inline mr-2 -mt-1",size:20}),"All Documents has been uploaded, Pay your tax to send your application for verification"]}),($==null?void 0:$.payment_status)!=1&&t.jsx("div",{className:"flex-1",children:t.jsx("button",{className:`${Ge}`,onClick:()=>Be(`/viewDemand/${A}`),children:"Pay Tax"})})]})]}),t.jsx(Ce,{isOpen:yt,onRequestClose:V,style:Zt,contentLabel:"Example Modal",children:t.jsxs("div",{className:"relative bg-blue-500 rounded-lg shadow-xl animate__animated animate__zoomIn animate__faster pt-2",children:[t.jsx("div",{className:"absolute top-5 right-5 bg-red-200 hover:bg-red-300 rounded-full p-2 cursor-pointer text-xs sm:text-base",onClick:V,children:t.jsx(at,{})}),t.jsx("div",{className:"flex md:px-4 bg-blue-500 font-sans mt-6 sm:w-full w-[100vw] sm:text-base text-sm",children:t.jsxs("div",{className:"w-full font-bold text-xl",children:[t.jsx("div",{className:"font-semibold w-full flex",children:t.jsx("div",{className:"flex-1 ",children:t.jsx("span",{className:"float-none text-white",children:"Upload Owner Documents"})})}),t.jsx("div",{className:"bg-blue-500 shadow-md rounded my-2 overflow-x-auto px-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto ",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-indigo-100 text-gray-600 capitalize text-sm leading-normal ",children:[t.jsx("th",{className:"py-3 px-6 text-left",children:"#"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:"Document Name"}),t.jsx("th",{className:"py-3 px-6 text-left",children:"Type"}),t.jsx("th",{className:"py-3 px-6 text-center",children:"Document"}),t.jsx("th",{className:"py-3 px-6 text-center",children:"Status"}),t.jsx("th",{className:"py-3 px-6 text-center",children:"Remarks"}),t.jsx("th",{className:"py-3 px-6 text-center",children:"Action"})]})}),t.jsx("tbody",{className:"text-gray-600 font-light bg-white text-xs sm:text-sm",children:(We=oe==null?void 0:oe.documents)==null?void 0:We.map((e,s)=>{var n,r,u,p,j,o,h,D,y,v,w,f,S,M,U,B,z,q,H,G,Q,Y,J,K,W,X,Z,T,L,ee,te,se,ae,le,re;return t.jsx(t.Fragment,{children:t.jsxs("tr",{className:" ",children:[t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:s+1}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2",children:t.jsx("img",{src:tt,alt:"rain",className:"w-4"})}),t.jsxs("span",{className:"font-medium",children:[e==null?void 0:e.docName," ",t.jsx("span",{className:"text-red-600 inline",children:"*"})]})]})}),t.jsx("td",{children:t.jsx("div",{className:"font-semibold text-sm px-2",children:t.jsx("div",{className:"font-semibold text-sm",children:t.jsxs("div",{className:"",children:[t.jsxs("select",{ref:i=>Ne.current[s]=i,className:"form-control block w-full px-3 py-1 text-xs font-normal text-gray-700 bg-white bg-clip-padding  rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white  focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.btcStatus&&c||!(e!=null&&e.btcStatus)&&!c||!(e!=null&&e.btcStatus)&&!c&&(a==null?void 0:a.paymentStatus)!=1),onChange:i=>He(i,e==null?void 0:e.docName),defaultValue:(n=e==null?void 0:e.uploadedDoc)==null?void 0:n.documentCode,children:[t.jsx("option",{value:"",children:"Select"}),(r=e==null?void 0:e.masters)==null?void 0:r.map((i,x)=>t.jsx("option",{value:i==null?void 0:i.documentCode,children:i==null?void 0:i.docVal},x))]}),t.jsx("div",{className:" mt-1 text-green-500 text-xs font-semibold",children:((u=e==null?void 0:e.uploadedDoc)==null?void 0:u.docVal)&&`${(p=e==null?void 0:e.uploadedDoc)==null?void 0:p.docVal} Uploaded`})]})})})}),t.jsx("td",{className:"py-3 px-6 text-center",children:(e==null?void 0:e.uploadedDoc)==""?t.jsx("i",{className:"font-semibold not-italic",children:"NA"}):t.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var i,x,ne,m,d,ie,me;return ye(`${(i=e==null?void 0:e.uploadedDoc)==null?void 0:i.docPath}`,(ie=(x=e==null?void 0:e.uploadedDoc)==null?void 0:x.docPath)==null?void 0:ie.split(".")[((d=(m=(ne=e==null?void 0:e.uploadedDoc)==null?void 0:ne.docPath)==null?void 0:m.split("."))==null?void 0:d.length)-1],(me=e==null?void 0:e.uploadedDoc)==null?void 0:me.uploadedDocId)},children:t.jsxs("div",{className:"flex items-center",children:[((y=(j=e==null?void 0:e.uploadedDoc)==null?void 0:j.docPath)==null?void 0:y.split(".")[((D=(h=(o=e==null?void 0:e.uploadedDoc)==null?void 0:o.docPath)==null?void 0:h.split("."))==null?void 0:D.length)-1])=="pdf"&&t.jsx("div",{className:"flex-shrink-0 text-[28px]",children:t.jsx(st,{})}),((M=(v=e==null?void 0:e.uploadedDoc)==null?void 0:v.docPath)==null?void 0:M.split(".")[((S=(f=(w=e==null?void 0:e.uploadedDoc)==null?void 0:w.docPath)==null?void 0:f.split("."))==null?void 0:S.length)-1])=="jpg"&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("img",{onError:()=>R(i=>{var x;return[...i,(x=e==null?void 0:e.uploadedDoc)==null?void 0:x.uploadedDocId]}),src:b((U=e==null?void 0:e.uploadedDoc)==null?void 0:U.uploadedDocId)?k:`${(B=e==null?void 0:e.uploadedDoc)==null?void 0:B.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((Q=(z=e==null?void 0:e.uploadedDoc)==null?void 0:z.docPath)==null?void 0:Q.split(".")[((G=(H=(q=e==null?void 0:e.uploadedDoc)==null?void 0:q.docPath)==null?void 0:H.split("."))==null?void 0:G.length)-1])=="jpeg"&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("img",{onError:()=>R(i=>{var x;return[...i,(x=e==null?void 0:e.uploadedDoc)==null?void 0:x.uploadedDocId]}),src:b((Y=e==null?void 0:e.uploadedDoc)==null?void 0:Y.uploadedDocId)?k:`${(J=e==null?void 0:e.uploadedDoc)==null?void 0:J.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((T=(K=e==null?void 0:e.uploadedDoc)==null?void 0:K.docPath)==null?void 0:T.split(".")[((Z=(X=(W=e==null?void 0:e.uploadedDoc)==null?void 0:W.docPath)==null?void 0:X.split("."))==null?void 0:Z.length)-1])=="png"&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("img",{onError:()=>R(i=>{var x;return[...i,(x=e==null?void 0:e.uploadedDoc)==null?void 0:x.uploadedDocId]}),src:b((L=e==null?void 0:e.uploadedDoc)==null?void 0:L.uploadedDocId)?k:`${(ee=e==null?void 0:e.uploadedDoc)==null?void 0:ee.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:(e==null?void 0:e.uploadedDoc)==""?t.jsx("span",{className:"text-red-500 font-semibold",children:"Not Uploaded"}):t.jsx(t.Fragment,{children:(e==null?void 0:e.docName)=="Photograph"?"":t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"whitespace-no-wrap",children:((te=e==null?void 0:e.uploadedDoc)==null?void 0:te.verifyStatus)==0&&t.jsx(t.Fragment,{children:"Pending"})}),t.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((se=e==null?void 0:e.uploadedDoc)==null?void 0:se.verifyStatus)==1&&t.jsx(t.Fragment,{children:"Verified"})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:(e==null?void 0:e.btcStatus)===!0&&t.jsx(t.Fragment,{children:"Rejected"})})]})})}),t.jsxs("td",{className:"py-3 px-6",children:[((ae=e==null?void 0:e.uploadedDoc)==null?void 0:ae.remarks)==""?t.jsx("i",{className:"font-semibold not-italic",children:"NA"}):(le=e==null?void 0:e.uploadedDoc)==null?void 0:le.remarks,(e==null?void 0:e.uploadedDoc)==""&&t.jsx("i",{className:"font-semibold not-italic",children:"NA"})]}),t.jsx("td",{className:"py-3 px-6",children:e!=null&&e.btcStatus&&c||!(e!=null&&e.btcStatus)&&!c&&(e==null?void 0:e.uploadedDoc)==""||!(e!=null&&e.btcStatus)&&!c&&(a==null?void 0:a.paymentStatus)!=1?t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsx("input",{accept:s==0?".png,.jpg,.jpeg":".pdf,.png,.jpg,.jpeg",type:"file",onChange:i=>qe(i,"owner",s),className:"form-control block w-full px-3 py-1 text-xs font-normal text-gray-700 bg-white bg-clip-padding  rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white  focus:outline-none cursor-pointer shadow-md w-36"})}),t.jsx("div",{className:"mt-2",children:!ue&&t.jsx("button",{onClick:()=>De(e==null?void 0:e.docName,s,"owner"),type:"button",className:Ie,children:(re=e==null?void 0:e.uploadedDoc)!=null&&re.docPath?"Re-Upload":"Upload"})})]}):t.jsx("div",{className:"font-semibold text-sm text-green-500 text-center",children:"Uploaded"})})]})})})})]})})]})})]})}),t.jsx(Ce,{isOpen:vt,onAfterOpen:$t,onRequestClose:V,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{className:" rounded-lg shadow-xl border-2 border-gray-200 bg-white md:ml-32 p-4 animate__animated animate__zoomIn animate__faster w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:V,children:t.jsx(at,{})}),b(kt)?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:"Error"}),t.jsx("div",{className:"pl-4",children:"Document not visible"})]})}):t.jsxs(t.Fragment,{children:[Fe=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:Ae,frameborder:"0"})}),Fe!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:Ae,alt:"",srcset:"",className:""})})})]})]})})]})}export{Ds as default};
