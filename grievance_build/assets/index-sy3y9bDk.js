import{r as y,b as F,o as w,s as H,g as $,j as a,F as L,y as f,a0 as G,J as R,B as k,t as A,v as B,H as E,w as I,S as J,c as M,d as U}from"./index-x5K3To9x.js";import{T as V,a as Y,b as P,c as l,d as _,e as r}from"./table-BluvXNrN.js";import{P as q}from"./index-DXjZiuuV.js";import{P as z}from"./index-C7uy_qK7.js";import"./pagination-0EZmWsrI.js";const K=M().shape({duration:U()});function O(){var t,o,u,x,h,j,b,v,m,g,p;const[i,S]=y.useState(1),[n,D]=y.useState(10),d=F({resolver:w(K),defaultValues:{duration:""}}),T=async()=>{e.refetch()},e=H({api:`${$.complaintTimeDurationReport}?page=${i}&limit=${n}&duration=${d.watch("duration")}`,key:"searchAllComplaints",value:[i,n],options:{enabled:!0}}),c=[{id:1,value:"1",label:"1 Day"},{id:2,value:"2",label:"2 Day"},{id:3,value:"3",label:"3 Day"},{id:4,value:"4",label:"4 Day"},{id:5,value:"5",label:"5 Day"},{id:6,value:"6",label:"6 Day"},{id:7,value:"7",label:"7 Day"},{id:8,value:"8",label:"8 Day"},{id:9,value:"9",label:"9 Day"},{id:10,value:"10",label:"10 Day"}];return a.jsxs(a.Fragment,{children:[a.jsx(L,{methods:d,onSubmit:d.handleSubmit(T),children:a.jsxs("div",{className:"grid grid-cols-4 gap-x-2  bg-background p-10",children:[a.jsx("h1",{className:"text-xl font-bold text-blue-800 uppercase col-span-4",children:"Search Your Grievance "}),a.jsx(f,{className:"col-span-4"}),a.jsxs("div",{children:[a.jsx(G,{htmlFor:"duration",children:"Resolved Under"}),a.jsx(R,{className:"bg-background cursor-pointer",name:"duration",data:(c==null?void 0:c.map(s=>({value:s==null?void 0:s.value,label:s==null?void 0:s.label})))??[]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(k,{isLoading:d.formState.isSubmitting,type:"submit",className:" w-auto  px-10 float-right",children:"Search"})})]})}),a.jsx("div",{className:"mt-2",children:a.jsxs(A,{children:[a.jsx(B,{className:"px-7",children:a.jsxs(E,{children:["Grievance List ( ",(o=(t=e.data)==null?void 0:t.data)==null?void 0:o.totalDocs," )"]})}),a.jsx(I,{children:e.isLoading?a.jsx("div",{className:"flex h-32 items-center justify-center",children:a.jsx(J,{})}):a.jsxs("div",{children:[a.jsxs(V,{children:[a.jsx(Y,{children:a.jsxs(P,{children:[a.jsx(l,{className:"",children:"#"}),a.jsx(l,{className:"",children:"Grievance Tittle."}),a.jsx(l,{className:"",children:"Module"}),a.jsx(l,{className:"",children:"Duration Day's"}),a.jsx(l,{className:"",children:"Resolve Status"})]})}),a.jsx(_,{children:(h=(x=(u=e==null?void 0:e.data)==null?void 0:u.data)==null?void 0:x.docs)==null?void 0:h.map((s,C)=>{var N;return a.jsxs(P,{children:[a.jsx(r,{children:C+1}),a.jsx(r,{children:s.complaintTitle}),a.jsx(r,{children:(N=s==null?void 0:s.module)==null?void 0:N.moduleName}),a.jsxs(r,{children:[s.duration," ( Day's)"]}),a.jsx(r,{children:s.wfStatus==0?"Pending":"Resolved"})]},s._id)})})]}),a.jsx(f,{className:"mb-2 mt-4"}),a.jsx("div",{className:"flex w-full justify-end",children:a.jsx(q,{page:i,perPage:n,totalPage:(b=(j=e==null?void 0:e.data)==null?void 0:j.data)==null?void 0:b.totalDocs,hasNextPage:(m=(v=e==null?void 0:e.data)==null?void 0:v.data)==null?void 0:m.hasNextPage,hasPrevPage:(p=(g=e==null?void 0:e.data)==null?void 0:g.data)==null?void 0:p.hasPrevPage,setPage:S,setPerPage:D})})]})})]})})]})}function ea(){return a.jsx(z,{title:"Reports Details",subTitle:"Grievance Reports",children:a.jsx("div",{className:"",children:a.jsx(O,{})})})}export{ea as default};
