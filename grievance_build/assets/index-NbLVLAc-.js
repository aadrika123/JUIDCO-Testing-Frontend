import{u as h,r as c,a as S,b as A,o as F,j as e,D as L,B as g,F as M,R as P,c as E,d as u,e as R,_ as r,g as C}from"./index-x5K3To9x.js";import{g as p}from"./services-KQnp_8oA.js";import{R as B}from"./RHFPasswordField-DP_rmqjy.js";const D=E({email:u().required(),password:u().min(3)});function H(){const f=h({}),j=h({}),[v,d]=c.useState(!1),[o,m]=c.useState(!1),[z,w]=c.useState(!1),[x,b]=c.useState(""),{login:N}=S(),n=A({defaultValues:{email:"",password:""},resolver:F(D)}),y=async l=>{var t,i,s;console.log("data",l);try{const a=await f.mutateAsync({api:R.login,data:l});(t=a==null?void 0:a.data)!=null&&t.success?(await N(a),r.success((i=a==null?void 0:a.data)==null?void 0:i.message)):r.error((s=a==null?void 0:a.data)==null?void 0:s.message)}catch(a){r.error(p(a.message))}},k=async()=>{var l,t,i;m(!0);try{const s=await j.mutateAsync({api:C.forgetPassword,data:{email:x}});(l=s==null?void 0:s.data)!=null&&l.success?(d(!1),r.success((t=s==null?void 0:s.data)==null?void 0:t.message),m(!1)):r.error((i=s==null?void 0:s.data)==null?void 0:i.message)}catch(s){r.error(p(s.message))}};return e.jsxs(e.Fragment,{children:[e.jsx(L,{open:v,setOpen:d,title:"Reset Your Password",setEdit:w,children:e.jsx("div",{className:"p-4",children:e.jsxs("form",{onSubmit:l=>l.preventDefault(),children:[e.jsx("input",{value:x,onChange:l=>b(l.target.value),type:"text",placeholder:"Your email address",className:"input-field w-full border border-gray-300 rounded-md p-1.5"}),e.jsx("div",{children:e.jsx(g,{type:"button",onClick:k,disabled:o,className:"w-full rounded-xl py-5 px-4 mt-4 shadow-none",variant:"outline",children:o?"Sending...":"Send"})})]})})}),e.jsx("header",{className:" h-[7vh] w-full border-b border-gray-200 bg-white darks:bg-gray-800 darks:border-gray-800",children:e.jsx("div",{className:"container mx-auto xl:max-w-6xl ",children:e.jsx("nav",{className:" ",id:"desktop-menu",children:e.jsx("a",{className:"",href:"",children:e.jsxs("div",{className:"mt-6",children:[" ",e.jsx("span",{className:"font-bold text-xl uppercase",children:"Login - Grievance Management System"})]})})})})}),e.jsx("main",{className:"h-[80vh] bg-gray-100 flex justify-center items-center",children:e.jsx("div",{className:" bg-gray-100 darks:bg-gray-900 darks:bg-opacity-40",children:e.jsx("div",{className:"container mx-auto px-4 xl:max-w-6xl ",children:e.jsxs("div",{className:"flex flex-wrap -mx-4 flex-row ",children:[e.jsx("div",{className:"flex-shrink max-w-full px-4 w-full lg:w-1/2 ",children:e.jsx("div",{className:"max-w-full w-full px-2 sm:px-12 lg:pr-20 mb-12 lg:mb-0  ",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"p-6 sm:py-8 sm:px-12 rounded-lg bg-white darks:bg-gray-800 shadow-xl",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h1",{className:"text-2xl leading-normal  font-bold text-gray-800 darks:text-gray-300 text-center mb-",children:"Welcome Back"}),e.jsx("div",{className:"flex justify-center items-center ",children:e.jsx("div",{className:"border-b w-10 border border-black mb-7"})})]}),e.jsx(M,{methods:n,onSubmit:n.handleSubmit(y),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(P,{className:" py-5 px-5 w-full bg-background",name:"email",inputValidation:["removeSpace"],placeholder:"Enter your email"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(B,{className:"py-5 px-5 w-full bg-background",name:"password",placeholder:"Enter your password"})}),e.jsx("div",{children:e.jsxs(g,{type:"submit",isLoading:n.formState.isSubmitting,className:"w-full  py-5 px-4 mt-2 shadow-none",children:[e.jsxs("svg",{xmlnsXlink:"http://www.w3.org/2000/svg",fill:"currentColor",className:"inline-block w-4 h-4 mr-1 ltr:mr-2 rtl:ml-2 bi bi-box-arrow-in-right",viewBox:"0 0 16 16",children:[e.jsx("path",{fillRule:"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"}),e.jsx("path",{fillRule:"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),"Login"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("hr",{className:"flex-1"}),e.jsx("span",{children:"or"}),e.jsx("hr",{className:"flex-1"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"text-sm text-primary",type:"button",onClick:()=>d(!0),children:"Forgot password?"})})]})})]})})})}),e.jsx("div",{className:"flex-shrink max-w-full px-4 w-full lg:w-1/2",children:e.jsxs("div",{className:"text-center mt-6 lg:mt-0",children:[e.jsx("img",{src:"/images/mob.png",alt:"welcome",className:"h-68 rounded-lg"}),e.jsxs("div",{className:"px-4 mt-4",children:[e.jsx("h1",{className:"font-semibold text-2xl",children:"Manage Grievance with Ease of Access"}),e.jsx("p",{className:"text-base mb-4 text-gray-500",children:"Easily manage greivance applications with simplified workflows."})]})]})})]})})})}),e.jsx("footer",{className:" h-[10vh] w-full bg-white py-6 border-t border-gray-200 darks:bg-gray-800 darks:border-gray-800",children:e.jsx("div",{className:"container mx-auto px-4 xl:max-w-6xl w-full",children:e.jsx("div",{className:"mx-auto px-4",children:e.jsxs("div",{className:"flex flex-wrap flex-row -mx-4",children:[e.jsx("div",{className:"flex-shrink max-w-full px-4 w-full md:w-1/2 text-center md:ltr:text-left md:rtl:text-right",children:e.jsxs("ul",{className:"ltr:pl-0 rtl:pr-0 space-x-4",children:[e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Support |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Help Center |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Privacy |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Terms of Service"})})]})}),e.jsx("div",{className:"flex-shrink max-w-full px-4 w-full md:w-1/2 text-center md:ltr:text-right md:rtl:text-left",children:e.jsxs("p",{className:"mb-0 mt-3 md:mt-0",children:[e.jsx("a",{href:"#",className:"hover:text-indigo-500",children:"UD&HD"})," | All right reserved"]})})]})})})})]})}function T(){return e.jsx("div",{className:"",children:e.jsx(H,{})})}export{T as default};
