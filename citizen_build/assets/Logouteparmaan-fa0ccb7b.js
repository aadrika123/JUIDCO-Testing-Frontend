import{j as t}from"./mui-8bd1858b.js";import{r as a,u as c}from"./router-56e993c5.js";import{A as d,b as u,C as g}from"./index-44fe4f08.js";import"./axios-ab7cc016.js";import"./reactIcons-d26c0b2d.js";import"./materialTailwind-80676409.js";import"./moment-a9aaa855.js";import"./redux-a3f69129.js";import"./i18next-2edfafb0.js";const{api_ePramanLogout:w}=g(),b=()=>{const[o,s]=a.useState(null),l=c();return a.useEffect(()=>{(async()=>{d.post(w,{sessionId:localStorage.getItem("epramaanToken"),type:window.ReactNativeWebView?"mobile":"web"},u()).then(function(e){var i,m,n;console.log("response after data submitted",e.data.data.data),(i=e==null?void 0:e.data)!=null&&i.status?s(JSON.stringify((n=(m=e.data)==null?void 0:m.data)==null?void 0:n.data)):alert("log out failed")}).catch(function(e){})})()},[]),a.useEffect(()=>{if(localStorage.getItem("epramaanToken")||(window.localStorage.removeItem("menuList"),window.localStorage.removeItem("userName"),window.localStorage.removeItem("roles"),window.localStorage.removeItem("citizen_token"),window.localStorage.removeItem("userType"),window.localStorage.removeItem("LoginStatus"),l("/")),o){const r=document.getElementById("logoutForm");window.localStorage.removeItem("menuList"),window.localStorage.removeItem("userName"),window.localStorage.removeItem("roles"),window.localStorage.removeItem("citizen_token"),window.localStorage.removeItem("userType"),window.localStorage.removeItem("LoginStatus"),r.submit()}},[o]),o?t.jsx("div",{className:"flex justify-center items-center h-screen bg-white",children:t.jsxs("form",{id:"logoutForm",action:"https://epramaan.meripehchaan.gov.in/openid/jwt/processOIDCSLORequest.do",method:"post",children:[t.jsx("textarea",{name:"data",style:{display:"none"},value:o,readOnly:!0}),t.jsx("button",{type:"submit",className:"text-gray-800 font-semibold",children:"Logout..."})]})}):t.jsx("div",{className:"flex justify-center items-center h-[600px]",children:t.jsx("h1",{className:"text-gray-800 font-semibold",children:"Please wait..."})})};export{b as default};
