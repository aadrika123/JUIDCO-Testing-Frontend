import{j as e}from"./mui-8bd1858b.js";import{u as N,r as t}from"./router-56e993c5.js";import{c as b,u as j,aK as w,aL as v,R as y,aF as C,aM as S,C as E,n as i,aN as A,ab as D,K as F,aH as R}from"./index-44fe4f08.js";import"./axios-ab7cc016.js";import"./reactIcons-d26c0b2d.js";import"./materialTailwind-80676409.js";import"./moment-a9aaa855.js";import"./redux-a3f69129.js";import"./i18next-2edfafb0.js";const B=()=>{const{getCommercialConsumer:o}=E(),d=N(),c=[{Header:"Sl.No.",Cell:({row:a})=>e.jsx("div",{children:(a==null?void 0:a.index)+1})},{Header:"WARD NO.",accessor:"ward_no",Cell:({cell:a})=>{var s;return i((s=a.row.original)==null?void 0:s.ward_no)}},{Header:"CONSUMER NAME",accessor:"name",Cell:({cell:a})=>{var s;return i((s=a.row.original)==null?void 0:s.name)}},{Header:"ADDRESS",accessor:"address",Cell:({cell:a})=>{var s;return i((s=a.row.original)==null?void 0:s.address)}},{Header:"MOBILE NO.",accessor:"mobile_no",Cell:({cell:a})=>{var s;return A((s=a.row.original)==null?void 0:s.mobile_no)}},{Header:"CONSUMER TYPE",accessor:"consumer_type",Cell:({cell:a})=>{var s;return(s=a.row.original)==null?void 0:s.consumer_type},className:"w-[7%]"},{Header:"TOTAL DEMAND",accessor:"total_demand",Cell:({cell:a})=>{var s;return D((s=a.row.original)==null?void 0:s.total_demand)}},{Header:"DEMAND UPTO",accessor:"demand_upto",Cell:({cell:a})=>{var s;return F((s=a.row.original)==null?void 0:s.demand_upto)}},{Header:"STATUS",accessor:"paid_status",Cell:({cell:a})=>{var s;return e.jsx("div",{className:"font-semibold",children:e.jsx("div",{children:((s=a.row.original)==null?void 0:s.paid_status)=="true"?e.jsx("span",{className:"text-green-500",children:"Paid"}):e.jsx("span",{className:"text-red-500 ",children:"Unpaid"})})})}},{Header:"Action",Cell:({cell:a})=>e.jsx("div",{className:"flex items-center flex-wrap md:flex-nowrap flex-row gap-2 ",children:e.jsxs("button",{onClick:()=>{var s,l;d(`/commercial/${(l=(s=a==null?void 0:a.row)==null?void 0:s.original)==null?void 0:l.id}`)},className:`border border-sky-700 text-sky-700 w-24 py-1 rounded-sm shadow-md hover:shadow-xl hover:bg-sky-700 \r
                    hover:text-white flex items-center justify-center gap-1 `,children:[e.jsx(R,{})," View"]})})}],[n,m]=t.useState(),[u,x]=t.useState(0),[h,_]=t.useState(!1);t.useState(!1);const p=b({}),r=j({initialValues:{consumerNo:""},enableReinitialize:!0,onSubmit:(a,s)=>{var l;console.log("Value.....",a),m({consumerNo:(l=r==null?void 0:r.values)==null?void 0:l.consumerNo,page:1,perPage:10}),x(f=>f+1)},validationSchema:p}),g=a=>{let s=a.target.name,l=a.target.value;s=="consumerNo"&&r.setFieldValue("consumerNo",allowNumberInput(l,r.values.consumerNo,20))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full h-full ",children:e.jsx("div",{className:"overflow-y-auto max-h-screen",children:e.jsx("div",{className:"w-full  ",children:e.jsx("div",{className:" ",children:e.jsxs("div",{className:"w-full flex flex-col gap-5 justify-center items-center  transition-all duration-200",children:[e.jsx("aside",{className:" w-full bg-slate-50 shadow-md h-max",children:e.jsx(w,{value:r,children:e.jsxs(v,{onChange:g,onSubmit:r.handleSubmit,children:[e.jsx("h1",{className:"text-xl font-semibold uppercase text-center text-gray-700 border-b border-gray-400 mb-4 pb-1",children:"Search Commercial"}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-x-4 items-center gap-y-2 pb-4 mb-2 border-b ml-3",children:[e.jsxs("div",{className:"w-full md:w-[25%] mx-3",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Enter Consumer Number"," "," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...r.getFieldProps("consumerNo"),type:"text",placeholder:"Enter Consumer Number",className:"h-10  w-full px-3 py-1 text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-gray-400 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-400 shadow-md"})]}),e.jsx("div",{className:"mt-4 w-full  justify-center md:justify-start md:w-[30%] flex flex-row flex-wrap items-center gap-x-4 gap-y-2 md:mt-6",children:e.jsx("div",{className:"max-sm:w-full flex justify-center",children:h?e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center",children:e.jsx(y,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):e.jsxs("button",{type:"submit",className:"py-2 max-sm:w-full flex items-center justify-center border border-green-600 bg-green-500 hover:bg-green-600 text-white shadow-md rounded-md  text-sm px-5",children:[e.jsx("span",{className:"",children:e.jsx(C,{fontSize:""})}),e.jsx("span",{children:"Search Record"})]})})})]})]})})}),e.jsx("div",{className:" w-full px-2",children:e.jsx("div",{className:" ",children:n!=null&&e.jsx(S,{api:o,columns:c,requestBody:n,changeData:u,search:!1})})})]})})})})})})};export{B as default};
