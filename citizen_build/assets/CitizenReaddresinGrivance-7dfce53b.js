import{j as e}from"./mui-8bd1858b.js";import{u as N,r as l}from"./router-56e993c5.js";import{c as v,u as y,aK as C,aL as k,R as F,aF as S,aM as L,C as R,i as V}from"./index-44fe4f08.js";import"./axios-ab7cc016.js";import"./reactIcons-d26c0b2d.js";import"./materialTailwind-80676409.js";import"./moment-a9aaa855.js";import"./redux-a3f69129.js";import"./i18next-2edfafb0.js";const G=()=>{const{getCitizenComplainList:d}=R(),m=N(),u=(s,a)=>{var o,c;const t=(o=a==null?void 0:a.original)==null?void 0:o.latitude,i=(c=a==null?void 0:a.original)==null?void 0:c.longitude,j=`https://www.google.com/maps?q=${t},${i}`;window.open(j,"_blank")},x=[{Header:"#",Cell:({row:s})=>e.jsx("div",{className:"pr-2",children:s.index+1})},{Header:"Ward No",accessor:"ward_no"},{Header:"Complain No",accessor:"complain_no"},{Header:"Consumer Name",accessor:"consumer_name"},{Header:"Date",accessor:"date"},{Header:"Action",accessor:"id",Cell:({cell:s})=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"mt-1.5",children:e.jsx("span",{onClick:()=>{m(`/citizen-view-complain/${s.row.original.id}`)},className:"bg-sky-200 px-2 py-1 rounded-lg shadow-lg border border-white cursor-pointer hover:bg-sky-400",children:"View"})}),e.jsx("div",{className:" ",children:e.jsx("button",{onClick:()=>{var a;return u((a=s==null?void 0:s.row)==null?void 0:a.index,s.row)},className:"bg-sky-200 px-2 py-1 rounded-lg shadow-lg border border-white cursor-pointer hover:bg-sky-400 ",children:" View in Map"})})]})}],[n,p]=l.useState(),[h,g]=l.useState(0),[b,z]=l.useState(!1);l.useState(!1);const f=v({}),r=y({initialValues:{complainNo:" "},enableReinitialize:!0,onSubmit:(s,a)=>{var t;console.log("Value.....",s),p({complainNo:(t=r==null?void 0:r.values)==null?void 0:t.complainNo,page:1,perPage:10}),g(i=>i+1)},validationSchema:f}),w=s=>{let a=s.target.name,t=s.target.value;a=="consumerNo"&&r.setFieldValue("complainNo",V(t,r.values.complainNo,20))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full h-full ",children:e.jsx("div",{className:"overflow-y-auto max-h-screen",children:e.jsx("div",{className:"w-full  ",children:e.jsx("div",{className:" ",children:e.jsxs("div",{className:"w-full flex flex-col gap-5 justify-center items-center  transition-all duration-200",children:[e.jsx("aside",{className:" w-full bg-slate-50 shadow-md h-max",children:e.jsx(C,{value:r,children:e.jsxs(k,{onChange:w,onSubmit:r.handleSubmit,children:[e.jsx("h1",{className:"text-xl font-semibold uppercase text-center text-gray-700 border-b border-gray-400 mb-4 pb-1",children:"Grievance Re-Addresser ( View Complain List )"}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-x-4 items-center gap-y-2 pb-4 mb-2 border-b ml-3",children:[e.jsxs("div",{className:"w-full md:w-[25%] mx-3",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Enter Complain Number"," "," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...r.getFieldProps("consumerNo"),type:"text",placeholder:"Enter Consumer Number",className:"h-10  w-full px-3 py-1 text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-gray-400 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-400 shadow-md"})]}),e.jsx("div",{className:"mt-4 w-full  justify-center md:justify-start md:w-[30%] flex flex-row flex-wrap items-center gap-x-4 gap-y-2 md:mt-6",children:e.jsx("div",{className:"max-sm:w-full flex justify-center",children:b?e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center",children:e.jsx(F,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):e.jsxs("button",{type:"submit",className:"py-2 max-sm:w-full flex items-center justify-center border border-green-600 bg-green-500 hover:bg-green-600 text-white shadow-md rounded-md  text-sm px-5",children:[e.jsx("span",{className:"",children:e.jsx(S,{fontSize:""})}),e.jsx("span",{children:"Search Record"})]})})})]})]})})}),e.jsx("div",{className:" w-full px-2",children:e.jsx("div",{className:" ",children:n!=null&&e.jsx(L,{api:d,columns:x,requestBody:n,changeData:h,search:!1})})})]})})})})})})};export{G as default};
