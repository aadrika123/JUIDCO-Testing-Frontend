import{j as e}from"./mui-8bd1858b.js";import{b as oe,r,u as re}from"./router-56e993c5.js";import{M as se,n as j,A as F,Q as ie,B as me,F as xe,u as he}from"./index-44fe4f08.js";import"./RazorpayPaymentScreen-70677a63.js";import{A as ne}from"./AdvertisementApiList-708a97a0.js";import{U as ge}from"./UseRazorpay-4579b10c.js";import{h as ue}from"./useRazorPayForApp-00a62b48.js";import"./CommonModal-f6cb1fda.js";import{S as fe}from"./ServerErrorCard-11df06de.js";import{r as je}from"./materialTailwind-80676409.js";function H(){return{headers:{Authorization:`Bearer ${window.localStorage.getItem("citizen_token")}`,Accept:"application/json","Content-Type":"multipart/form-data","API-KEY":"eff41ef6-d430-4887-aa55-9fcf46c72c99"}}}const be={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"",border:"none"}};function Me(t){var P,u,q,N,C,w,z,I;const{handlePayment:o}=ge(),[A,k]=oe.useState(!1),[S,R]=r.useState(!1),{api_getOrderIdForPayment:U,api_getMovableVehicleOrderIdForPayment:$,api_getPrivateLandOrderIdForPayment:T,api_getAgencyOrderIdForPayment:V,api_getBanquetOrderIdForPayment:g,api_getDharamshalaOrderIdForPayment:D,api_getHostelOrderIdForPayment:p,api_getLodgeOrderIdForPayment:s,api_generatedreceipt:M}=ne(),[v,a]=r.useState(),L=re();r.useEffect(()=>{t.openPaymentModal>0&&k(!0)},[t.openPaymentModal]),console.log("payment card details",(P=t==null?void 0:t.applicationDetails)==null?void 0:P.id),console.log("application type i payment modal",t==null?void 0:t.containApplicationType);function y(){}function h(){k(!1)}const B=async i=>{console.log("generateReceipt",i),console.log(i);let O={applicationId:i==null?void 0:i.applicationId,departmentId:i==null?void 0:i.departmentId,status:"",captured:"1",card_id:"",amount:i==null?void 0:i.amount,payment_method:"upi/netbanking",workflow_id:i==null?void 0:i.workflowId,user_id:i==null?void 0:i.userId,ulb_id:i==null?void 0:i.ulbId,user_id:localStorage.getItem("citizenId"),payment_order_id:i==null?void 0:i.razorpay_order_id,payment_id:i==null?void 0:i.razorpay_payment_id,created_at:""};console.log("Receipt",i),F.post(M,O,H()).then(c=>{var _;console.log("genereted receipt",c),c.data.status==!0?(console.log("Oder ID Generated ++++dddddddddddddddddddddddd+++++",c.data),L(`/paymentScreen/${i==null?void 0:i.razorpay_payment_id}/${(_=t==null?void 0:t.applicationDetails)==null?void 0:_.workflow_id}`)):ie.error(c.data.message,"error")}).catch(c=>{console.log("Error genrating order id",c),ie.error(c.message,"error")})},E=i=>{R(!0),console.log("payment id on click pay",i.target.id);let O=i.target.id,c;(t==null?void 0:t.containApplicationType)=="selfAdvt"&&(c=U),(t==null?void 0:t.containApplicationType)=="movableVehicle"&&(c=$),(t==null?void 0:t.containApplicationType)=="privateLand"&&(c=T),(t==null?void 0:t.containApplicationType)=="agency"&&(c=V),(t==null?void 0:t.containApplicationType)=="banquetMarriageHall"&&(c=g),(t==null?void 0:t.containApplicationType)=="dharamshala"&&(c=D),(t==null?void 0:t.containApplicationType)=="hostel"&&(c=p),(t==null?void 0:t.containApplicationType)=="lodge"&&(c=s);const _={id:O};F.post(`${c}`,_,H()).then(function(n){var l,d,f,W,G,K,Q,X,Y,J,Z,ee,te,le;console.log("generate order id",n.data),window.ReactNativeWebView?ue({generatedOrder:(l=n==null?void 0:n.data)==null?void 0:l.data,payload:{applicationId:(f=(d=n==null?void 0:n.data)==null?void 0:d.data)==null?void 0:f.applicationId,departmentId:(G=(W=n==null?void 0:n.data)==null?void 0:W.data)==null?void 0:G.departmentId,status:"",captured:"1",card_id:"",amount:(Q=(K=n==null?void 0:n.data)==null?void 0:K.data)==null?void 0:Q.amount,payment_method:"upi/netbanking",workflow_id:(Y=(X=n==null?void 0:n.data)==null?void 0:X.data)==null?void 0:Y.workflowId,user_id:(Z=(J=n==null?void 0:n.data)==null?void 0:J.data)==null?void 0:Z.userId,ulb_id:(te=(ee=n==null?void 0:n.data)==null?void 0:ee.data)==null?void 0:te.ulbId,created_at:""},api:M,returnUrl:"/citizen/paymentScreen",isParam:!1,isAvd:!0}):o((le=n==null?void 0:n.data)==null?void 0:le.data,B),a(n)}).catch(function(n){alert("Backend Server error. Unable to Generate Order Id")}).finally(()=>{R(!1)})};return e.jsx("div",{className:"",children:e.jsx(se,{isOpen:A,onAfterOpen:y,onRequestClose:h,style:be,contentLabel:"Example Modal",children:e.jsx("div",{className:"bg-violet-200 text-slate-50 drop-shadow-2xl border border-violet-500 p-5 m-5 rounded-md",children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"shadow-md shadow-violet-300 py-1 pl-3 bg-white border-gray-400 text-gray-600 flex",children:["Make Payment For",e.jsxs("span",{className:"font-bold text-md ml-4 uppercase ",children:[j((u=t==null?void 0:t.applicationDetails)==null?void 0:u.type)," "]})]}),e.jsxs("div",{className:"md:flex block w-full h-56",children:[e.jsxs("div",{className:"grid grid-cols-12 px-8 pt-3 leading-8 ",children:[e.jsx("div",{className:"md:col-span-6 col-span-12",children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsxs("div",{className:"col-span-6  text-gray-600",children:[e.jsx("p",{children:"Application No. -"}),e.jsx("p",{children:"Applied date -"})]}),e.jsxs("div",{className:"col-span-6 text-gray-500 font-bold",children:[e.jsxs("p",{children:[j((q=t==null?void 0:t.applicationDetails)==null?void 0:q.application_no)," "]}),e.jsx("p",{children:j((N=t==null?void 0:t.applicationDetails)==null?void 0:N.application_date)})]})]})}),e.jsx("div",{className:"md:col-span-6 col-span-12",children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsxs("div",{className:"col-span-6  text-gray-600",children:[e.jsx("p",{children:"Applicant Name -"}),e.jsx("p",{children:"Entity Name -"})]}),e.jsxs("div",{className:"col-span-6 text-gray-500 font-bold",children:[e.jsxs("p",{children:[j((C=t==null?void 0:t.applicationDetails)==null?void 0:C.applicant),"  "]}),e.jsxs("p",{children:[j((w=t==null?void 0:t.applicationDetails)==null?void 0:w.entity_name)," "]})]})]})}),e.jsx("div",{className:"md:col-span-6 col-span-12",children:e.jsx("div",{className:"grid grid-cols-12",children:e.jsx("div",{className:"col-span-6  text-gray-600",children:e.jsx("h1",{className:"font-bold text-lg ",children:"Payable Amount"})})})}),e.jsx("div",{className:"md:col-span-6 col-span-12",children:e.jsx("div",{className:"grid grid-cols-12",children:e.jsx("div",{className:"col-span-6  text-gray-600",children:e.jsx("h1",{className:"font-bold text-lg bg-violet-300 px-2 ",children:j((z=t==null?void 0:t.applicationDetails)==null?void 0:z.payment_amount)})})})}),e.jsx("div",{className:"md:col-span-6 col-span-12",children:e.jsx("div",{className:"grid grid-cols-12",children:e.jsxs("div",{className:"col-span-6  text-gray-600",children:[e.jsx("button",{onClick:h,className:"mx-2 bg-red-600 hover:bg-red-700 transition duration-200 hover:scale-105 font-normal text-white px-6 py-1 text-sm  rounded-sm shadow-xl",children:"Cancel"}),e.jsx("div",{children:S?e.jsxs("div",{className:"flex items-center justify-center text-sm",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900"}),e.jsx("span",{className:"ml-2",children:"Loading..."})]}):e.jsx("button",{onClick:E,id:(I=t==null?void 0:t.applicationDetails)==null?void 0:I.id,className:"mx-2 bg-indigo-600 hover:bg-indigo-700 transition duration-200 hover:scale-105 font-normal text-white px-6 py-1 text-sm rounded-sm shadow-xl relative",disabled:S,children:"Pay Now"})})]})})}),e.jsx("div",{className:"md:col-span-6 col-span-12",children:e.jsx("div",{className:"grid grid-cols-12",children:e.jsx("div",{className:"col-span-6  text-gray-600",children:e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/256/7057/7057515.png",className:"h-16"})})})})]}),e.jsx("div",{className:"",children:e.jsx("div",{className:""})})]})]})})})})}function Le(t){var I,i,O,c,_,n;const[o,A]=r.useState(null);r.useState();const k=(l,d)=>{A({path:l,name:d})},S=()=>{A(null)},{api_getAppliedApplicationDetail:R,api_getAppliedDocumentList:U,api_getMovableAppliedApplicationDetail:$,api_getMovableAppliedDocumentList:T,api_getPrivateLandAppliedApplicationDetail:V,api_getPrivateLandAppliedDocumentList:g,api_getAgencyApplicationFullDetail:D,api_getAgencyAppliedDocumentList:p}=ne();console.log("application data in list application",t.data);const[s,M]=r.useState(),[v,a]=r.useState(),[L,y]=r.useState(!1),[h,B]=r.useState(!1),E=t==null?void 0:t.data,P=t==null?void 0:t.applicationType,u=t==null?void 0:t.applicationName;console.log("onclick close modal",t.closeModal),console.log("application id..1",E),console.log("application type",P),console.log("application name in modal",u);const q=()=>{t.closeModal()};r.useEffect(()=>{C()},[]);let N;u=="selfAdvertisement"&&(N=R),u=="movableVehicle"&&(N=$),u=="privateLand"&&(N=V),u=="agency"&&(N=D);const C=()=>{B(!1),y(!0);const l={applicationId:E,type:P};F.post(`${N}`,l,H()).then(function(d){console.log("application view details 1",d),M(d.data.data),y(!1)}).catch(function(d){console.log("errorrr.... ",d),B(!0),y(!1)})};console.log("details of application...1",s==null?void 0:s.fullDetailsData),r.useEffect(()=>{z()},[]);let w;u=="selfAdvertisement"&&(w=U),u=="movableVehicle"&&(w=T),u=="privateLand"&&(w=g),u=="agency"&&(w=p);const z=()=>{const l={applicationId:E,type:P};F.post(`${w}`,l,H()).then(function(d){console.log("document list ===>",d),console.log("document list 22",d.data.data),a(d.data.data)}).catch(function(d){console.log("errorrr.... ",d)})};return L?e.jsx(e.Fragment,{children:e.jsx(me,{})}):h?e.jsx(fe,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):(console.log("document list...2",v),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" shadow-lg rounded leading-5 z-50 overflow-y-auto max-sm:mt-10",children:[e.jsxs("div",{className:" shadow-md  p-2 bg-white max-sm:p-0",children:[e.jsx("h1",{className:"text-2xl px-4 font-semibold text-gray-700",children:"Application Details"}),e.jsx("h1",{className:"text-xs px-4 text-gray-500",children:"Review your application"}),e.jsx("button",{className:"float-right -mt-9 mr-4",onClick:q,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 bg-red-400 text-white  shadow-lg  rounded-full",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),e.jsx("div",{className:"ml-96 max-sm:ml-0"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 p-4 gap-4 container mx-auto space-x-8 max-sm:p-0 max-sm:space-x-0 max-sm:pt-4",children:[e.jsxs("div",{className:"col-span-7",children:[e.jsx("div",{class:"mb-5 flex flex-wrap flex-row -mx-4 p-4 bg-white ml-2 max-sm:flex-col w-full max-sm:ml-0",children:e.jsxs("div",{class:"flex flex-shrink max-w-full px-4 w-full lg:w-1/2 space-x-2 max-sm:flex-col max-sm:space-x-0",children:[e.jsx("h1",{className:" font-bold text-md text-gray-600 ",children:"Remarks. -"}),e.jsx("h1",{className:"font-normal text-md  ",children:(i=(I=s==null?void 0:s.levelComment)==null?void 0:I.map(l=>l==null?void 0:l.message))==null?void 0:i.join(", ")})]})}),e.jsxs("div",{class:"flex flex-wrap flex-row -mx-4 p-4 bg-white ml-2 max-sm:flex-col w-full max-sm:ml-0",children:[e.jsxs("div",{class:"flex flex-shrink max-w-full px-4 w-full lg:w-1/2 space-x-2 max-sm:flex-col max-sm:space-x-0",children:[e.jsx("h1",{className:" font-bold text-md text-gray-600 ",children:"Application No. -"}),e.jsx("h1",{className:"font-normal text-md  ",children:j(s==null?void 0:s.application_no)})]}),e.jsxs("div",{class:"flex flex-shrink max-w-full px-4 w-full lg:w-1/2 max-sm:flex-col",children:[e.jsx("h1",{className:"font-bold text-md text-gray-600  ",children:"Apply Date -"}),e.jsx("h1",{className:"font-normal text-md ",children:j(s==null?void 0:s.apply_date)})]})]}),(c=(O=s==null?void 0:s.fullDetailsData)==null?void 0:O.dataArray)==null?void 0:c.map(l=>{var d;return e.jsx(e.Fragment,{children:e.jsx("div",{class:"flex flex-wrap flex-row container mx-auto  rounded leading-5 p-2 mt-4",children:(d=l==null?void 0:l.data)==null?void 0:d.map(f=>e.jsxs("div",{class:"flex-shrink max-w-full px-4 w-full lg:w-1/3 mb-2  p-2",children:[e.jsx("h1",{className:"font-bold text-md text-gray-600  ",children:j(f==null?void 0:f.displayString)}),e.jsxs("h1",{className:" font-normal text-sm text-gray-500 ",children:[j(f==null?void 0:f.value)," "]})]}))})})}),(s==null?void 0:s.directors)&&e.jsx("div",{children:e.jsxs("div",{className:"mt-4 overflow-auto",children:[e.jsx("h1",{className:"px-10 text-md text-gray-800 font-bold",children:"Directors Information"}),e.jsxs("table",{class:"table-auto text-slate-700 w-11/12 mx-auto mt-1 mb-4",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-violet-200 text-gray-600 text-xs h-8  uppercase",children:[e.jsx("th",{children:"Director Name"}),e.jsx("th",{children:"Director Mobile No."}),e.jsx("th",{children:"Director Email"})]})}),e.jsx("tbody",{children:(_=s==null?void 0:s.directors)==null?void 0:_.map(l=>e.jsxs("tr",{className:"border-t-2 bg-white hover:bg-violet-200 text-sm hover:shadow-lg text-center  ",children:[e.jsx("td",{children:e.jsxs("span",{children:[j(l==null?void 0:l.director_name)," "]})}),e.jsx("td",{children:e.jsx("span",{children:j(l==null?void 0:l.director_mobile)})}),e.jsx("td",{children:e.jsx("span",{children:j(l==null?void 0:l.director_email)})})]}))})]})]})})]}),e.jsxs("div",{className:"col-span-5  rounded leading-5",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 bg-white p-3 container max-sm:ml-4",children:e.jsx("div",{className:"   ",children:e.jsx("h1",{className:"font-semibold text-gray-800 text-lg text-center uppercase",children:"Documents Uploaded"})})}),(v==null?void 0:v.length)>0?v.map((l,d)=>{var f;return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 p-4  rounded leading-5",children:e.jsxs("div",{className:"flex  border border-dashed border-gray-500",children:[e.jsx("h1",{className:"flex-1 font-semibold text-xs text-gray-600 p-4 uppercase break-words",children:l==null?void 0:l.doc_code}),e.jsx("h1",{className:"flex-1",children:(f=l==null?void 0:l.doc_path)!=null&&f.endsWith(".pdf")?e.jsx(xe,{onClick:()=>k(l==null?void 0:l.doc_path,l==null?void 0:l.doc_code),className:"w-16 h-16 text-red-600 float-right cursor-pointer"}):e.jsx("img",{onClick:()=>k(l==null?void 0:l.doc_path,l==null?void 0:l.doc_code),src:l==null?void 0:l.doc_path,alt:"Document",className:"w-16 h-16 float-right"})})]})},d)}):e.jsx("p",{className:"text-xl font-semibold text-center m-2 mt-8 text-gray-500",children:"No Documents found"})]})]})]}),o&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-200 bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-3xl h-full max-h-[70vh]",children:[e.jsx("div",{className:"flex justify-end items-center p-1 ",children:e.jsx("button",{onClick:S,className:"text-white font-semibold bg-red-400 w-7 g-7 px-2 rounded-full py-0 text-xl",children:"X"})}),e.jsx("div",{className:"flex justify-center items-center w-full h-full  pb-16",children:(n=o==null?void 0:o.path)!=null&&n.endsWith(".pdf")?e.jsx("iframe",{src:o.path,className:"w-full h-full",title:o.name}):e.jsx("img",{src:o.path,alt:o.name,className:"w-full h-full object-contain "})})]})})]}))}const ve={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"gray",border:"none"}};se.setAppElement("#root");function ye(t){var c,_,n,l,d,f,W,G,K,Q,X,Y,J,Z,ee,te,le,ce;let o=" text-xs  text-gray-600";const{api_postAdvertisementReuploadedDocument:A,api_postMovableVehicleReuploadedDocument:k,api_postPrivateLandReuploadedDocument:S,api_postAgencyReuploadedDocument:R,api_postLodgeReuploadedDocument:U,api_postHostelReuploadedDocument:$,api_postBanquetReuploadedDocument:T,api_postDharamshalaReuploadedDocument:V}=ne(),[g,D]=r.useState(),[p,s]=r.useState(""),[M,v]=r.useState(!1),[a,L]=r.useState(),[y,h]=r.useState(!1),B=()=>v(!0),E=()=>v(!1),P=()=>{},[u,q]=r.useState(!1),N=()=>{q(!u)};console.log("application name 12",t.applicationName);const C=(m,x)=>{ie.dismiss(),x=="success"&&ie.success(m),x=="error"&&ie.error(m)},w=m=>{s(m),B()},z={image:"",id:(c=t==null?void 0:t.data)==null?void 0:c.id},I=he({initialValues:z,onSubmit:m=>{h(!0),console.log("image file on submit",m==null?void 0:m.image),D(m);let x;t.applicationName=="selfAdvertisement"&&(x=A),t.applicationName=="movableVehicle"&&(x=k),t.applicationName=="privateLand"&&(x=S),t.applicationName=="agency"&&(x=R),t.applicationName=="banquetMarriage"&&(x=T),t.applicationName=="hostel"&&(x=$),t.applicationName=="lodge"&&(x=U),t.applicationName=="dharamshala"&&(x=V),F.post(`${x}`,m,H()).then(function(b){var ae,de;console.log("re-uploaded document",b.data.data),t==null||t.getDocumentList(),h(!1),(ae=b==null?void 0:b.data)!=null&&ae.status?C((de=b==null?void 0:b.data)==null?void 0:de.message,"success"):C("Please select file","error")}).catch(function(b){var ae;console.log("errorrr.... ",b),C((ae=response==null?void 0:response.data)==null?void 0:ae.message,"error"),h(!1)})}}),i=m=>{let x=m.target.name;m.target.value;let b=m.target.files[0];L(b),console.log("image file",a),x=="image"&&O(b)},O=m=>{I.setFieldValue("image",m);const x=new FileReader;x.onloadend=()=>{s(x.result)},x.readAsDataURL(m),console.log("file checker ",p)};return console.log("image file",a==null?void 0:a.name),e.jsxs("div",{children:[y?e.jsx("div",{className:"flex justify-center items-center"}):e.jsx("form",{onSubmit:I.handleSubmit,onChange:i,encType:"multipart/form-data",children:e.jsxs("div",{class:"grid grid-cols-1 md:grid-cols-6 lg:grid-cols-6 gap-1 border-b border-gray-400 mb-2",children:[e.jsx("div",{className:"px-1",children:e.jsx("div",{className:"truncate",children:e.jsxs("span",{className:`${o}`,children:[" ",(_=t==null?void 0:t.data)==null?void 0:_.doc_code," "]})})}),e.jsx("div",{className:"px-1",children:e.jsxs("div",{className:"flex items-center justify-center font-semibold text-sm",children:[e.jsx("div",{className:"cursor-pointer",onClick:()=>{var m;return w(`${(m=t==null?void 0:t.data)==null?void 0:m.doc_path}`)},children:e.jsx("img",{src:`${(n=t==null?void 0:t.data)==null?void 0:n.doc_path}`,alt:"Preview Image",className:`${o} w-8`})}),((l=t==null?void 0:t.data)==null?void 0:l.verify_status)==2&&e.jsx("div",{children:(a==null?void 0:a.name)==null||(a==null?void 0:a.name)==null||(a==null?void 0:a.name)==""?e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/4194/4194756.png",alt:"Preview Image",className:`${o} w-8`}):e.jsx(e.Fragment,{children:["pdf","jpg","jpeg","png"].includes((d=a==null?void 0:a.name)==null?void 0:d.split(".").pop())?e.jsxs("div",{onClick:()=>w(p),children:[((f=a==null?void 0:a.name)==null?void 0:f.split(".").pop())=="pdf"&&e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3997/3997593.png",alt:"Preview Image",className:`${o} w-8`}),((W=a==null?void 0:a.name)==null?void 0:W.split(".").pop())=="jpg"&&e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/5719/5719824.png",alt:"Preview Image",className:`${o} w-8`}),((G=a==null?void 0:a.name)==null?void 0:G.split(".").pop())=="jpeg"&&e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/5719/5719824.png",alt:"Preview Image",className:`${o} w-8`}),((K=a==null?void 0:a.name)==null?void 0:K.split(".").pop())=="png"&&e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/5719/5719894.png",alt:"Preview Image",className:`${o} w-8`})]}):e.jsx(je.Tooltip,{className:"bg-gray-500 text-xs text-white",content:"Does not support this file extension",children:e.jsx("div",{children:e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/8316/8316660.png",className:`${o} w-8 mx-auto`})})})})})]})}),e.jsx("div",{className:"px-1",children:e.jsx("div",{className:"flex items-center justify-center font-semibold text-sm",children:e.jsx("div",{className:"form-group col-span-4 md:col-span-1 md:px-0",children:e.jsx("input",{type:"file",accept:".png, .jpg, .jpeg, .pdf",name:"image",className:"form-control block w-full px-3 py-1.5 mb-3 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",onChange:I.handleChange})})})}),e.jsx("div",{className:"px-1",children:e.jsx("div",{className:"flex items-center justify-center font-semibold text-sm",children:e.jsxs("div",{className:"form-group col-span-4 md:col-span-1 md:px-0 mt-2",children:[((Q=t==null?void 0:t.data)==null?void 0:Q.verify_status)==0&&e.jsx("h1",{className:"bg-amber-200 text-center  w-28 text-xs rounded-full text-amber-800 shadow-md",children:"Pending"}),((X=t==null?void 0:t.data)==null?void 0:X.verify_status)==1&&e.jsx("h1",{className:"bg-green-200 text-center w-28 text-xs rounded-full text-green-800 shadow-md",children:"Verified"}),((Y=t==null?void 0:t.data)==null?void 0:Y.verify_status)==2&&e.jsx("h1",{className:"bg-red-200 text-center w-28 text-xs rounded-full text-red-800 shadow-md ",children:"Rejected"})]})})}),e.jsxs("div",{className:"px-1",children:[e.jsx("div",{className:"flex items-center justify-center font-semibold text-sm",children:e.jsx("div",{className:" truncate block w-full px-2 py-1 text-sm text-gray-700 bg-white bg-clip-padding border border-gray-300 rounded-md cursor-pointer",onClick:N,children:((J=t==null?void 0:t.data)==null?void 0:J.remarks)||"No remarks"})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 transition-opacity duration-300 ease-in-out",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-2xl transform transition-transform duration-500 ease-in-out scale-105",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Full Remarks"}),e.jsx("p",{className:"text-sm text-gray-700 max-h-60 overflow-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-gray-400 scrollbar-track-gray-100 px-2 py-1",children:((Z=t==null?void 0:t.data)==null?void 0:Z.remarks)||"No remarks"}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full font-semibold shadow-md hover:from-blue-600 hover:to-indigo-700 hover:shadow-lg transition-transform transform hover:scale-105",onClick:N,children:"Close"})})]})})]}),e.jsx("div",{className:"px-1",children:e.jsx("div",{className:"flex items-center justify-center font-semibold text-sm mt-2",children:((ee=t==null?void 0:t.data)==null?void 0:ee.verify_status)==2||((te=t==null?void 0:t.data)==null?void 0:te.verify_status)==0?e.jsx("div",{className:"form-group col-span-4 md:col-span-1 md:px-0",children:(g==null?void 0:g.image)==null||(g==null?void 0:g.image)==null||(g==null?void 0:g.image)==""||((le=t==null?void 0:t.data)==null?void 0:le.verify_status)==2||((ce=t==null?void 0:t.data)==null?void 0:ce.verify_status)==0?e.jsx("button",{type:"submit",className:"py-0 px-2 text-[0.7rem] inline-block text-center  rounded leading-5 text-gray-100 bg-indigo-500 border border-indigo-500 hover:text-white hover:bg-indigo-600 hover:ring-0 hover:border-indigo-600 focus:bg-indigo-600 focus:border-indigo-600 focus:outline-none focus:ring-0",children:e.jsx("span",{className:"text-xs",children:"Upload"})}):e.jsx("button",{type:"submit",className:"py-0 px-2 text-[0.7rem] inline-block text-center  rounded leading-5 text-gray-100 bg-green-500 border border-green-500 hover:text-white focus:outline-none focus:ring-0",disabled:!0,children:e.jsx("span",{className:"text-xs",children:"Uploaded"})})}):e.jsx("button",{type:"submit",className:"py-0 px-2 text-[0.7rem] inline-block text-center  rounded leading-5 text-gray-100 bg-green-500 border border-green-500 hover:text-white focus:outline-none focus:ring-0",disabled:!0,children:e.jsx("span",{className:"text-xs",children:"Uploaded"})})})})]})}),e.jsx(se,{isOpen:M,onAfterOpen:P,onRequestClose:E,style:ve,contentLabel:"Example Modal",children:e.jsx("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0",style:{width:"40vw",height:"80vh"},children:e.jsx("iframe",{className:"w-full h-full",src:p,frameborder:"1",children:e.jsx("img",{className:"",src:p})})})})]})}function Pe(t){const[o,A]=r.useState(!0),{api_getAdvertisementReuploadDoc:k,api_getMovableVehicleReuploadDoc:S,api_getPrivateLandReuploadDoc:R,api_getAgencyReuploadDoc:U,api_getBanquetReuploadDoc:$,api_getHostelReuploadDoc:T,api_getLodgeReuploadDoc:V,api_getDharamshalaReuploadDoc:g}=ne(),[D,p]=r.useState(),[s,M]=r.useState();console.log("application name 12",t.applicationName);const v=()=>{t==null||t.closeModal()};r.useEffect(()=>{L()},[]);let a;t.applicationName=="selfAdvertisement"&&(a=k),t.applicationName=="movableVehicle"&&(a=S),t.applicationName=="privateLand"&&(a=R),t.applicationName=="agency"&&(a=U),t.applicationName=="banquetMarriage"&&(a=$),t.applicationName=="hostel"&&(a=T),t.applicationName=="lodge"&&(a=V),t.applicationName=="dharamshala"&&(a=g);const L=()=>{const y={applicationId:t==null?void 0:t.data};F.post(`${a}`,y,H()).then(function(h){A(!1),console.log("re-uploaded document list",h.data.doc_upload_status),p(h.data.data),M(h.data.doc_upload_status)}).catch(function(h){A(!1),console.log("errorrr.... ",h)})};return console.log("application id",t.data),console.log("workflow id 1",t.workflowId),e.jsx(e.Fragment,{children:e.jsx("div",{className:" top-4 ml-4 ",children:e.jsxs("div",{className:" grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pb-8 p-2 mt-12",children:[e.jsxs("div",{className:"col-span-12",children:[e.jsx("div",{className:"col-span-6",children:e.jsx("h1",{className:"text-xl",children:"Upload Rejected Document"})}),e.jsx("div",{className:"col-span-6",children:e.jsx("button",{className:"float-right",onClick:v,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 mr-2 md:-mt-8 lg:-mt-8 text-red-500 bg-red-200 rounded-full p-1",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]}),e.jsx("div",{className:"col-span-12 border border-dashed border-violet-800 p-2",children:e.jsxs("div",{className:"p-1 ",children:[e.jsxs("div",{class:"grid grid-cols-1 md:grid-cols-6 lg:grid-cols-6 gap-1 p-1 bg-white ",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-left  text-lg  text-gray-600 font-sans font-semibold ",children:"Document"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Preview"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Upload"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Status"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Remarks"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Action"})})]}),e.jsx("div",{className:"mt-2",children:o?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-t-4 border-blue-500 border-gray-200 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-lg text-blue-500",children:"Loading, please wait..."})]}):e.jsx("div",{className:"mt-2",children:D==null?void 0:D.map((y,h)=>e.jsx(ye,{data:y,applicationName:t.applicationName,getDocumentList:L},h))})})]})})]})})})}export{H as A,Pe as R,Le as V,Me as a};
