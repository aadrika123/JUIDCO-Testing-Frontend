import{b as y,j as t,P as p,I as w,a as v,_ as r,u as N}from"./index-NlBlJ_8q.js";import"./router-VubLdhT0.js";import{u as P}from"./useCustomQuery-TWadufCo.js";import{R as L}from"./RotatingLoader-VDkajuRi.js";import A from"./index-PkeelFeZ.js";import"./reactQuery-RcMcAFyq.js";import"./reactQueryDevtools-6dm9iask.js";import"./axios-YpSsR79r.js";import"./tailwind-kPGtpyku.js";import"./reactIcons-m3sh1_3a.js";import"./reactLazyLoadImageComponent-DVjwytrh.js";import"./headlessui-PACf4Y4w.js";import"./LoadingButton-jrnZjwAz.js";import"./useErrorFocusField-J-TSd_tv.js";function H(){const{actions:e,state:E}=y({updateAction:N}),{mutateAsync:j,isLoading:b}=P({}),h=async()=>{var i,o,m,s,n,c,d,l,u,x,f,g;try{const a=await j({api:(i=v)==null?void 0:i.ePramanLogin,data:{type:"mobile"}});(o=a==null?void 0:a.data)!=null&&o.status?(r.success((m=a==null?void 0:a.data)==null?void 0:m.message),e==null||e.updateAction({ePramaan:{codeVerifier:(n=(s=a==null?void 0:a.data)==null?void 0:s.data)==null?void 0:n.code_verifier,nonce:(d=(c=a==null?void 0:a.data)==null?void 0:c.data)==null?void 0:d.nonce,url:(u=(l=a==null?void 0:a.data)==null?void 0:l.data)==null?void 0:u.url}}),window.location.href=(f=(x=a==null?void 0:a.data)==null?void 0:x.data)==null?void 0:f.url):(r.error((g=a==null?void 0:a.data)==null?void 0:g.message),e==null||e.updateAction({ePramaan:{codeVerifier:"",nonce:"",url:""}}))}catch(a){r.error("Something went wrong")}};return b?t.jsx(L,{}):t.jsx(p,{title:"Auth",children:t.jsxs("div",{className:"w-full",children:[t.jsx("div",{children:t.jsx("h2",{className:"font-semibold mb-4 text-blue-700"})}),t.jsx("div",{className:"flex flex-col items-center justify-center ",children:t.jsxs("button",{onClick:h,type:"button",className:"text-gray-700 font-semibold w-full justify-center bg-gray-300 hover:bg-gray-200 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2 mb-2",children:[t.jsx(w,{src:"/images/epraman.webp",alt:"EPraman",className:"w-6 h-5 me-2 -ms-1"}),"Login with E-Praman"]})}),t.jsx("div",{className:"flex flex-col items-center justify-center mt-4",children:t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"w-1/3 border-b border-gray-300"}),t.jsx("div",{className:"mx-2 text-gray-500",children:"or"}),t.jsx("div",{className:"w-1/3 border-b border-gray-300"})]})}),t.jsx("div",{children:t.jsx(A,{})})]})})}export{H as default};
