import{r as a,a as x,A as b,j as t,F as K,b as n}from"./index-1b890fc2.js";import{T as Q}from"./ThemeStyle-994f51bc.js";import{u as W}from"./formik.esm-c19d5694.js";import{R as X}from"./RentalApiList-2bdbf1a3.js";import"./index-7f6eafeb.js";import"./react-tooltip.min-e46fdea6.js";import{R as Y}from"./RentalListTablePaginate2-ebbe13b7.js";import"./Hourglass-e95bc06e.js";import{R as Z}from"./RotatingLoader-2f109b7e.js";import"./hoist-non-react-statics.cjs-8fc5caa0.js";import"./ShopListViewInCard-a66fc97d.js";import"./PowerupFunctions-2b8905dc.js";import"./TollListViewInCard-bf78bd57.js";function Ce(){const{bgHeaderColor:ee,titleColor:u,nextButtonColor:te,bgCardColor:ae,bgInfoColor:oe,infoTextColor:le,backButtonColor:se,backBtnHoverColor:ce,nextBtnHoverColor:re,inputStyle:ne}=Q(),{api_UlbCircleList:H,api_locationByCircleList:R,api_shopListByLocation:k}=X(),[g,B]=a.useState();a.useState(null);const[m,F]=a.useState();a.useState(null);const[i,I]=a.useState(null),[P,s]=a.useState(!1),[S,j]=a.useState(),[A,T]=a.useState(0),[p,V]=a.useState(1),[E,y]=a.useState(0),[h,$]=a.useState(5),[d,q]=a.useState(""),[D,ie]=a.useState(!1),c=W({initialValues:{location:"",circle:""},onSubmit:e=>{O(e==null?void 0:e.location)}}),O=(e,o)=>{console.log("search values ",e,d),f(e,p,h,d)};a.useEffect(()=>{f(S,p,h,d)},[S,p,d,h]);const U=[{Header:"Shop no.",accessor:"shop_no"},{Header:"Allottee",accessor:"allottee"},{Header:"Last paid on",accessor:"updated_at"},{Header:"Area",accessor:"circle_name"},{Header:"Rate",accessor:"rate"}];a.useEffect(()=>{M()},[]);const M=()=>{s(!0),x.post(H,{},b()).then(e=>{console.log("circle list 1",e.data),e.data.status&&B(e.data.data),s(!1)}).catch(e=>{console.log(e),s(!1)})},z=e=>{console.log("circle id ",e),s(!0);const o={circleId:e};x.post(R,o,b()).then(l=>{console.log("location list",l.data),l.data.status&&F(l.data.data),s(!1)}).catch(l=>{console.log(l),s(!1)})},f=(e,o,l,v="")=>{s(!0),console.log("page , perpage , key ",o,l,v),x.post(k,{marketId:e,page:o,perPage:l,key:v},b()).then(r=>{var C,N,w,_;console.log("shop list 1",r.data),r.data.status&&(I(r.data.data.data),T((N=(C=r.data)==null?void 0:C.data)==null?void 0:N.total),y((_=(w=r.data)==null?void 0:w.data)==null?void 0:_.last_page)),s(!1)}).catch(r=>{console.log(r),s(!1)})};console.log("shop list by location",i);const G=e=>{console.log("target type",e.target.type),console.log("check box name",e.target.name),console.log("target id..",e.target.value);let o=e.target.name,l=e.target.value;o=="circle"&&z(l),o=="location"&&j(l)};let L="Shop Rental pay";const J={tittle:L,totalDataCount:A,currentPageIndex:p,setcurrentPageIndex:V,pageLength:h,setpageLength:$,lastPageIndex:E,setlastPageIndex:y,searchValue:d,setsearchValue:q,refreshStatus:D,fetchShopListFun:f};return P?t(Z,{}):t(K,{children:n("div",{className:"bg-[#eff2f0]",children:[n("div",{className:"col-span-12",children:[" ",t("h1",{className:`font-semibold ${u} text-xl px-4 py-2 text-gray-600`,children:L})]}),t("form",{onSubmit:c.handleSubmit,onChange:G,children:t("div",{className:"p-2 md:p-10 flex justify-center items-center  overflow-hidden",children:n("div",{className:"grid grid-cols-12 bg-[#fdfdfd]  w-full md:w-1/3 p-6 md:p-10 rounded-2xl shadow-md",children:[t("div",{className:"form-group mb-4 md:mb-6 col-span-12 mt-2 text-gray-600 ",children:n("div",{className:"",children:[t("h1",{className:`${u} text-sm py-2 text-gray-600`,children:"Select Circle"}),n("select",{...c.getFieldProps("circle"),className:" border border-gray-100 w-full py-2 px-2 bg-white shadow-lg rounded-xl text-gray-600 font-normal",children:[t("option",{selected:!0,children:"select"}),g==null?void 0:g.map((e,o)=>t("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.circle_name},o))]}),t("p",{className:"text-red-500 text-xs",children:c.touched.circle&&c.errors.circle?c.errors.circle:null})]})}),t("div",{className:"form-group mb-4 md:mb-6 col-span-12 mt-1 text-gray-600 ",children:n("div",{className:"",children:[t("h1",{className:` ${u} text-sm py-2 text-gray-600`,children:"Select Location"}),n("select",{...c.getFieldProps("location"),className:" border border-gray-100 w-full py-2 px-2 bg-white shadow-lg rounded-xl text-gray-600 font-normal",children:[t("option",{children:"select"}),m==null?void 0:m.map((e,o)=>t("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.market_name},o))]}),t("p",{className:"text-red-500 text-xs",children:c.touched.location&&c.errors.location?c.errors.location:null})]})})]})})}),t("div",{children:(i==null?void 0:i.length)>0?t(Y,{canRefresh:!0,columns:U,values:J,dataList:i}):t("div",{className:"p-2 relative ",children:t("img",{src:"https://img.freepik.com/free-vector/people-using-search-box-query-engine-giving-result_74855-11000.jpg?w=1380&t=st=1689941552~exp=1689942152~hmac=2830199908ef781c2072c2c614b124d0656193ea00848ee3bc7b438e259e94ca",className:"mx-auto h-44 mt-6 "})})})]})})}export{Ce as default};
