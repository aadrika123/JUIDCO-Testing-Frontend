import{r as s,i as $,t as j,g as q,e as C,h as E,v as T,c as M,b as v,u as V,f as r,F as I,j as t,k as O,w as z,L as D,d as K,A as R}from"./index-686650c1.js";function U(c,d,m){let h="/admin";c.ctrlKey?window.open(`${h}${d}`,"_blank"):m(d)}function J(){const[c,d]=s.useState();s.useState();const{type:m,filterParam:h,searchValueParam:w}=$(),[S,u]=s.useState(!1),[o,B]=s.useState(),[b,p]=s.useState(!1),{notify:g}=s.useContext(j);q("Search Holding"),console.log("search params...",m," ",h," ",w);const{api_advtSearchPaymentParameters:A}=R(),L=C(),P=E();T(),console.log("last url.......");const F=a=>{p(!1),u(!0);const i={filterBy:a==null?void 0:a.filterBy,parameter:a==null?void 0:a.parameter};console.log("before fetch holding details....",i),K.post(A,i,L).then(e=>{var n,f,x,y,N;console.log("search property list",(n=e==null?void 0:e.data)==null?void 0:n.message),(f=e==null?void 0:e.data)!=null&&f.status?(B((x=e==null?void 0:e.data)==null?void 0:x.data),p(!0),g((y=e==null?void 0:e.data)==null?void 0:y.message,"success")):g((N=e==null?void 0:e.data)==null?void 0:N.message,"error"),u(!1)}).catch(e=>{console.log("Error while fetching Filter Data",e),g("Something went wrong!!","error"),u(!1),p(!1)})},k=M({filterBy:v().required("This is a required field !"),parameter:v().required("This is a required field !")}),l=V({initialValues:{filterBy:"",parameter:""},onSubmit:a=>{F(a)},validationSchema:k}),H=(a,i,e)=>{let n=`/agencyApprovedDetail/${i}/${e}/Approve`;U(a,n,P)},_=[{Header:"Application No.",accessor:"application_no"},{Header:"Entity Name",accessor:"entity_name"},{Header:"Mobile No.",accessor:"mobile_no"},{Header:"Action",Cell:({row:a})=>t("button",{onClick:i=>H(i,a.original.id,a.original.type),className:"bg-indigo-500 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-indigo-700 text-white",children:"view"})}];return r(I,{children:[S&&t(O,{}),r("div",{className:"border shadow-xl bg-white mt-6",children:[t("div",{className:"flex ml-5 mt-2 ",children:t("p",{className:"font-bold text-3xl ml-4 mt-1 text-gray-600",children:"Search For Payment"})}),t("form",{onSubmit:l.handleSubmit,children:r("div",{className:"flex justify-center space-x-8 my-5 m-10",children:[r("div",{children:[r("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Filter By",t("span",{className:"text-red-500",children:"*"})]}),r("select",{...l.getFieldProps("filterBy"),className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[t("option",{value:"",children:"Select"}),t("option",{value:"entityName",children:"Entity Name"}),t("option",{value:"ownerName",children:"Owner Name"}),t("option",{value:"mobileNo",children:"Mobile No"})]}),t("p",{className:"text-red-500 text-xs",children:l.touched.filterBy&&l.errors.filterBy?l.errors.filterBy:null})]}),r("div",{children:[r("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Search By ",c," ",t("span",{className:"text-red-500",children:"*"})]}),t("input",{type:"text",...l.getFieldProps("parameter"),className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),t("p",{className:"text-red-500 text-xs",children:l.touched.parameter&&l.errors.parameter?l.errors.parameter:null})]}),t("div",{className:"mt-4",children:r("button",{type:"submit",className:"w-full border border-indigo-700 bg-indigo-600 hover:bg-indigo-500 text-white hover:text-black shadow-lg rounded-sm text-base font-semibold px-5 m-3 py-1",children:[" ",r("p",{className:"flex",children:[" ",r("span",{className:"mt-1 mr-2",children:[" ",t(z,{})," "]})," ","Search record"]})]})})]})})]}),r("div",{className:"mt-10",children:[b&&(o==null?void 0:o.length)!=0&&t(D,{columns:_,dataList:o}),b&&(o==null?void 0:o.length)==0&&t("div",{className:"text-xl font-semibold text-red-400 text-center capitalize",children:"List is empty"}),t("div",{className:"w-full h-40"})]})]})}export{J as default};
