import{r as c,u as R,s as U,b as $,j as e,B as X,D as G,C as K,n as r,X as Q,L as W,A as u,e as j,g as Z}from"./index-de640f8f.js";import{T}from"./Tabs-e95c1dde.js";import{B as V}from"./BottomErrorCard-511fba4a.js";function le(){var S;const[v,C]=c.useState([]),[N,ee]=c.useState(!0),[L,d]=c.useState(!1),[g,b]=c.useState(!1),[A,H]=c.useState(null),[M,w]=c.useState(null),[E,h]=c.useState(!1),[B,p]=c.useState(!1),[y,D]=c.useState(),[s,k]=c.useState(),{api_fetchClassFeeList:Y,api_deleteClassFeeById:I,api_getClassFeeById:J,api_searchClassFeeList:P}=Z(),_=R();U("Fee Head Type Master");const x=[{id:1,fee_head_type:10,is_annual:"Yes",is_optional:"No",is_latefee_applicable:"No"},{id:2,fee_head_type:10,is_annual:"No",is_optional:"Yes",is_latefee_applicable:"Yes"},{id:3,fee_head_type:10,is_annual:"Yes",is_optional:"No",is_latefee_applicable:"Yes"},{id:4,fee_head_type:10,is_annual:"No",is_optional:"Yes",is_latefee_applicable:"Yes"},{id:5,fee_head_type:10,is_annual:"Yes",is_optional:"No",is_latefee_applicable:"No"}],F=$({initialValues:{search:""},onSubmit:(t,l)=>{console.log("at submit ",t),f(t)}}),O=[{Header:"Sl No.",Cell:({cell:t})=>e.jsx("span",{children:r(t.row.index+1)})},{Header:"Class",accessor:"class_name"},{Header:"Section",accessor:"section_name"},{Header:"Head Type",accessor:"fee_head_type",Cell:({cell:t})=>e.jsx("span",{children:r(t.row.original.fee_head_type)})},{Header:"Fee Head",accessor:"fee_head",Cell:({cell:t})=>e.jsx("span",{children:r(t.row.original.fee_head)})},{Header:"Created Date & Time",Cell:({cell:t})=>{var l,a;return e.jsxs("span",{children:[r((l=t.row.original)==null?void 0:l.date)," | ",r((a=t.row.original)==null?void 0:a.time)]})}},{Header:"Status",Cell:({cell:t})=>{var l,a;return e.jsx("span",{className:((l=t.row.original)==null?void 0:l.status)==="Active"?"text-[green]":"text-[red]",children:r((a=t.row.original)==null?void 0:a.status)})}},{Header:"Action",Cell:({cell:t})=>{var l,a;return e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>{var i;return _(`/classfee-master-new-form/${(i=t.row.original)==null?void 0:i.id}`)},className:"edit-button-master",children:"Edit"}),e.jsx("button",{onClick:()=>{var i,n;w((i=t.row.original)==null?void 0:i.id),D(((n=t.row.original)==null?void 0:n.status)==="Active"?"deactive":"active"),h(!0)},className:`${((l=t.row.original)==null?void 0:l.status)=="Active"?"deactivate-button-master":"deactivate-second-button-master"}`,children:((a=t.row.original)==null?void 0:a.status)==="Active"?"Deactivate":"Activate"}),e.jsx("button",{onClick:()=>{var i;return z((i=t.row.original)==null?void 0:i.id)},className:"view-button-master",children:"View"})]})}}],q=()=>{d(!0),h(!1);let t={id:M,status:y};u.post(I,t,j()).then(function(l){var a,i;console.log("delete response..",(a=l==null?void 0:l.data)==null?void 0:a.data),(i=l==null?void 0:l.data)!=null&&i.status?f():o(!0,"Error occured in deletion."),d(!1)}).catch(function(l){console.log("==delete error...",l),o(!0,"Error occured in deletion."),d(!1)})},f=(t=null)=>{let l,a;t===null?(a={},l=Y):(a={search:t==null?void 0:t.search},l=P),d(!0),u.post(l,a,j()).then(function(i){var n,m;(n=i==null?void 0:i.data)!=null&&n.status?C((m=i==null?void 0:i.data)==null?void 0:m.data):o(!0,"Error occured while fetching data."),d(!1)}).catch(function(i){console.log("==2 error list...",i),o(!0,"Error occured while fetching data."),d(!1)})},z=t=>{d(!0);let l={id:t};u.post(J,l,j()).then(function(a){var i,n,m;console.log("fetch fee master view data response..",(i=a==null?void 0:a.data)==null?void 0:i.data),(n=a==null?void 0:a.data)!=null&&n.status?(k((m=a==null?void 0:a.data)==null?void 0:m.data),p(!0)):o(!0,"Error occured in submitting deactivation application. Please try again later."),d(!1)}).catch(function(a){console.log("= edit data error...",a),b(!0),d(!1)})};c.useEffect(()=>{f()},[]);const o=(t,l)=>{H(l),b(t)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"main-div",children:e.jsxs("div",{className:"main-inner-div",children:[L&&e.jsx(X,{}),g&&e.jsx(V,{activateBottomErrorCard:o,errorTitle:A}),g&&e.jsxs("div",{className:"alert-msg",role:"alert",children:[e.jsx("strong",{className:"sorry-msg",children:"Sorry! "}),e.jsx("span",{className:"some-error-msg",children:"Some error occured while fetching list. Please try again later"}),e.jsx("span",{className:"absolute-span"})]}),E&&e.jsx(G,{setdeleteStatus:h,deleteItem:q,deactivate:y}),B&&e.jsx(K,{children:e.jsxs("div",{className:"w-full bg-[#ddf8f6] shadow-xl mb-6 relative",children:[e.jsx("button",{onClick:()=>p(!1),type:"button",class:"absolute top-3 right-10 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-800 darks:hover:text-white",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"py-6 mt-2 rounded-lg shadow-lg p-4",children:[e.jsx("div",{className:"font-semibold text-lg px-2 mb-5 text-[#1d807b]",children:"# School Fee"}),e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-5 pl-4 ",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.class_name)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Class"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.fee_head)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Fee Head"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.fee_amount)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Fee Amount"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.discount)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Discount"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.net_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Net Fee"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-10  pl-4 mt-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.jan_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"January Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.feb_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"February Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.mar_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"March Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.apr_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"April Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.may_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"May Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.jun_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"June Fee"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-10  pl-4 mt-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.jul_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"July Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.aug_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"August Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.sep_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"September Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.oct_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"October Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.nov_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"November Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(s==null?void 0:s.dec_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"December Fee"})]})]})]})]})}),e.jsxs("div",{className:"main-sub-div",children:[e.jsx("div",{className:"main-sub-inner-div",children:e.jsxs("div",{className:"text-div",children:[e.jsx("div",{className:"big-text",children:"Class Fee Master List"}),e.jsx("div",{className:"small-text",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),e.jsx("div",{className:"tab-div",children:e.jsxs("div",{className:"global-filter-div",children:[e.jsx("form",{onSubmit:F.handleSubmit,children:e.jsxs("div",{className:"global-filter flex",children:[e.jsx("input",{type:"search",placeholder:"Search...",...F.getFieldProps("search"),className:"bg-[#F2F4F4] h-10 pl-4 "}),e.jsx("button",{className:"bg-[#3b82f6] w-14 max-[320px]:w-8 h-10 rounded-r-[5px] flex items-center justify-center text-white",type:"submit",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-5 w-5 ",children:e.jsx("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})})})," "]})}),e.jsx("div",{className:"hiplus-div",children:e.jsx("button",{onClick:()=>_("/classfee-master-new-form"),type:"button",className:"hiplus-button",children:e.jsx(Q,{className:"hiplus"})})})]})})]}),e.jsx(T,{listRoute:"/classfee-master-new",formRoute:"/classfee-master-new-form"}),e.jsx("div",{className:"mt-6",children:e.jsxs("span",{className:"lists",children:[" Class Fee Master List  (",(S=v[0])==null?void 0:S.academic_year,")"]})}),N&&(x==null?void 0:x.length)!=0&&e.jsx(W,{filter:!1,exportStatus:!1,assessmentType:!1,columns:O,dataList:v}),N&&(x==null?void 0:x.length)==0&&e.jsx("div",{className:"data-not-found",children:"Data Not Found"})]})})})}export{le as default};
