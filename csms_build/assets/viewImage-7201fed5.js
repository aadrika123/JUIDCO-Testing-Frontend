import{u as K,r as l,A as Q,Q as n,j as a,B as U,T as W,I as Z,Z as J,g as O}from"./index-de640f8f.js";import{A as X}from"./ApiHeader2-f80ad0bc.js";function et(){const B=K(),[T,r]=l.useState(!1),[i,u]=l.useState(1),[s,Y]=l.useState(10),[$,m]=l.useState(),[z,g]=l.useState(),[o,M]=l.useState(),[x,f]=l.useState([]);l.useState(!1);const{api_retrieve_gallery:R,api_search_gallery:V}=O();console.log(z);const q=x;console.log(x);const G=e=>{u(e-1)},H=e=>{u(e+1)};l.useEffect(()=>{c()},[i]),l.useEffect(()=>{c()},[s]),l.useEffect(()=>{c()},[]);const c=e=>{console.log("initialvalue",e,s,i);let d,h;e===void 0?(h={perPage:s,page:i},d=R):(h={search:e},d=V),r(!0),Q.post(d,h,X()).then(function(t){var v,w,b,j,y,N,E,S,P,k,p,A,_,C,D,L,F,I;((v=t==null?void 0:t.data)==null?void 0:v.status)===!0?((b=(w=t==null?void 0:t.data)==null?void 0:w.data)==null?void 0:b.total)===0?(n.error("Data not Found"),f((y=(j=t==null?void 0:t.data)==null?void 0:j.data)==null?void 0:y.data),m((E=(N=t==null?void 0:t.data)==null?void 0:N.data)==null?void 0:E.last_page),g((P=(S=t==null?void 0:t.data)==null?void 0:S.data)==null?void 0:P.total)):(console.log("exam term data",(p=(k=t==null?void 0:t.data)==null?void 0:k.data)==null?void 0:p.data),f((_=(A=t==null?void 0:t.data)==null?void 0:A.data)==null?void 0:_.data),m((D=(C=t==null?void 0:t.data)==null?void 0:C.data)==null?void 0:D.last_page),g((F=(L=t==null?void 0:t.data)==null?void 0:L.data)==null?void 0:F.total)):n.error(`${(I=t==null?void 0:t.data)==null?void 0:I.message}`),r(!1)}).catch(function(t){n.warning("Error occured while fetching data."),r(!1)})};return console.log("hello",x),a.jsxs("div",{children:[T&&a.jsx(U,{}),a.jsxs("div",{classNameName:"p-6 h-[76vh] ",children:[a.jsx("h1",{className:" text-[4vh] text-[#4338ca] font-bold ",children:"View Image Gallery"}),a.jsx("div",{className:" w-full px-[40%] flex items-center justify-end mt-2",children:a.jsx(W,{id:"search",type:"search",label:"Search",size:"small",fullWidth:!0,onChange:e=>{e.target.value===""?c():M(e.target.value)},onKeyDown:e=>e.key==="Enter"&&c(o),sx:{width:"100%"},InputProps:{endAdornment:a.jsx(Z,{position:"end",sx:{marginRight:"-14px"},children:a.jsx("button",{onClick:()=>{o===""?c():c(o)},className:"bg-[#0F766E] w-14 max-[320px]:w-8 h-10 rounded-r-[5px] flex items-center justify-center text-white",type:"submit",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-5 w-5 ",children:a.jsx("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})})})})}})}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center mt-[1vh] h-[72vh] overflow-auto",children:[q.map((e,d)=>a.jsxs("div",{className:"block w-[40vh] h-[40vh] m-[10px] rounded-[10px] shadow-lg",children:[a.jsx("div",{className:"w-[40vh] h-[25vh] rounded-t-[10px]",children:a.jsx("img",{src:`${J}/api/${e==null?void 0:e.cover_pic_docs}`,alt:"pic1",className:"h-[100%] w-[100%] rounded-t-[10px]"})}),a.jsxs("div",{classNameName:"w-full flex items-center justify-center px-5 ",children:[a.jsxs("div",{className:"flex mt-3 ",children:[" ",a.jsx("div",{className:"w-full ml-[5vh]",children:a.jsx("h1",{className:"text-[3vh] font-extrabold text-transparent bg-clip-text bg-gradient-to-br from-cyan-400 to-black ",children:e==null?void 0:e.category})})]}),a.jsx("button",{className:"mt-2 text-white bg-gradient-to-r from-[yellow] to-[#0c0a09] font-bold px-12 py-2 rounded-[10px]",onClick:()=>B(`/show-galleryimage/${e.category}`),children:"View Pic Collection"})]})]})),a.jsxs("div",{className:"mt-3 w-full flex items-center justify-between px-10 my-2",children:[a.jsx("button",{type:"submit",className:"bg-white text-red-600 border-red-600 border px-8 py-2 rounded-lg hover:text-white text-[2vh] hover:bg-red-600",disabled:i===1,onClick:()=>G(i),children:"Previous"}),a.jsx("button",{className:"bg-white text-[#0F766E] border-[#0F766E] border px-8 py-2 rounded-lg hover:text-white text-[2vh] hover:bg-[#0F766E]",disabled:i===$,onClick:()=>H(i),children:" Next"})]})]})]})]})}export{et as default};
