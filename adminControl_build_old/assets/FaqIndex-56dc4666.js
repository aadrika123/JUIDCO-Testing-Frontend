import{j as e,n as j}from"./index-bd8b5d4a.js";import{b as C,r as d}from"./router-b87f8164.js";import{G as M,S as $,L as z,C as B}from"./ShimmerTable-b6961b5c.js";import{A as y,c as D,a as p,u as E}from"./ApiHeader-4ed27c1c.js";import{u as P}from"./useSetTitle-d6a5d58a.js";import{A as v,n as S}from"./PowerupFunctions-54b8ae3f.js";import{M as I}from"./index.esm-d3a2968b.js";import{P as A}from"./ProjectApiList-40ad3813.js";import"./react-5403e0b7.js";import"./reactQuery-8705a202.js";import"./reactQueryDevtools-9a5be7d4.js";import"./tailwind-64fa9e48.js";import"./axios-096c69c8.js";const G={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function U(t){const[x,u]=C.useState(!1),{post_deleteFaq:a}=A(),h=f=>{const r={id:f};v.post(a,r,y()).then(c=>(j.success("FAQ Deleted successfully"),i(),t==null?void 0:t.refresh())).catch(c=>(j.error("Failed to Deleted the FAQ"),i()))};d.useEffect(()=>{t.openDeleteModal>0&&u(!0)},[t.openDeleteModal]);function m(){}function i(){u(!1)}return e.jsx("div",{className:"",children:e.jsx(I,{isOpen:x,onAfterOpen:m,onRequestClose:i,style:G,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins",children:[e.jsxs("div",{className:"flow-root",children:[e.jsx("p",{className:"float-left text-center text-lg font-semibold",children:"Are you sure to Delete ?"}),e.jsxs("p",{onClick:i,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(M,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsxs("button",{onClick:()=>h(t.deleteId),className:"rounded-md bg-red-300 hover:bg-red-400 shadow-lg py-1.5 text-sm px-3 m-3",children:[" ","Yes, Delete"," "]}),e.jsxs("button",{onClick:i,className:"rounded-md bg-green-300 hover:bg-green-400 shadow-lg py-1.5 text-sm px-3 m-3",children:[" ","Cancel"," "]})]})]})})})}const V={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Y(t){var c,o,g,w,_,q,F;const{post_editFaq:x}=A(),u=D({moduelName:p().required("Select module"),question:p().required("Write question"),answer:p().required("Write answer")}),a=E({initialValues:{moduelName:(c=t==null?void 0:t.editData)==null?void 0:c.module_id,question:(o=t==null?void 0:t.editData)==null?void 0:o.question,answer:(g=t==null?void 0:t.editData)==null?void 0:g.answer},enableReinitialize:!0,onSubmit:n=>{i(n)},validationSchema:u}),[h,m]=C.useState(!1),i=n=>{var N;const k={id:(N=t==null?void 0:t.editData)==null?void 0:N.id,question:n==null?void 0:n.question,answer:n==null?void 0:n.answer,moduleId:n==null?void 0:n.moduelName};v.post(x,k,y()).then(b=>(j.success("FAQ updated successfully"),r(),t==null?void 0:t.refresh())).catch(b=>(j.error("Failed to updated the FAQ"),r()))};d.useEffect(()=>{t.openEditFaq>0&&m(!0)},[t.openEditFaq]);function f(){}function r(){m(!1)}return e.jsx("div",{className:"",children:e.jsx(I,{isOpen:h,onAfterOpen:f,onRequestClose:r,style:V,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins w-[100vw] md:w-[50vw]",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-lg font-semibold",children:["Edit FAQ"," "]}),e.jsxs("p",{onClick:r,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(M,{size:25})," "]})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,onChange:a.handleChange,children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Module : "}),e.jsx("select",{type:"text",value:(w=a.values)==null?void 0:w.moduelName,name:"moduelName",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:(_=t==null?void 0:t.moduleList)==null?void 0:_.map(n=>e.jsx(e.Fragment,{children:e.jsx("option",{value:n==null?void 0:n.id,children:n==null?void 0:n.module_name})}))}),e.jsx("span",{className:"text-red-600 text-xs",children:a.touched.moduelName&&a.errors.moduelName?a.errors.moduelName:null})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Question : "}),e.jsx("textarea",{cols:2,rows:2,placeholder:"Type Question",value:(q=a.values)==null?void 0:q.question,name:"question",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 text-xs",children:a.touched.question&&a.errors.question?a.errors.question:null})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Answer : "}),e.jsx("textarea",{cols:2,rows:6,placeholder:"Type Answer",value:(F=a.values)==null?void 0:F.answer,name:"answer",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 text-xs",children:a.touched.answer&&a.errors.answer?a.errors.answer:null})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"rounded-md bg-green-300 hover:bg-green-400  hover:text-black shadow-lg  py-1 text-sm px-3 m-3",children:[" ","Update"," "]})})]})})]})})})}const J={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function K(t){var c;const{post_addFaq:x}=A(),u=D({moduelName:p().required("Select module"),question:p().required("Write question"),answer:p().required("Write answer")}),a=E({initialValues:{moduelName:"",question:"",answer:""},onSubmit:o=>{i(o)},validationSchema:u}),[h,m]=C.useState(!1),i=o=>{const g={question:o==null?void 0:o.question,answer:o==null?void 0:o.answer,moduleId:o==null?void 0:o.moduelName};v.post(x,g,y()).then(w=>(j.success("FAQ added successfully"),r(),t==null||t.refresh(),a.resetForm())).catch(w=>(j.error("Failed to add the FAQ"),r()))};d.useEffect(()=>{t.openAddFaq>0&&m(!0)},[t.openAddFaq]);function f(){}function r(){m(!1)}return e.jsx("div",{className:"w-full",children:e.jsx(I,{isOpen:h,onAfterOpen:f,onRequestClose:r,style:J,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins w-[100vw] md:w-[50vw]",children:[e.jsxs("div",{className:"flow-root",children:[e.jsx("p",{className:"float-left text-center text-lg font-semibold",children:"Add FAQ"}),e.jsx("p",{onClick:r,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:e.jsx(M,{size:25})})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,onChange:a.handleChange,children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Module : "}),e.jsxs("select",{type:"text",name:"moduelName",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),(c=t==null?void 0:t.moduleList)==null?void 0:c.map(o=>e.jsx(e.Fragment,{children:e.jsx("option",{value:o==null?void 0:o.id,children:o==null?void 0:o.module_name})}))]}),e.jsx("span",{className:"text-red-600 text-xs",children:a.touched.moduelName&&a.errors.moduelName?a.errors.moduelName:null})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Question : "}),e.jsx("textarea",{cols:2,rows:2,type:"text",placeholder:"Type Question",name:"question",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 text-xs",children:a.touched.question&&a.errors.question?a.errors.question:null})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Answer : "}),e.jsx("textarea",{cols:2,rows:6,type:"text",placeholder:"Type Answer",name:"answer",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 text-xs",children:a.touched.answer&&a.errors.answer?a.errors.answer:null})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:"rounded-md bg-green-300 hover:bg-green-400  hover:text-black shadow-lg  py-1 text-sm px-3 m-3",children:"Add"})})]})})]})})})}function me(){const{post_listFaq:t,post_moduleList:x}=A();P("FAQ Master");const[u,a]=d.useState(0),[h,m]=d.useState(0),[i,f]=d.useState(0),[r,c]=d.useState(0),[o,g]=d.useState([]),[w,_]=d.useState(),[q,F]=d.useState(),[n,k]=d.useState(),[N,b]=d.useState(!1),L="border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300",Q="border border-red-300 text-red-400 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white",R="float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl hover:bg-[#113766] hover:text-white text-white flex items-center",W=s=>{m(l=>l+1),_(s)},T=s=>{f(l=>l+1),F(s)};d.useEffect(()=>{b(!0),v.post(t,{},y()).then(s=>{var l;k((l=s==null?void 0:s.data)==null?void 0:l.data),b(!1)}).catch(s=>{b(!1)}),v.post(x,{},y()).then(s=>{var l;g((l=s==null?void 0:s.data)==null?void 0:l.data),b(!1)}).catch(s=>{b(!1)})},[r]);const H=[{Header:"#",Cell:({row:s})=>e.jsx("div",{className:"pr-2",children:(s==null?void 0:s.index)+1})},{Header:"Module Name",Cell:({cell:s})=>{var l;return S((l=s.row.original)==null?void 0:l.module_name)}},{Header:"Question",Cell:({cell:s})=>{var l;return S((l=s.row.original)==null?void 0:l.question)}},{Header:"Answer",Cell:({cell:s})=>{var l;return S((l=s.row.original)==null?void 0:l.answer)}},{Header:"Action",accessor:"id",Cell:({cell:s})=>e.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{var l;return T((l=s==null?void 0:s.row)==null?void 0:l.original)},className:L,children:"Edit"}),e.jsx("button",{onClick:()=>{var l,O;return W((O=(l=s==null?void 0:s.row)==null?void 0:l.original)==null?void 0:O.id)},className:Q,children:"Delete"})]})}];return e.jsxs(e.Fragment,{children:[e.jsx(K,{openAddFaq:u,moduleList:o,refresh:()=>c(s=>s+1)}),e.jsx(Y,{openEditFaq:i,editData:q,moduleList:o,refresh:()=>c(s=>s+1)}),e.jsx(U,{openDeleteModal:h,deleteId:w,refresh:()=>c(s=>s+1)}),e.jsxs("div",{className:"poppins p-4 px-6",children:[e.jsx("div",{className:"uppercase font-semibold text-gray-700 text-2xl py-2 text-center tracking-[0.7rem]",children:"FAQ   Master"}),e.jsx("div",{className:"w-full h-[0.15rem] bg-gray-400 mb-6"}),N&&e.jsx($,{}),!N&&(n==null?void 0:n.length)!=null&&e.jsx(z,{assessmentType:!1,columns:H,dataList:n,children:e.jsxs("button",{onClick:()=>a(s=>s+1),className:R,children:[e.jsx(B,{})," Add FAQ"]})})]})]})}export{me as default};
