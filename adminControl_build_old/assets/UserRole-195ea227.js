import{j as e,I as Ie,_ as G,s as Mt,g as Ke}from"./index-bd8b5d4a.js";import{r as l}from"./router-b87f8164.js";import{M as Ct}from"./MailboxSidebar-2bdc71a6.js";import{r as Ne,G as De,S as ve,L as we,C as Fe,a as Lt}from"./ShimmerTable-b6961b5c.js";import{c as Se,a as W,u as ke,A as D}from"./ApiHeader-4ed27c1c.js";import{A as U,b as Re,d as At,e as Pe,a as Qe,f as Xe}from"./PowerupFunctions-54b8ae3f.js";import{u as Me}from"./useSetTitle-d6a5d58a.js";import{R as ae}from"./Hourglass-24f12ff1.js";import{F as Ze}from"./index.esm-68507145.js";import{A as Ce}from"./ApiList-69c725a3.js";import{B as _e}from"./BottomErrorCard-2059cfe5.js";import{u as qe,b as Pt,c as It}from"./index.esm-913f8c15.js";import{a as Ye,b as Ft,c as _t}from"./index.esm-d3a2968b.js";import{a as Je}from"./axios-096c69c8.js";import"./react-5403e0b7.js";import"./reactQuery-8705a202.js";import"./reactQueryDevtools-9a5be7d4.js";import"./tailwind-64fa9e48.js";function Et(t){const b=l.useRef(),k=Se({roleName:W().required("Enter menu role name")}),u=ke({initialValues:{roleName:""},onSubmit:g=>{t==null||t.postRole(g)},validationSchema:k});l.useEffect(()=>{(t==null?void 0:t.modalState)===!0?b.current.showModal():b.current.close(),(t==null?void 0:t.currentSelectedId)!==null&&P()},[t==null?void 0:t.modalState]);const P=()=>{u.setFieldValue("roleName",t==null?void 0:t.currentSelectedName)},N=g=>{g.target.name,g.target.value};return e.jsxs("dialog",{ref:b,className:"shadow-xl relative",children:[e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>{t==null||t.setmodalState(!1),t==null||t.setcurrentSelectedId(null),window.location.reload()},className:"absolute top-1 right-3 text-xl p-2 w-8 h-8 rounded-lg hover:bg-red-100 hover:text-red-500 font-semibold flex justify-center items-center",children:"x"}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"font-semibold ml-4",children:(t==null?void 0:t.currentSelectedId)===null?"Add Menu Role":"Update Menu Role"})})]}),e.jsx("div",{className:"w-full max-w-xs",children:e.jsxs("form",{onSubmit:u.handleSubmit,onChange:N,className:"bg-white  rounded px-8 pt-6 pb-8 mb-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm  mb-2",htmlFor:"rolename",children:"Role Name"}),e.jsx("input",{...u.getFieldProps("roleName"),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"rolename",type:"text"}),e.jsx("span",{className:"text-red-600",children:u.touched.roleName&&u.errors.roleName?u.errors.roleName:null})]}),e.jsx("div",{className:"flex items-center justify-between",children:t!=null&&t.addEditLoading?e.jsxs("button",{className:"w-full bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline flex justify-center items-center",type:"button",children:[" ",e.jsx(ae,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}):e.jsx("button",{className:"w-full bg-[#1A4D8C]  hover:bg-[#113766] text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:(t==null?void 0:t.currentSelectedId)===null?"Save":"Update"})})]})})]})}function pe(t){var o;l.useState("hidden");const b=l.useMemo(()=>t.columns,[]),k=l.useMemo(()=>t.dataList,[t.dataList]);l.useEffect(()=>{z(12)},[]);const{getTableProps:u,getTableBodyProps:P,headerGroups:N,page:g,nextPage:c,previousPage:q,canNextPage:r,canPreviousPage:O,prepareRow:s,pageOptions:B,gotoPage:V,pageCount:H,setPageSize:z,state:Y,setGlobalFilter:$}=Ne.useTable({columns:b,data:k,initialState:{pageIndex:0}},Ne.useGlobalFilter,Ne.useSortBy,Ne.usePagination);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"  overflow-x-auto bg-white",children:e.jsxs("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white border ",children:[e.jsxs("table",{...P,className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50",children:N==null?void 0:N.map(L=>e.jsx("tr",{...L.getHeaderGroupProps(),children:L.headers.map(I=>e.jsxs("th",{...I.getHeaderProps(I.getSortByToggleProps()),className:(I==null?void 0:I.className)+" px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs capitalize",children:[I.render("Header"),e.jsx("span",{children:I.isSorted?I.isSortedDesc?"⬆️":"⬇️":""})]}))}))}),e.jsxs("tbody",{...P(),className:"text-sm",children:[(t==null?void 0:t.isLoadingSingleFetch)&&e.jsx("tr",{children:e.jsx("td",{colSpan:(o=t==null?void 0:t.columns)==null?void 0:o.length,children:e.jsx(ShimmerTableRow,{})})})," ",g==null?void 0:g.map(L=>{var I;return s(L),e.jsx("tr",{...L.getRowProps(),className:"bg-white shadow-lg border-b border-gray-200",children:(I=L==null?void 0:L.cells)==null?void 0:I.map(A=>e.jsx("td",{...A.getCellProps(),className:"px-2 py-2 text-sm text-left",children:A.render("Cell")}))})}),e.jsx("tr",{children:e.jsx("td",{})})]})]}),e.jsx("div",{className:"mt-3 grid grid-cols-12"})]})})})}function Rt(t){const b=l.useRef();l.useEffect(()=>{(t==null?void 0:t.mappingModal)===!0&&b.current.showModal()},[t==null?void 0:t.mappingModal]),l.useState(!0);const[k,u]=l.useState(null),P=g=>{u(g==k?null:g)};function N(g,c){const q=[];for(let r=0;r<g.length;r+=c)q.push(g.slice(r,r+c));return q}return e.jsx("dialog",{ref:b,className:"relative bg-transparent",children:e.jsxs("div",{className:"bg-white shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsx("div",{className:"flex flex-row-reverse",children:e.jsxs("span",{onClick:()=>{t==null||t.setmappingModal(!1),b.current.close()},className:"cursor-pointer rounded-full hover:bg-gray-400",children:[e.jsx(De,{size:25})," "]})}),e.jsxs("p",{className:"text-center text-xl",children:[t==null?void 0:t.title,e.jsx("span",{className:"font-semibold",children:t==null?void 0:t.roleName})]}),e.jsxs("div",{className:"text-center",children:[" ",(t==null?void 0:t.isLoadingMappingUpdate)&&e.jsx(ae,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:(t==null?void 0:t.menuListById)&&Object.keys(t.menuListById).map((g,c)=>e.jsxs("div",{className:`text-center ${c>0?"mt-2":""}`,children:[e.jsx("span",{className:"font-bold",children:" "}),e.jsx("button",{onClick:()=>P(g),className:`${k==g?"bg-red-700":"bg-blue-700"} text-white rounded-md px-4 py-2 transition duration-300 hover:bg-blue-900`,children:g}),k===g&&Array.isArray(t==null?void 0:t.menuListById[g])&&e.jsx("div",{className:"flex flex-wrap justify-center",children:N(t==null?void 0:t.menuListById[g],12).map((q,r)=>e.jsx("div",{className:"fixed-width-class gap-2",children:e.jsx(pe,{exportStatus:!1,searchText:"Menu",columns:t==null?void 0:t.columns,dataList:q})},r))})]},g))})]})})}function Ee(t){return l.useRef(),l.useEffect(()=>{(t==null?void 0:t.deleteModal)===!0?deleteModal.showModal():deleteModal.close()},[t==null?void 0:t.deleteModal]),e.jsx("dialog",{id:"deleteModal",className:"relative bg-transparent",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl border-2 border-gray-50",children:[e.jsx("button",{onClick:()=>{t==null||t.setdeleteModal(!1),deleteModal.close()},type:"button",className:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-800 darks:hover:text-white",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsxs("div",{className:"w-full flex h-10",children:[" ",e.jsx("span",{className:"mx-auto",children:e.jsx(Ze,{size:30})})]}),(t==null?void 0:t.suspendUser)==!0&&e.jsx("h3",{className:"mb-5 text-lg font-normal text-red-500 darks:text-gray-400",children:"Are you sure want to Disable ?"}),(t==null?void 0:t.suspendUser)==!1&&e.jsx("h3",{className:"mb-5 text-lg font-normal text-green-500 darks:text-gray-400",children:"Are you sure want to Enable ?"}),t!=null&&t.deleteLoading?e.jsxs("button",{className:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 darks:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",type:"button",children:[" ",e.jsx(ae,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}):e.jsx("button",{type:"button",className:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 darks:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:t==null?void 0:t.enableDisableUser,children:"Yes, I'm sure"})]})]})})}function Dt(){const[t,b]=l.useState(!1),[k,u]=l.useState(!1),[P,N]=l.useState(!1),[g,c]=l.useState(null),[q,r]=l.useState(!1),[O,s]=l.useState(null),[B,V]=l.useState(null),[H,z]=l.useState(null),[Y,$]=l.useState(null),[o,L]=l.useState([{menu_string:"Home",menuId:1,permission_status:!0}]),[I,A]=l.useState(!1),[p,ee]=l.useState(!1),[F,K]=l.useState(!1),[de,he]=l.useState(!1),[fe,re]=l.useState(!1),[M,X]=l.useState(!1);Me("Menu Role",!0);const{getMenuRole:Q,api_PostMenuRole:ie,api_deleteMenuRole:j,api_updateMenuRole:oe,api_getMenuListByMenuRoleId:be,api_updateMenuRoleMapping:ce}=Ce(),me=[{Header:"Sl.",Cell:({row:a})=>e.jsx("div",{className:"px-1",children:(a==null?void 0:a.index)+1})},{Header:"Menu Name",accessor:"menu_string"},{Header:"Module",accessor:"module_name"},{Header:"Permission",accessor:"is_suspended",Cell:a=>{var n;return e.jsx("div",{className:"",children:e.jsx("input",{checked:!((n=a.row.values)!=null&&n.is_suspended),onChange:m=>{var h;return _((h=a.row.original)==null?void 0:h.id,m.target.checked)},type:"checkbox",className:"cypress_addressCheckbox w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})}}],ge=[{Header:"#",Cell:({row:a})=>e.jsx("div",{className:"pr-2",children:a.index+1})},{Header:"Role Name",accessor:"menu_role_name"},{Header:"Created by",accessor:"created_by"},{Header:"Status",accessor:"is_suspended",Cell:a=>e.jsxs("p",{children:[a.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Suspended"}),a.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"})]})},{Header:"Action",accessor:"id",Cell:({cell:a})=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var n,m;z((n=a.row.values)==null?void 0:n.id),$((m=a.row.values)==null?void 0:m.menu_role_name),b(!0)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300 ",children:"Edit"}),e.jsx("button",{onClick:()=>{var n;z((n=a.row.values)==null?void 0:n.id),N(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Delete"}),e.jsx("button",{onClick:()=>{var n,m;z((n=a.row.values)==null?void 0:n.id),Z((m=a.row.values)==null?void 0:m.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-blue-300",children:"Menu Mapping"})]})}],se=(a=null)=>{a===null?A(!0):ee(!0),U.post(Q,{},D()).then(function(n){var m,h;(m=n==null?void 0:n.data)!=null&&m.status?c((h=n==null?void 0:n.data)==null?void 0:h.data):c(null)}).catch(function(n){}).finally(()=>{a===null?A(!1):ee(!1)})},ye=()=>{X(!0);let a={id:500005};U.post(j,a,D()).then(function(n){var m,h;(m=n==null?void 0:n.data)!=null&&m.status?(N(!1),se("action")):w(!0,(h=res==null?void 0:res.data)==null?void 0:h.message)}).catch(function(n){w(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{X(!1),z(null)})},J=a=>{re(!0);let n=ie,m={menuRoleName:a==null?void 0:a.roleName};H!==null&&(m.id=H,n=oe),U.post(n,m,D()).then(function(h){var d,C;(d=h==null?void 0:h.data)!=null&&d.status?(b(!1),se("action")):w(!0,(C=res==null?void 0:res.data)==null?void 0:C.message)}).catch(function(h){w(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{re(!1),z(null),$(null)})},Z=a=>{K(!0);let n={menuRoleId:a};U.post(be,n,D()).then(function(m){var h,d;(h=m==null?void 0:m.data)!=null&&h.status&&(s((d=m==null?void 0:m.data)==null?void 0:d.data),u(!0))}).catch(function(m){}).finally(()=>{K(!1)})},_=(a,n)=>{he(!0);let m={menuRoleId:H,menuId:a,isSuspended:!n};U.post(ce,m,D()).then(function(h){var d;(d=h==null?void 0:h.data)!=null&&d.status&&(G.success("Mapping updated successfully!"),Z(H))}).catch(function(h){}).finally(()=>{he(!1)})};l.useEffect(()=>{se()},[]);const w=(a,n)=>{V(n),r(a)};return e.jsxs(e.Fragment,{children:[e.jsx(Ie,{}),q&&e.jsx(_e,{activateBottomErrorCard:w,errorTitle:B}),I&&e.jsx(ae,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0}),e.jsx(Et,{currentSelectedId:H,setcurrentSelectedId:z,currentSelectedName:Y,postRole:J,addEditLoading:fe,setmodalState:b,modalState:t}),e.jsx(Rt,{title:"Menu Role Mapping",isLoadingMappingUpdate:de,isLoadingMenuMappingUpdate:F,mappingModal:k,setmappingModal:u,columns:me,menuListById:O,menuList:o}),e.jsx(Ee,{deleteLoading:M,deleteMenuRole:ye,setdeleteModal:N,deleteModal:P}),I&&e.jsx(ve,{}),!I&&g!==null&&e.jsxs("div",{className:"px-4 pt-4",children:[F&&e.jsx(ae,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),e.jsx(we,{isLoadingSingleFetch:p,exportStatus:!1,assessmentType:!1,columns:ge,dataList:g,children:e.jsxs("button",{onClick:()=>b(!0),className:"float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl  hover:bg-[#113766] hover:text-white text-white flex items-center",children:[e.jsx(Fe,{})," Add Role"]})})]})]})}function Ut(t){const b=l.useRef();l.useEffect(()=>{(t==null?void 0:t.mappingModal)===!0&&b.current.showModal()},[t==null?void 0:t.mappingModal]),l.useState(!0);const[k,u]=l.useState(null),P=g=>{u(g==k?null:g)};function N(g,c){const q=[];for(let r=0;r<g.length;r+=c)q.push(g.slice(r,r+c));return q}return e.jsx("dialog",{ref:b,className:"relative bg-transparent",children:e.jsxs("div",{className:"bg-white shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsx("div",{className:"flex flex-row-reverse",children:e.jsxs("span",{onClick:()=>{t==null||t.setmappingModal(!1),b.current.close()},className:"cursor-pointer rounded-full hover:bg-gray-400",children:[e.jsx(De,{size:25})," "]})}),e.jsxs("p",{className:"text-center text-xl",children:[t==null?void 0:t.title,e.jsx("span",{className:"font-semibold",children:t==null?void 0:t.roleName})]}),e.jsxs("div",{className:"text-center",children:[" ",(t==null?void 0:t.isLoadingMappingUpdate)&&e.jsx(ae,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:(t==null?void 0:t.menuListById)&&Object.keys(t.menuListById).map((g,c)=>e.jsxs("div",{className:`text-center ${c>0?"mt-2":""}`,children:[e.jsx("span",{className:"font-bold",children:" "}),e.jsx("button",{onClick:()=>P(g),className:`${k==g?"bg-red-700":"bg-blue-700"} text-white rounded-md px-4 py-2 transition duration-300 hover:bg-blue-900`,children:g}),k===g&&Array.isArray(t==null?void 0:t.menuListById[g])&&e.jsx("div",{className:"flex flex-wrap justify-center",children:N(t==null?void 0:t.menuListById[g],12).map((q,r)=>e.jsx("div",{className:"fixed-width-class gap-2",children:e.jsx(pe,{exportStatus:!1,searchText:"Menu",columns:t==null?void 0:t.columns,dataList:q})},r))})]},g))})]})})}function Bt(t){const b=l.useRef(),k=Se({roleName:W().required("Enter menu role name")}),u=ke({initialValues:{roleName:""},onSubmit:g=>{t==null||t.postRole(g)},validationSchema:k});l.useEffect(()=>{(t==null?void 0:t.modalState)===!0?b.current.showModal():b.current.close(),(t==null?void 0:t.currentSelectedId)!==null&&P()},[t==null?void 0:t.modalState]);const P=()=>{u.setFieldValue("roleName",t==null?void 0:t.currentSelectedName)},N=g=>{g.target.name,g.target.value};return e.jsxs("dialog",{ref:b,className:"shadow-xl relative",children:[e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>{t==null||t.setmodalState(!1),t==null||t.setcurrentSelectedId(null)},className:"absolute top-1 right-3 text-xl p-2 w-8 h-8 rounded-lg hover:bg-red-100 hover:text-red-500 font-semibold flex justify-center items-center",children:"x"}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"font-semibold ml-4",children:(t==null?void 0:t.currentSelectedId)===null?"Add Api Role":"Update Api Role"})})]}),e.jsx("div",{className:"w-full max-w-xs",children:e.jsxs("form",{onSubmit:u.handleSubmit,onChange:N,className:"bg-white  rounded px-8 pt-6 pb-8 mb-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm  mb-2",htmlFor:"rolename",children:"Role Name"}),e.jsx("input",{...u.getFieldProps("roleName"),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"rolename",type:"text"}),e.jsx("span",{className:"text-red-600",children:u.touched.roleName&&u.errors.roleName?u.errors.roleName:null})]}),e.jsx("div",{className:"flex items-center justify-between",children:t!=null&&t.addEditLoading?e.jsxs("button",{className:"w-full bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline flex justify-center items-center",type:"button",children:[" ",e.jsx(ae,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}):e.jsx("button",{className:"w-full bg-[#1A4D8C]  hover:bg-[#113766] text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:(t==null?void 0:t.currentSelectedId)===null?"Save":"Update"})})]})})]})}function Tt(){const[t,b]=l.useState(!1),[k,u]=l.useState(!1),[P,N]=l.useState(!1),[g,c]=l.useState(null),[q,r]=l.useState(!1),[O,s]=l.useState(!1),[B,V]=l.useState(!1),[H,z]=l.useState(!1),[Y,$]=l.useState(!1),[o,L]=l.useState(!1),[I,A]=l.useState(!1),[p,ee]=l.useState(null),[F,K]=l.useState(null),[de,he]=l.useState(null),[fe,re]=l.useState(!1);Me("API Role",!0);const{getApiRole:M,api_PostApiRole:X,api_deleteApiRole:Q,api_updateApiRole:ie,api_getApiListByApiRoleId:j,api_updateApiRoleMapping:oe}=Ce(),be=[{Header:"Sl.",Cell:({row:_})=>e.jsx("div",{className:"px-1",children:(_==null?void 0:_.index)+1})},{Header:"API Name",Cell:_=>{var w;return e.jsx("div",{className:"line-clamp-1",children:(w=_.row.original)==null?void 0:w.end_point})}},{Header:"Permission",accessor:"is_suspended",Cell:_=>{var w;return e.jsx("div",{className:"",children:e.jsx("input",{checked:!((w=_.row.values)!=null&&w.is_suspended),onChange:a=>{var n;return J((n=_.row.original)==null?void 0:n.id,a.target.checked)},type:"checkbox",className:"cypress_addressCheckbox w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})}}],ce=[{Header:"#",Cell:({row:_})=>e.jsx("div",{className:"pr-2",children:_.index+1})},{Header:"API Role Name",accessor:"api_role_name"},{Header:"Created by",accessor:"created_by"},{Header:"Status",accessor:"is_suspended",Cell:_=>e.jsxs("p",{children:[_.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Suspended"}),_.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"})]})},{Header:"Action",accessor:"id",Cell:({cell:_})=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var w,a;K((w=_.row.values)==null?void 0:w.id),he((a=_.row.values)==null?void 0:a.menu_role_name),b(!0)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300 ",children:"Edit"}),e.jsx("button",{onClick:()=>{var w;K((w=_.row.values)==null?void 0:w.id),N(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Delete"}),e.jsx("button",{onClick:()=>{var w,a;K((w=_.row.values)==null?void 0:w.id),ye((a=_.row.values)==null?void 0:a.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-blue-300",children:"API Mapping"})]})}],me=(_=null)=>{_===null?r(!0):re(!0),U.post(M,{},D()).then(function(w){var a,n;(a=w==null?void 0:w.data)!=null&&a.status?c((n=w==null?void 0:w.data)==null?void 0:n.data):c(null)}).catch(function(w){}).finally(()=>{_===null?r(!1):re(!1)})},ge=()=>{$(!0);let _={id:F};U.post(Q,_,D()).then(function(w){var a,n;(a=w==null?void 0:w.data)!=null&&a.status?(N(!1),me("action")):Z(!0,(n=res==null?void 0:res.data)==null?void 0:n.message)}).catch(function(w){Z(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{$(!1),K(null)})},se=_=>{s(!0);let w=X,a={apiRoleName:_==null?void 0:_.roleName};F!==null&&(a.id=F,w=ie),U.post(w,a,D()).then(function(n){var m,h;(m=n==null?void 0:n.data)!=null&&m.status?(b(!1),me("action")):Z(!0,(h=res==null?void 0:res.data)==null?void 0:h.message)}).catch(function(n){Z(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{s(!1),K(null),he(null)})},ye=_=>{A(!0);let w={apiRoleId:_};U.post(j,w,D()).then(function(a){var n,m;(n=a==null?void 0:a.data)!=null&&n.status&&(V((m=a==null?void 0:a.data)==null?void 0:m.data),u(!0))}).catch(function(a){}).finally(()=>{A(!1)})},J=(_,w)=>{z(!0);let a={apiRoleId:F,apiId:_,isSuspended:!w};U.post(oe,a,D()).then(function(n){var m,h;(m=n==null?void 0:n.data)!=null&&m.status?(G.success("Successfully toasted!"),ye(F)):G.error((h=n==null?void 0:n.data)==null?void 0:h.message)}).catch(function(n){G.error("Something went wrong")}).finally(()=>{z(!1)})};l.useEffect(()=>{me()},[]);const Z=(_,w)=>{ee(w),L(_)};return e.jsxs(e.Fragment,{children:[o&&e.jsx(_e,{activateBottomErrorCard:Z,errorTitle:p}),q&&e.jsx(ae,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0}),e.jsx(Ie,{}),e.jsx(Bt,{currentSelectedId:F,currentSelectedName:de,setcurrentSelectedId:K,addEditLoading:O,postRole:se,apiListByApiRoleId:B,setmodalState:b,modalState:t}),e.jsx(Ut,{title:"Api Role Mapping",isLoadingMappingUpdate:H,setmappingModal:u,mappingModal:k,columns:be,menuListById:B}),e.jsx(Ee,{deleteLoading:Y,deleteApiRole:ge,setdeleteModal:N,deleteModal:P}),q&&e.jsx(ve,{}),!q&&g!==null&&e.jsxs("div",{className:"px-4 pt-4",children:[I&&e.jsx(ae,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),e.jsx(we,{isLoadingSingleFetch:fe,exportStatus:!1,assessmentType:!1,columns:ce,dataList:g,children:e.jsxs("button",{onClick:()=>b(!0),className:"float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl  hover:bg-[#113766] hover:text-white text-white flex items-center",children:[e.jsx(Fe,{})," Add Role"]})})]})]})}function qt(t){var g,c,q;let b=Se({menuName:W().required("Enter menu name"),parent:W(),moduleId:W().required("Select module")});const u=ke({initialValues:{menuName:"",route:"",parent:"",moduleId:"",workflowId:""},enableReinitialize:!0,onSubmit:r=>{t==null||t.postMenu(r)},validationSchema:b}),P=r=>{let O=r.target.name,s=r.target.value;O==="moduleId"&&(t==null||t.fetchWorkflowByModule(s))},N=r=>{u.setFieldValue("menuName",r==null?void 0:r.menu_string),u.setFieldValue("route",r==null?void 0:r.route),u.setFieldValue("parent",r==null?void 0:r.parent_id),u.setFieldValue("moduleId",r==null?void 0:r.module_id),u.setFieldValue("workflowId",r==null?void 0:r.workflow_id),t==null||t.fetchWorkflowByModule(r==null?void 0:r.module_id)};return l.useEffect(()=>{(t==null?void 0:t.currentSelectedId)!==null&&N(t==null?void 0:t.currentMenuData)},[t==null?void 0:t.currentMenuData]),l.useEffect(()=>((t==null?void 0:t.currentSelectedId)!==null?N():u.resetForm(),()=>{}),[t==null?void 0:t.currentSelectedId]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"block md:p-4 w-full md:py-6 rounded-lg mx-auto  bg-white px-4 sm:px-0",children:e.jsx("form",{onChange:P,onSubmit:u.handleSubmit,children:e.jsxs("div",{className:"grid grid-cols-12  sm:space-x-2 px-10",children:[e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-6",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Module"}),e.jsxs("select",{...u.getFieldProps("moduleId"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),Array.isArray(t==null?void 0:t.moduleList)&&((g=t==null?void 0:t.moduleList)==null?void 0:g.map((r,O)=>e.jsx("option",{value:r==null?void 0:r.id,children:r==null?void 0:r.module_name})))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:u.touched.moduleId&&u.errors.moduleId?u.errors.moduleId:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Parent"}),e.jsxs("select",{...u.getFieldProps("parent"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"#",className:"font-semibold text-red-500",children:"No Parent"}),Array.isArray(t==null?void 0:t.parentMenuList)&&((c=t==null?void 0:t.parentMenuList)==null?void 0:c.map((r,O)=>e.jsx("option",{value:r==null?void 0:r.id,children:r==null?void 0:r.menu_string})))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:u.touched.parent&&u.errors.parent?u.errors.parent:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Menu Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...u.getFieldProps("menuName"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:u.touched.menuName&&u.errors.menuName?u.errors.menuName:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Route"}),e.jsx("input",{...u.getFieldProps("route"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:u.touched.route&&u.errors.route?u.errors.route:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsx("label",{className:"form-label block mb-1 text-gray-600 text-xs  "}),e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Workflow ",e.jsx("span",{className:"text-xs text-gray-600",children:"(Select module to get workflow list)"})," "]}),e.jsxs("select",{...u.getFieldProps("workflowId"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"#",className:"font-semibold text-red-500",children:"No Workflow"}),Array.isArray(t==null?void 0:t.workflowListByModule)&&((q=t==null?void 0:t.workflowListByModule)==null?void 0:q.map((r,O)=>e.jsx("option",{value:r==null?void 0:r.id,children:r==null?void 0:r.workflow_name})))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:u.touched.workflowId&&u.errors.workflowId?u.errors.workflowId:null})]}),e.jsx("div",{className:"col-span-12 mt-10 text-center",children:t!=null&&t.addEditLoading?e.jsx("button",{type:"submit",className:"cypress_next1_button px-6 py-2.5 bg-indigo-500 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:e.jsx(ae,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsx("button",{type:"submit",className:"cypress_next1_button px-6 py-2.5 bg-indigo-500 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out ",children:(t==null?void 0:t.currentSelectedId)===null?"Submit":"Update"})})]})})})})}function Ht(t){return l.useRef(),l.useEffect(()=>{(t==null?void 0:t.deleteModal)===!0?deleteModal.showModal():deleteModal.close()},[t==null?void 0:t.deleteModal]),e.jsx("dialog",{id:"deleteModal",className:"relative bg-transparent",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl border-2 border-gray-50",children:[e.jsx("button",{onClick:()=>{t==null||t.setdeleteModal(!1),deleteModal.close()},type:"button",className:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-800 darks:hover:text-white",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsxs("div",{className:"w-full flex h-10",children:[" ",e.jsx("span",{className:"mx-auto",children:e.jsx(Ze,{size:30})})]}),e.jsx("h3",{className:"mb-5 text-lg font-normal text-red-500 darks:text-gray-400",children:"Are you sure want to Delete ?"}),t!=null&&t.deleteLoading?e.jsxs("button",{className:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 darks:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",type:"button",children:[" ",e.jsx(ae,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}):e.jsx("button",{type:"button",className:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 darks:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:t==null?void 0:t.deleteMenuList,children:"Yes, I'm sure"})]})]})})}function Vt(t){const[b,k]=l.useState(!1),[u,P]=l.useState(null),[N,g]=l.useState(null),[c,q]=l.useState(null),[r,O]=l.useState(null),[s,B]=l.useState(!1),[V,H]=l.useState(!1),[z,Y]=l.useState(!1),[$,o]=l.useState(!1),[L,I]=l.useState(!1),[A,p]=l.useState(!1),[ee,F]=l.useState(null),[K,de]=l.useState(null),[he,fe]=l.useState(null),[re,M]=l.useState(!1),[X,Q]=l.useState(!1),ie=l.useRef();Me("Menu List",!0);const j=()=>{o(null),de(null),ie.current.showModal(),Q(!0)},oe=()=>{ie.current.close(),a(),m(),d(),de(null)},be=f=>{n(f),de(f),ie.current.showModal(),Q(!0)},{api_getMenuList:ce,api_deleteMenu:me,api_updateMenu:ge,api_getModuleList:se,api_PostMenu:ye,api_getWorkflowByModule:J,api_getParentMenuList:Z,api_getMenuById:_}=Ce(),w=[{Header:"Sl.",Cell:({row:f})=>e.jsx("div",{className:"px-1",children:f.index+1})},{Header:"Parent Name",accessor:"parentName",Cell:({cell:f})=>{var S;return e.jsxs("div",{children:[((S=f.row.values)==null?void 0:S.parentName)||"#"," "]})}},{Header:"Menu List",accessor:"menu_string"},{Header:"Route List",accessor:"route"},{Header:"Module",accessor:"module_name"},{Header:"Status",accessor:"is_suspended",Cell:f=>e.jsxs("p",{children:[f.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Suspended"}),f.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"})]})},{Header:"Action",accessor:"id",Cell:({cell:f})=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var S,E;be(),de((S=f.row.values)==null?void 0:S.id),n((E=f.row.values)==null?void 0:E.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300 ",children:"Edit"}),e.jsx("button",{onClick:()=>{var S;de((S=f.row.values)==null?void 0:S.id),k(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Delete"})]})}],a=(f=null)=>{f===null?B(!0):M(!0),U.post(ce,{},D()).then(function(S){var E,le;(E=S==null?void 0:S.data)!=null&&E.status?P((le=S==null?void 0:S.data)==null?void 0:le.data):P(null)}).catch(function(S){}).finally(()=>{f===null?B(!1):M(!1)})},n=f=>{I(!0);let S={menuId:f};U.post(_,S,D()).then(function(E){var le,ue;(le=E==null?void 0:E.data)!=null&&le.status&&(o((ue=E==null?void 0:E.data)==null?void 0:ue.data),menuAddEditModal.showModal())}).catch(function(E){}).finally(()=>{I(!1)})},m=()=>{U.post(se,{},D()).then(function(f){var S,E;(S=f==null?void 0:f.data)!=null&&S.status&&g((E=f==null?void 0:f.data)==null?void 0:E.data)}).catch(function(f){}).finally(()=>{})},h=f=>{let S={moduleId:f};U.post(J,S,D()).then(function(E){var le,ue;(le=E==null?void 0:E.data)!=null&&le.status&&(q((ue=E==null?void 0:E.data)==null?void 0:ue.data),d(f))}).catch(function(E){}).finally(()=>{})},d=f=>{let S={moduleId:f};U.post(Z,S,D()).then(function(E){var le,ue;(le=E==null?void 0:E.data)!=null&&le.status&&O((ue=E==null?void 0:E.data)==null?void 0:ue.data)}).catch(function(E){}).finally(()=>{})},C=()=>{Y(!0);let f={id:K};U.post(me,f,D()).then(function(S){var E,le;(E=S==null?void 0:S.data)!=null&&E.status?(G.success("Menu deleted successfully"),k(!1),a()):G.error((le=S==null?void 0:S.data)==null?void 0:le.message)}).catch(function(S){G.error("Something went wrong")}).finally(()=>{Y(!1),de(null)})},T=f=>{H(!0);let S=ye,E=(f==null?void 0:f.parent)==="#"?"":f==null?void 0:f.parent,le=(f==null?void 0:f.moduleId)==="#"?"":f==null?void 0:f.moduleId,ue={menuName:f==null?void 0:f.menuName,route:f==null?void 0:f.route,parentId:E,moduleId:le,workflowId:f==null?void 0:f.workflowId};K!==null&&(ue.id=K,ue.isSuspended=!1,S=ge),U.post(S,ue,D()).then(function(je){var Le,Ae;(Le=je==null?void 0:je.data)!=null&&Le.status?(G.success("Menu added successfully"),oe(),a()):G.error((Ae=je==null?void 0:je.data)==null?void 0:Ae.message)}).catch(function(je){}).finally(()=>{H(!1),de(null),fe(null)})};l.useEffect(()=>{a(),m()},[]);const te=(f,S)=>{F(S),p(f)};return l.useEffect(()=>{X||(o(null),de(null))},[X]),e.jsxs(e.Fragment,{children:[A&&e.jsx(_e,{activateBottomErrorCard:te,errorTitle:ee}),e.jsx(Ie,{}),e.jsxs("dialog",{ref:ie,className:"shadow-xl relative border-2 border-[#1A4D8C] backdrop-filter-blur ",children:[e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>{oe()},className:"absolute top-1 right-3 text-xl p-2 w-8 h-8 rounded-lg hover:bg-red-100 hover:text-red-500 font-semibold flex justify-center items-center",children:"x"}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{className:"font-semibold md:px-6 text-lg mt-2 ",children:K===null?"Add Menu":"Update Menu"})})]}),e.jsx("div",{className:"w-full",children:e.jsx(qt,{postMenu:T,parentMenuList:r,fetchWorkflowByModule:h,moduleList:N,workflowListByModule:c,addEditLoading:V,currentSelectedId:K,currentMenuData:$})})]}),e.jsx(Ht,{deleteLoading:z,deleteMenuList:C,setdeleteModal:k,deleteModal:b}),s&&e.jsx(ve,{}),!s&&u!==null&&e.jsxs("div",{className:"px-4 pt-4",children:[L&&e.jsx(ae,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),e.jsx(we,{isLoadingSingleFetch:re,exportStatus:!1,assessmentType:!1,columns:w,dataList:u,children:e.jsxs("button",{onClick:j,className:"float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl  hover:bg-[#113766] hover:text-white text-white flex items-center",children:[e.jsx(Fe,{})," Add Menu"]})})]})]})}function Wt(t){var Y,$;const[b,k]=l.useState([]),[u,P]=l.useState(!1),[N,g]=l.useState(""),[c,q]=l.useState(null);let r=Se({apiEndPoint:W().required("Enter end point"),category:W().required("Select category"),desc:W().required("Enter description"),usage:W().required("Enter usage"),preCondition:W().required("Enter pre condition"),postCondition:W().required("Enter post condition"),requestPayload:W().required("Enter request payload"),responsePayload:W().required("Enter response payload"),version:W().required("Enter version"),createdBy:W().required("Select created by"),revisionNo:W().required("Enter revision no."),remarks:W().required("Enter remarks")});const s=ke({initialValues:{apiEndPoint:"",category:"",desc:"",usage:"",preCondition:"",postCondition:"",requestPayload:"",responsePayload:"",version:"",createdBy:"",revisionNo:"",remarks:""},enableReinitialize:!0,onSubmit:o=>{t==null||t.saveApiForm(o,b)},validationSchema:r}),B=o=>{s.setFieldValue("apiEndPoint",o==null?void 0:o.end_point),s.setFieldValue("category",o==null?void 0:o.category_id),s.setFieldValue("desc",o==null?void 0:o.description),s.setFieldValue("usage",o==null?void 0:o.usage),s.setFieldValue("preCondition",o==null?void 0:o.pre_condition),s.setFieldValue("postCondition",o==null?void 0:o.post_condition),s.setFieldValue("requestPayload",o==null?void 0:o.request_payload),s.setFieldValue("responsePayload",o==null?void 0:o.response_payload),s.setFieldValue("version",o==null?void 0:o.version),s.setFieldValue("createdBy",o==null?void 0:o.created_by),s.setFieldValue("revisionNo",o==null?void 0:o.revision_no),s.setFieldValue("remarks",o==null?void 0:o.remarks)};l.useEffect(()=>{(t==null?void 0:t.currentSelectedId)!==null&&B(t==null?void 0:t.editData)},[t==null?void 0:t.editData]),l.useEffect(()=>((t==null?void 0:t.currentSelectedId)!==null?B():s.resetForm(),()=>{}),[t==null?void 0:t.currentSelectedId]);const V=(o,L)=>{q(L),P(o)},H=o=>{let L=o.target.name,I=o.target.value;L=="usage"&&s.setFieldValue("usage",Re(I,s.values.usage,100)),L=="preCondition"&&s.setFieldValue("preCondition",Re(I,s.values.preCondition,100)),L=="postCondition"&&s.setFieldValue("postCondition",Re(I,s.values.postCondition,100)),L=="version"&&s.setFieldValue("version",At(I,s.values.version,10)),L=="revisionNo"&&s.setFieldValue("revisionNo",Pe(I,s.values.revisionNo,10)),L=="remarks"&&s.setFieldValue("remarks",Re(I,s.values.remarks,100))},z=o=>{if(o.keyCode===13){let L=[...b,o.target.value];k(L),g("")}};return e.jsxs(e.Fragment,{children:[u&&e.jsx(BottomErrorCard,{activateBottomErrorCard:V,errorTitle:c}),e.jsxs("div",{className:"block md:p-4 w-full md:py-6 rounded-lg mx-auto  bg-white px-4 sm:px-0   ",children:[e.jsx("form",{onChange:H,onSubmit:s.handleSubmit,children:e.jsxs("div",{className:"grid grid-cols-12  sm:space-x-2",children:[e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["API Endpoint",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...s.getFieldProps("apiEndPoint"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.apiEndPoint&&s.errors.apiEndPoint?s.errors.apiEndPoint:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Category"}),e.jsxs("select",{...s.getFieldProps("category"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),(Y=t==null?void 0:t.categoryList)==null?void 0:Y.map((o,L)=>e.jsx("option",{value:o==null?void 0:o.id,children:o==null?void 0:o.category_name}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.category&&s.errors.category?s.errors.category:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Usage",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...s.getFieldProps("usage"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.usage&&s.errors.usage?s.errors.usage:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Pre Condition",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...s.getFieldProps("preCondition"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.preCondition&&s.errors.preCondition?s.errors.preCondition:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Post Condition",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...s.getFieldProps("postCondition"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.postCondition&&s.errors.postCondition?s.errors.postCondition:null})]}),e.jsx("div",{className:"col-span-12"}),e.jsx("div",{className:"form-group col-span-12 md:col-span-4 grid grid-cols-12",children:e.jsxs("div",{className:"col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Request Payload",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("textarea",{...s.getFieldProps("requestPayload"),class:"h-40 resize form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.requestPayload&&s.errors.requestPayload?s.errors.requestPayload:null})]})}),e.jsx("div",{className:"form-group col-span-12 md:col-span-4 grid grid-cols-12",children:e.jsxs("div",{className:"col-span-12  mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Response Payload",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("textarea",{...s.getFieldProps("responsePayload"),class:"h-40 resize form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.responsePayload&&s.errors.responsePayload?s.errors.responsePayload:null})]})}),e.jsx("div",{className:"form-group col-span-12 md:col-span-4 grid grid-cols-12",children:e.jsxs("div",{className:"col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Description",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("textarea",{...s.getFieldProps("desc"),class:"h-40 resize form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.desc&&s.errors.desc?s.errors.desc:null})]})}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Version",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...s.getFieldProps("version"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.version&&s.errors.version?s.errors.version:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Created By"}),e.jsxs("select",{...s.getFieldProps("createdBy"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),($=t==null?void 0:t.apiDeveloperList)==null?void 0:$.map((o,L)=>e.jsx("option",{value:o==null?void 0:o.id,children:o==null?void 0:o.developer_name}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.createdBy&&s.errors.createdBy?s.errors.createdBy:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Revision No.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...s.getFieldProps("revisionNo"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.revisionNo&&s.errors.revisionNo?s.errors.revisionNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Remarks",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...s.getFieldProps("remarks"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.remarks&&s.errors.remarks?s.errors.remarks:null})]})]})}),e.jsxs("div",{className:"form-group w-40 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Tags",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{onChange:o=>g(o.target.value),value:N,onKeyDown:z,type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("div",{className:"flex",children:Array.isArray(b)&&(b==null?void 0:b.map((o,L)=>e.jsx("div",{class:"flex justify-center items-center m-1 font-medium py-1 px-2 rounded-full text-blue-700 bg-blue-100 border border-blue-300 ",children:e.jsx("div",{class:"text-xs font-normal leading-none max-w-full flex-initial",children:o})})))})]}),e.jsx("div",{className:"col-span-12 mt-10",children:t!=null&&t.isSubmitLoading?e.jsx("button",{className:" px-6 py-2.5 bg-[#1A4D8C] text-white font-medium text-xs leading-tight  rounded   hover:bg-[#113766] hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:e.jsx(ae,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsx("button",{onClick:s.handleSubmit,type:"button",className:" px-6 py-2.5 bg-[#1A4D8C] text-white font-medium text-xs leading-tight  rounded   hover:bg-[#113766] hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:(t==null?void 0:t.currentSelectedId)===null?"Submit":"Update"})})]})]})}function Ot(){return{apiErrorMsg:"Something went wrong",formSubmitionMsg:"Submitted Successfully!"}}function zt(){const[t,b]=l.useState(!1),[k,u]=l.useState(null),[P,N]=l.useState(!1),[g,c]=l.useState(!1),[q,r]=l.useState(null),[O,s]=l.useState(null),[B,V]=l.useState(null),[H,z]=l.useState(!1),[Y,$]=l.useState(null),[o,L]=l.useState(null),[I,A]=l.useState(!1),[p,ee]=l.useState(null),[F,K]=l.useState(!1),{formSubmitionMsg:de,apiErrorMsg:he}=Ot(),[fe,re]=l.useState(!1),[M,X]=l.useState(null),Q=l.useRef();Me("API List",!0);const{api_getApiList:ie,api_deleteApi:j,api_PostApi:oe,api_updateApi:be,api_getApiById:ce,api_getApiCategory:me,api_getApiDeveloperList:ge}=Ce(),se=[{Header:"Sl.",Cell:({row:d})=>e.jsx("div",{className:"px-1",children:d.index+1})},{Header:"API EndPoint",accessor:"end_point",Cell:({cell:d})=>{var C;return e.jsx("div",{children:e.jsx("span",{className:"",children:(C=d.row.values)==null?void 0:C.end_point})})}},{Header:"Category",accessor:"category"},{Header:"Created At",accessor:"created_at"},{Header:"Status",accessor:"is_suspended",Cell:({cell:d})=>{var C,T;return e.jsxs("div",{children:[((C=d.row.values)==null?void 0:C.discontinued)&&e.jsx("span",{className:"font-semibold text-red-400",children:"Suspended"}),!((T=d.row.values)!=null&&T.discontinued)&&e.jsx("span",{className:"font-semibold text-green-400",children:"Active"})]})}},{Header:"Action",accessor:"id",Cell:({cell:d})=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var C,T,te;L((C=d.row.values)==null?void 0:C.id),ee((T=d.row.values)==null?void 0:T.menu_role_name),n((te=d.row.values)==null?void 0:te.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300",children:"Edit"}),e.jsx("button",{onClick:()=>{var C;L((C=d.row.values)==null?void 0:C.id),b(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Delete"})]})}],ye=()=>{X("add"),r(null),Q.current.showModal()},J=(d=null)=>{d===null?N(!0):re(!0),U.post(ie,{},D()).then(function(C){var T,te;(T=C==null?void 0:C.data)!=null&&T.status?u((te=C==null?void 0:C.data)==null?void 0:te.data):u(null)}).catch(function(C){}).finally(()=>{d===null?N(!1):re(!1)})},Z=()=>{c(!0);let d={id:o};U.post(j,d,D()).then(function(C){var T,te;(T=C==null?void 0:C.data)!=null&&T.status?(b(!1),J("action")):h(!0,(te=res==null?void 0:res.data)==null?void 0:te.message)}).catch(function(C){h(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{c(!1),L(null)})},_=(d,C)=>{A(!0);let T,te,f={endPoint:d==null?void 0:d.apiEndPoint,category:d==null?void 0:d.category,description:d==null?void 0:d.desc,usage:d==null?void 0:d.usage,preCondition:d==null?void 0:d.preCondition,postCondition:d==null?void 0:d.postCondition,requestPayload:d==null?void 0:d.requestPayload,responsePayload:d==null?void 0:d.responsePayload,version:d==null?void 0:d.version,createdBy:d==null?void 0:d.createdBy,revisionNo:d==null?void 0:d.revisionNo,remarks:d==null?void 0:d.remarks,tags:C};o!==null?(T=be,te=f,te.id=o):(T=oe,te=f),U.post(T,te,D()).then(function(S){var E,le;(E=S==null?void 0:S.data)!=null&&E.status?(G.success("Api Added Successfully"),apiSubmitModal.close(),J("action")):G.error((le=S==null?void 0:S.data)==null?void 0:le.message)}).catch(function(S){G.error(he)}).finally(()=>{A(!1)})},w=()=>{N(!0),U.post(me,{},D()).then(function(d){var C,T;(C=d==null?void 0:d.data)!=null&&C.status?s((T=d==null?void 0:d.data)==null?void 0:T.data):h(!0,"Error occured in submitting deactivation application. Please try again later.")}).catch(function(d){h(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{N(!1)})},a=()=>{N(!0),U.post(ge,{},D()).then(function(d){var C,T;(C=d==null?void 0:d.data)!=null&&C.status?V((T=d==null?void 0:d.data)==null?void 0:T.data):h(!0,"Error occured in submitting deactivation application. Please try again later.")}).catch(function(d){h(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{N(!1)})},n=d=>{K(!0);let C={id:d};U.post(ce,C,D()).then(function(T){var te,f;(te=T==null?void 0:T.data)!=null&&te.status?(r((f=T==null?void 0:T.data)==null?void 0:f.data),Q.current.showModal()):h(!0,"Error occured in submitting deactivation application. Please try again later.")}).catch(function(T){}).finally(T=>{K(!1)})};l.useEffect(()=>{J(),w(),a()},[]);const m=()=>{apiSubmitModal.close(),J(),L(null)},h=(d,C)=>{$(C),z(d)};return e.jsxs(e.Fragment,{children:[e.jsx(Ie,{}),H&&e.jsx(_e,{activateBottomErrorCard:h,errorTitle:Y}),e.jsx(Ee,{deleteLoading:g,deleteApi:Z,setdeleteModal:b,deleteModal:t}),e.jsxs("dialog",{ref:Q,className:"shadow-xl relative border-2 border-[#1A4D8C] backdrop-filter-blur ",children:[e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>{Q.current.close(),L(null),J()},className:"absolute top-1 right-3 text-xl p-2 w-8 h-8 rounded-lg hover:bg-red-100 hover:text-red-500 font-semibold flex justify-center items-center",children:"x"}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"font-semibold md:px-6 text-lg",children:o===null?"Add Api":"Update Api"})})]}),e.jsx("div",{className:"w-full",children:e.jsx(Wt,{isSubmitLoading:I,editData:q,saveApiForm:_,categoryList:O,apiDeveloperList:B,setcurrentSelectedId:L,currentSelectedId:o,fetchApiMasterList:J,closeApiSubmitModal:m})})]}),P&&e.jsx(ve,{}),!P&&k!==null&&e.jsxs("div",{className:"px-4 pt-4",children:[F&&e.jsx(ae,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),e.jsx(we,{isLoadingSingleFetch:fe,exportStatus:!1,assessmentType:!1,columns:se,dataList:k,children:e.jsxs("button",{onClick:ye,className:"float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl hover:bg-[#113766] hover:text-white text-white flex items-center",children:[e.jsx(Fe,{})," Add API"]})})]})]})}function Gt(t){var s;const[b,k]=l.useState(null),[u,P]=l.useState(null);let N=Se({userType:W().required("Enter user type"),fullName:W().required("Enter full name"),mobileNo:W().required("Enter mobile no."),altMobileNo:W().required("Select alternate mobile"),email:W().required("Enter email"),address:W().required("Enter address"),userImage:W().required("Select user image")});const c=ke({initialValues:{userType:"",fullName:"",mobileNo:"",altMobileNo:"",email:"",address:"",userImage:""},enableReinitialize:!0,onSubmit:B=>{t==null||t.postUser(B,b)},validationSchema:N}),q=B=>{let V=B.target.name,H=B.target.value;V==="userImage"&&r(B),V=="fullName"&&c.setFieldValue("fullName",Qe(H,c.values.fullName,100)),V=="mobileNo"&&c.setFieldValue("mobileNo",Pe(H,c.values.mobileNo,10)),V=="altMobileNo"&&c.setFieldValue("altMobileNo",Pe(H,c.values.altMobileNo,10)),V=="email"&&c.setFieldValue("email",Xe(H,c.values.email,100)),V=="address"&&c.setFieldValue("address")},r=B=>{k(B.target.files[0]),P(URL.createObjectURL(B.target.files[0]))},O=()=>{var B,V,H,z,Y,$,o;c.setFieldValue("userType",(B=t==null?void 0:t.currentUserData)==null?void 0:B.user_type),c.setFieldValue("fullName",(V=t==null?void 0:t.currentUserData)==null?void 0:V.name),c.setFieldValue("fullName",(H=t==null?void 0:t.currentUserData)==null?void 0:H.name),c.setFieldValue("mobileNo",(z=t==null?void 0:t.currentUserData)==null?void 0:z.mobile),c.setFieldValue("altMobileNo",(Y=t==null?void 0:t.currentUserData)==null?void 0:Y.alternate_mobile),c.setFieldValue("email",($=t==null?void 0:t.currentUserData)==null?void 0:$.email),c.setFieldValue("address",(o=t==null?void 0:t.currentUserData)==null?void 0:o.address)};return l.useEffect(()=>{(t==null?void 0:t.currentSelectedId)!==null&&O()},[t==null?void 0:t.currentUserData]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"block md:p-4 w-full md:py-6 rounded-lg mx-auto  bg-white px-4 sm:px-0",children:e.jsx("form",{onChange:q,onSubmit:c.handleSubmit,children:e.jsxs("div",{className:"grid grid-cols-12  sm:space-x-2 px-10",children:[e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["User Type",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsxs("select",{...c.getFieldProps("userType"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),Array.isArray(t==null?void 0:t.userTypeList)&&((s=t==null?void 0:t.userTypeList)==null?void 0:s.map((B,V)=>e.jsx("option",{value:B,children:B})))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.userType&&c.errors.userType?c.errors.userType:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Full Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...c.getFieldProps("fullName"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.fullName&&c.errors.fullName?c.errors.fullName:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Mobile NO.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...c.getFieldProps("mobileNo"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.mobileNo&&c.errors.mobileNo?c.errors.mobileNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Alt Mobile No.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...c.getFieldProps("altMobileNo"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.altMobileNo&&c.errors.altMobileNo?c.errors.altMobileNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Email",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...c.getFieldProps("email"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.email&&c.errors.email?c.errors.email:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Address",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...c.getFieldProps("address"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.address&&c.errors.address?c.errors.address:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["User Image",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...c.getFieldProps("userImage"),type:"file",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.userImage&&c.errors.userImage?c.errors.userImage:null}),e.jsx("div",{className:"w-32 h-32 rounded-full border shadow-xl mx-auto overflow-hidden mt-10 flex justify-center items-center",children:e.jsx("img",{src:u||qe})})]}),e.jsx("div",{className:"col-span-12 mt-4",children:t!=null&&t.addEditLoading?e.jsx("button",{type:"submit",className:"w-full  cypress_next1_button px-6 py-2.5 bg-indigo-500 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out flex justify-center items-center",children:e.jsx(ae,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsx("button",{type:"submit",className:"w-full  cypress_next1_button px-6 py-2.5 bg-indigo-500 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:(t==null?void 0:t.currentSelectedId)===null?"Submit":"Update"})})]})})})})}function $t(t){const b=l.useRef();return l.useEffect(()=>{(t==null?void 0:t.mappingModal)===!0&&b.current.showModal()},[t==null?void 0:t.mappingModal]),e.jsx("dialog",{ref:b,className:"relative bg-transparent",children:e.jsxs("div",{className:"bg-white shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsx("div",{className:"flex flex-row-reverse",children:e.jsxs("span",{onClick:()=>{t==null||t.setmappingModal(!1),b.current.close()},className:"cursor-pointer rounded-full hover:bg-gray-400",children:[e.jsx(De,{size:25})," "]})}),e.jsxs("p",{className:"text-center text-xl",children:[t==null?void 0:t.title,e.jsx("span",{className:"font-semibold",children:t==null?void 0:t.roleName})]}),e.jsxs("div",{className:"text-center",children:[" ",(t==null?void 0:t.isLoadingFetchRoles)&&e.jsx(ae,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{children:e.jsx("button",{onClick:()=>{t==null||t.fetchRoles(t==null?void 0:t.currentSelectedId,"menu"),t==null||t.setmappingTypeCurrentState(0)},type:"button",className:` rounded-md border  hover:bg-[#1A4D8C] hover:text-white px-3 py-2 text-sm font-semibold   shadow-sm  focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-black ${(t==null?void 0:t.mappingTypeCurrentState)===0?"bg-[#1A4D8C] text-white":"border-[#1A4D8C] text-[#1A4D8C]"}`,children:" Menu Role"})}),e.jsx("div",{children:e.jsx("button",{onClick:()=>{t==null||t.fetchRoles(t==null?void 0:t.currentSelectedId,"api"),t==null||t.setmappingTypeCurrentState(1)},type:"button",className:` rounded-md border  hover:bg-[#1A4D8C] hover:text-white px-3 py-2 text-sm font-semibold   shadow-sm  focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-black ${(t==null?void 0:t.mappingTypeCurrentState)===1?"bg-[#1A4D8C] text-white":"border-[#1A4D8C] text-[#1A4D8C]"}`,children:" API Role"})}),e.jsx("div",{children:e.jsx("button",{onClick:()=>{t==null||t.fetchRoles(t==null?void 0:t.currentSelectedId,"workflow"),t==null||t.setmappingTypeCurrentState(2)},type:"button",className:` rounded-md border  hover:bg-[#1A4D8C] hover:text-white px-3 py-2 text-sm font-semibold   shadow-sm  focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-black ${(t==null?void 0:t.mappingTypeCurrentState)===2?"bg-[#1A4D8C] text-white":"border-[#1A4D8C] text-[#1A4D8C]"}`,children:" Workflow Role"})})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsx("div",{children:Array.isArray(t==null?void 0:t.roleList)&&e.jsx(we,{exportStatus:!1,searchText:"Menu",columns:t==null?void 0:t.columns,dataList:t==null?void 0:t.roleList})})})]})})}function Kt(t){const b=l.useRef();return l.useEffect(()=>{(t==null?void 0:t.wardMappingModalState)===!0&&b.current.showModal()},[t==null?void 0:t.wardMappingModalState]),e.jsx("dialog",{ref:b,id:"wardMappingModal",className:"relative bg-transparent",children:e.jsxs("div",{className:"bg-white shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsx("div",{className:"flex flex-row-reverse",children:e.jsxs("span",{onClick:()=>{t==null||t.setwardMappingModalState(!1),mappingModal.close()},className:"cursor-pointer rounded-full hover:bg-gray-400",children:[e.jsx(De,{size:25})," "]})}),e.jsxs("p",{className:"text-center text-xl",children:[t==null?void 0:t.title,e.jsx("span",{className:"font-semibold",children:t==null?void 0:t.roleName})]}),e.jsx("div",{children:(t==null?void 0:t.wardMappingCurrentState)==="edit"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>t==null?void 0:t.changeWardListType("read"),type:"button",className:"rounded-md border border-[#1A4D8C] px-10 py-2 text-sm font-semibold text-[#1A4D8C] shadow-sm hover:bg-[#1A4D8C]/80 hover:shadow-xl",children:[e.jsx(Pt,{className:"inline"}),"Back"]}),e.jsx("button",{onClick:()=>t==null?void 0:t.postWardToMapUser(),type:"button",className:"ml-4 rounded-md bg-[#1A4D8C] px-10 py-2 text-sm font-semibold text-white shadow-sm hover:bg-[#1A4D8C]/80 hover:shadow-xl",children:"Apply"})]}):e.jsx("button",{onClick:()=>t==null?void 0:t.changeWardListType("edit"),type:"button",className:"rounded-md border border-[#1A4D8C] px-10 py-2 text-sm font-semibold text-[#1A4D8C] shadow-sm hover:bg-[#1A4D8C]/80 hover:shadow-xl",children:"Edit"})}),e.jsxs("div",{className:"text-center",children:[" ",(t==null?void 0:t.isLoadingMappingUpdate)&&e.jsx(ae,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("div",{children:[Array.isArray(t==null?void 0:t.wardListToMap)&&(t==null?void 0:t.wardMappingCurrentState)==="edit"&&e.jsx(we,{exportStatus:!1,searchText:"Menu",columns:t==null?void 0:t.columns,dataList:t==null?void 0:t.wardListToMap}),Array.isArray(t==null?void 0:t.wardListToMap)&&(t==null?void 0:t.wardMappingCurrentState)!=="edit"&&e.jsx(we,{exportStatus:!1,searchText:"Menu",columns:t==null?void 0:t.columns,dataList:t==null?void 0:t.wardListToMap})]})})]})})}function Yt({filter:t,setFilter:b}){return e.jsxs(e.Fragment,{children:["Search : "," ",e.jsx("input",{className:"border-2 border-gray-600 px-2 bg-gray-200",type:"text",value:t||"",onChange:k=>b(k.target.value)})]})}function Jt(t){const[b,k]=l.useState("hidden"),u=l.useMemo(()=>t.columns,[]),P=l.useMemo(()=>t.dataList,[t.dataList,t==null?void 0:t.totalCount]),[N,g]=l.useState(10),[c,q]=l.useState(0);l.useEffect(()=>{q(0)},[t==null?void 0:t.totalCount]),l.useEffect(()=>{let A=(t==null?void 0:t.totalCount)/(t==null?void 0:t.perPage);(t==null?void 0:t.totalCount)%(t==null?void 0:t.perPage)!=0?B(parseInt(A)+1):B(parseInt(A))},[t==null?void 0:t.totalCount,N]);const{getTableBodyProps:r,headerGroups:O,prepareRow:s,setPageSize:B,state:V,rows:H,setGlobalFilter:z}=Ne.useTable({columns:u,data:P,initialState:{pageIndex:0}},Ne.useGlobalFilter,Ne.useSortBy,Ne.usePagination),{globalFilter:Y,pageSize:$}=V,o=()=>{if(parseInt(c)>0&&parseInt(c)<=parseInt(t==null?void 0:t.lastPage))t==null||t.gotoPage(parseInt(c));else return!1},L=()=>{(t==null?void 0:t.lastPage)!=(t==null?void 0:t.currentPage)&&t.nextPage()},I=()=>{(t==null?void 0:t.currentPage)!=1&&t.prevPage()};return e.jsxs(e.Fragment,{children:[(t==null?void 0:t.search)==!1?e.jsxs("div",{className:"absolute -mt-[6.5vh] right-[2vw]",children:[e.jsx("div",{className:"flex-initial ml-2",children:e.jsxs("button",{className:"bg-sky-400 px-3 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:()=>k(""),onMouseLeave:()=>k("hidden"),onClick:t.exportDataF,children:["Export",e.jsx("div",{className:b+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:e.jsx(Ye,{})})]})}),e.jsx("div",{className:"flex-1",children:t.children})]}):e.jsxs("div",{className:"flex mb-2 pb-2",children:[e.jsx("div",{className:"flex-initial opacity-50",children:e.jsx(Yt,{filter:Y,setFilter:z})}),e.jsx("div",{className:"flex-initial ml-2",children:e.jsxs("button",{className:"bg-sky-400 px-3 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl bg-green-600 hover:bg-green-600 text-center relative",onMouseEnter:()=>k(""),onMouseLeave:()=>k("hidden"),onClick:t.exportDataF,children:["Export",e.jsx("div",{className:b+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:e.jsx(Ye,{})})]})}),e.jsx("div",{className:"flex-1",children:t.children})]}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"opacity-50",children:"Total Result : "}),e.jsx("span",{className:"font-semibold",children:t==null?void 0:t.totalCount})," "]})}),(t==null?void 0:t.feedback)!=null&&e.jsx("div",{children:e.jsxs("span",{className:"text-xs bg-gray-200 opacity-50 pr-2 pl-1 py-1 rounded-sm",children:[e.jsx(It,{className:"inline text-xs text-gray-400 mr-2"}),t.feedback]})}),e.jsx("div",{className:" py-2 overflow-x-auto bg-white",children:e.jsxs("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white",children:[e.jsxs("table",{...r,className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50",children:O==null?void 0:O.map(A=>e.jsx("tr",{...A.getHeaderGroupProps(),children:A.headers.map(p=>e.jsxs("th",{...p.getHeaderProps(p.getSortByToggleProps()),className:(p==null?void 0:p.className)+" px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs uppercase ",children:[p.render("Header"),e.jsx("span",{children:p.isSorted?p.isSortedDesc?"⬆️":"⬇️":""})]}))}))}),e.jsxs("tbody",{...r(),className:"text-sm",children:[H.map((A,p)=>{var ee;return s(A),e.jsx("tr",{...A.getRowProps(),className:"bg-white shadow-lg border-b border-gray-200",children:(ee=A==null?void 0:A.cells)==null?void 0:ee.map((F,K)=>e.jsx("td",{...F.getCellProps(),className:"px-2 py-2 text-sm text-left",children:F.render("Cell")}))})}),e.jsx("tr",{children:e.jsx("td",{})})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-12 items-center",children:[e.jsxs("div",{className:"sm:col-span-2 col-span-3 flex w-full ml-1 pr-10",children:[e.jsx("span",{children:e.jsx("input",{className:"h-10 w-[90%] placeholder:text-gray-600 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1 ",type:"number",onChange:A=>{q(A.target.value)},placeholder:"Go to page..."})}),e.jsxs("abbr",{className:"cursor-pointer flex items-center w-[15%] no-underline",title:"Go",onClick:()=>o(),children:[" ",e.jsx("span",{className:"font-bold bg-green-300 text-xl px-2 pb-1 rounded-full hover:text-white hover:bg-green-500",children:"⇨"})," "]})]}),e.jsxs("div",{className:"col-span-2",children:["  ",e.jsx("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",value:N,onChange:A=>{g(Number(A.target.value)),t.perPageC(Number(A.target.value))},children:[5,10,25,50].map(A=>e.jsxs("option",{selected:A===10,value:A,children:["show ",A]},A))})]}),e.jsxs("div",{className:"col-span-3 sm:col-span-4 text-center sm:col-start-5 col-start-7",children:["   ",e.jsxs("span",{children:["page ","",e.jsxs("strong",{children:[t==null?void 0:t.currentPage," of ",t==null?void 0:t.lastPage]}),""]})]}),e.jsxs("div",{className:"col-span-3 sm:col-span-4 text-right",children:[e.jsx("abbr",{title:"First Page",children:e.jsxs("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>t==null?void 0:t.goFirst(),disabled:(t==null?void 0:t.currentPage)==1&&!0,children:[e.jsx(Ft,{})," "]})}),e.jsx("abbr",{title:"Previous Page",children:e.jsx("button",{className:((t==null?void 0:t.currentPage)==1?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white cursor-pointer",onClick:()=>I(),disabled:(t==null?void 0:t.currentPage)==1&&!0,children:"⬅️"})}),e.jsx("abbr",{title:"Next Page",children:e.jsx("button",{className:((t==null?void 0:t.currentPage)==(t==null?void 0:t.lastPage)?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white cursor-pointer",onClick:()=>L(),disabled:(t==null?void 0:t.currentPage)==(t==null?void 0:t.lastPage)&&!0,children:"➡️"})}),e.jsx("abbr",{title:"Last Page",children:e.jsxs("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>t==null?void 0:t.goLast(),disabled:(t==null?void 0:t.currentPage)==(t==null?void 0:t.lastPage)&&!0,children:["  ",e.jsx(_t,{})]})})]})]})]})})]})}const Qt=t=>{const[b,k]=l.useState(10),[u,P]=l.useState(1),[N,g]=l.useState(0),[c,q]=l.useState(0),[r,O]=l.useState(0),[s,B]=l.useState(),[V,H]=l.useState(!1),[z,Y]=l.useState(!1),[$,o]=l.useState(),[L,I]=l.useState(!1),A=()=>{Y(!1),I(!0),Je.post(t==null?void 0:t.api,{...t==null?void 0:t.requestBody,perPage:b,page:u},D()).then(M=>{var X,Q,ie,j,oe,be,ce,me,ge,se;((X=M==null?void 0:M.data)==null?void 0:X.status)==!0?(t!=null&&t.getData&&(t==null||t.allData((Q=M==null?void 0:M.data)==null?void 0:Q.data)),o((j=(ie=M==null?void 0:M.data)==null?void 0:ie.data)==null?void 0:j.data),O((be=(oe=M==null?void 0:M.data)==null?void 0:oe.data)==null?void 0:be.total),g((me=(ce=M==null?void 0:M.data)==null?void 0:ce.data)==null?void 0:me.current_page),q((se=(ge=M==null?void 0:M.data)==null?void 0:ge.data)==null?void 0:se.last_page),Y(!1)):Y(!0),I(!1)}).catch(M=>(I(!1),Y(!0)))},p=()=>{P(N+1)},ee=()=>{P(N-1)},F=M=>{let X=parseInt(r/M),Q=parseInt(r%M);if(Q==0){X<N&&P(X),k(M);return}if(Q!=0){X+1<N&&P(X+1),k(M);return}},K=()=>{P(1)},de=()=>{P(c)},he=M=>{P(M)},fe=()=>{I(!0),H(!1),Je.post(t==null?void 0:t.api,{...t==null?void 0:t.requestBody,perPage:r},D()).then(M=>{var X,Q,ie;((X=M==null?void 0:M.data)==null?void 0:X.status)==!0&&(B((ie=(Q=M==null?void 0:M.data)==null?void 0:Q.data)==null?void 0:ie.data),re()),I(!1)}).catch(M=>{I(!1)})},re=()=>{H(!0)};return l.useEffect(()=>{(t==null?void 0:t.requestBody)!=null&&(P(1),k(10),A())},[t==null?void 0:t.changeData]),l.useEffect(()=>{I(!0),A()},[u,b]),e.jsxs(e.Fragment,{children:[z&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 pl-4 pr-16 py-3 rounded relative text-center",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Sorry! "}),e.jsx("span",{className:"block sm:inline",children:"Some error occured while fetching list. Please try again later."}),e.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3"})]}),V&&e.jsx(Lt,{data:s}),L&&e.jsx(ve,{}),$!=null&&($==null?void 0:$.length)!=0?e.jsx(e.Fragment,{children:e.jsx(Jt,{search:t==null?void 0:t.search,currentPage:N,lastPage:c,goFirst:K,goLast:de,count1:r,columns:t==null?void 0:t.columns,dataList:$,exportStatus:!0,perPage:b,perPageC:F,totalCount:r,nextPage:p,prevPage:ee,exportDataF:fe,exportData:s,gotoPage:M=>he(M)})}):e.jsx(e.Fragment,{children:!L&&!z&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 pl-4 pr-16 py-3 rounded relative text-center",role:"alert",children:[e.jsx("span",{className:"block sm:inline",children:"Oops! No data available."}),e.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3"})]})})]})};function Xt(){const[t,b]=l.useState(!1),[k,u]=l.useState(!1),[P,N]=l.useState(!1),[g,c]=l.useState(!1),[q,r]=l.useState(0),[O,s]=l.useState(null),[B,V]=l.useState(!1),[H,z]=l.useState(!1),[Y,$]=l.useState(null),[o,L]=l.useState(!1),[I,A]=l.useState(!1),[p,ee]=l.useState(null),[F,K]=l.useState(!1),[de,he]=l.useState(!1),[fe,re]=l.useState(null),[M,X]=l.useState(null),[Q,ie]=l.useState(null),[j,oe]=l.useState(null),[be,ce]=l.useState(null),[me,ge]=l.useState(!1),[se,ye]=l.useState(null),[J,Z]=l.useState(null),[_,w]=l.useState(null),[a,n]=l.useState(0),[m,h]=l.useState({}),[d,C]=l.useState(!1),[T,te]=l.useState(!1),[f,S]=l.useState(null),[E,le]=l.useState(null),ue=l.useRef();Me("User List",!0);const je=Se({filterBy:W().required("This is a required field !")}),Le=ke({initialValues:{filterBy:""},onSubmit:i=>{h({ulbId:i==null?void 0:i.filterBy}),r(y=>y+1)},validationSchema:je}),{api_getUserList:Ae,api_EnalbeDisableUser:et,api_updateUser:tt,api_PostUser:lt,api_getUserById:at,api_getMenuRolesByUser:it,api_getApiRolesByUser:st,api_getWardListByUser:nt,api_getWorkflowRolesByUser:dt,api_getUserTypeList:rt,api_postMenuRoleUserMapping:ot,api_postApiRoleUserMapping:ct,api_postWorkflowRoleUserMapping:ut,api_postWardUserMapping:mt,ulbListApi:xt}=Ce(),He=[{Header:"Sl.",Cell:({row:i})=>e.jsx("div",{className:"px-1",children:(i==null?void 0:i.index)+1})},{Header:"New Ward",accessor:"ward_name"},{Header:"Old Ward",accessor:"old_ward_name"},{Header:"Permission",accessor:"permission_status",Cell:i=>{var y;return e.jsx("div",{className:"",children:e.jsx("input",{checked:(y=i.row.values)==null?void 0:y.permission_status,type:"checkbox",className:" w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded"})})}}],Ve=[{Header:"Sl.",Cell:({row:i})=>e.jsx("div",{className:"px-1",children:(i==null?void 0:i.index)+1})},{Header:"New Ward",accessor:"ward_name"},{Header:"Old Ward",accessor:"old_ward_name"},{Header:"Permission",accessor:"permission_status",Cell:i=>e.jsx("div",{className:"",children:e.jsx("input",{onChange:y=>{var x;return vt((x=i.row.original)==null?void 0:x.id,y.target.checked)},type:"checkbox",className:" w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})}],ht=[{Header:"Sl.",Cell:({row:i})=>e.jsx("div",{className:"px-1",children:(i==null?void 0:i.index)+1})},{Header:"Role Name",accessor:"menu_role_name"},{Header:"Permission",accessor:"permission_status",Cell:i=>{var y;return e.jsx("div",{className:"",children:e.jsx(e.Fragment,{children:e.jsx("input",{checked:(y=i.row.values)==null?void 0:y.permission_status,onChange:x=>{var v;return Te(J,"menu",(v=i.row.original)==null?void 0:v.id,x.target.checked)},type:"checkbox",className:"cypress_addressCheckbox w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})})}}],bt=[{Header:"Sl.",Cell:({row:i})=>e.jsx("div",{className:"px-1",children:(i==null?void 0:i.index)+1})},{Header:"Role Name",accessor:"api_role_name"},{Header:"Permission",accessor:"permission_status",Cell:i=>{var y;return e.jsx("div",{className:"",children:e.jsx("input",{checked:(y=i.row.values)==null?void 0:y.permission_status,onChange:x=>{var v;return Te(J,"api",(v=i.row.original)==null?void 0:v.id,x.target.checked)},type:"checkbox",className:"cypress_addressCheckbox w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})}}],gt=[{Header:"Sl.",Cell:({row:i})=>e.jsx("div",{className:"px-1",children:(i==null?void 0:i.index)+1})},{Header:"Role Name",accessor:"role_name"},{Header:"Permission",accessor:"permission_status",Cell:i=>{var y;return e.jsx("div",{className:"",children:e.jsx("input",{checked:(y=i.row.values)==null?void 0:y.permission_status,onChange:x=>{var v;return Te(J,"workflow",(v=i.row.original)==null?void 0:v.id,x.target.checked)},type:"checkbox",className:"cypress_addressCheckbox w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})}}],ft=[{Header:"Sl.",Cell:({row:i})=>e.jsx("div",{className:"px-1",children:i.index+1})},{Header:"User Image",accessor:"photo",Cell:({cell:i})=>e.jsx("div",{className:"rounded-full border w-10 h-10 flex justify-center items-center",children:e.jsx("img",{className:"w-8",src:qe,alt:""})})},{Header:"Employee Name",accessor:"name",Cell:({cell:i})=>{var y;return e.jsxs("div",{children:[((y=i.row.values)==null?void 0:y.name)||"NA"," "]})}},{Header:"User Name",accessor:"user_name",Cell:({cell:i})=>{var y;return e.jsxs("div",{children:[((y=i.row.values)==null?void 0:y.user_name)||"NA"," "]})}},{Header:"Mobile No.",accessor:"mobile"},{Header:"Alt Mobile No.",accessor:"alternate_mobile"},{Header:"Email",accessor:"email"},{Header:"Address",accessor:"address"},{Header:"Status",accessor:"suspended",Cell:({cell:i})=>{var y,x;return e.jsxs("p",{children:[((y=i.row.values)==null?void 0:y.suspended)==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Suspended"}),((x=i.row.values)==null?void 0:x.suspended)==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"})]})}},{Header:"Action",accessor:"id",Cell:({cell:i})=>{var y,x;return e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var v,R;Z((v=i.row.values)==null?void 0:v.id),yt((R=i.row.values)==null?void 0:R.id),ue.current.showModal(),c(!0)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300 ",children:"Edit"}),((y=i.row.values)==null?void 0:y.suspended)===!0&&e.jsx("button",{onClick:()=>{var v;Z((v=i.row.values)==null?void 0:v.id),S(!1),N(!0)},className:"border border-green-500 text-green-600    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-green-800 hover:text-white ",children:"Enable"}),((x=i.row.values)==null?void 0:x.suspended)===!1&&e.jsx("button",{onClick:()=>{var v;Z((v=i.row.values)==null?void 0:v.id),S(!0),N(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Disable"}),e.jsx("button",{onClick:()=>{var v,R,ne;Mt("currentUserId",(v=i.row.original)==null?void 0:v.id),Z((R=i.row.original)==null?void 0:R.id),Be((ne=i.row.original)==null?void 0:ne.id,"menu")},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-blue-500",children:"Roles Mapping"}),e.jsx("button",{onClick:()=>{var v,R;Z((v=i.row.values)==null?void 0:v.id),ze((R=i.row.values)==null?void 0:R.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-yellow-800",children:"Ward Mapping"})]})}}],Ue=(i=null,y=null)=>{i===null?V(!0):te(!0);let x={};U.post(Ae,x,D()).then(function(v){var R,ne,xe;(R=v==null?void 0:v.data)!=null&&R.status?r((xe=(ne=v==null?void 0:v.data)==null?void 0:ne.data)==null?void 0:xe.data):r(null)}).catch(function(v){}).finally(()=>{i===null?V(!1):te(!1)})},We=()=>{V(!0),U.post(rt,{},D()).then(function(i){var y,x;(y=i==null?void 0:i.data)!=null&&y.status&&$((x=i==null?void 0:i.data)==null?void 0:x.data)}).catch(function(i){}).finally(()=>{V(!1)})},Oe=()=>{V(!0),U.get(xt,{},D()).then(function(i){var y,x;(y=i==null?void 0:i.data)!=null&&y.status&&le((x=i==null?void 0:i.data)==null?void 0:x.data)}).catch(function(i){}).finally(()=>{V(!1)})},ze=i=>{ce(j==="edit"?Ve:He),he(!0);let y={userId:i};U.post(nt,y,D()).then(function(x){var v,R,ne;(v=x==null?void 0:x.data)!=null&&v.status?(re((R=x==null?void 0:x.data)==null?void 0:R.data),X((ne=x==null?void 0:x.data)==null?void 0:ne.data),u(!0)):re(null)}).catch(function(x){}).finally(()=>{he(!1)})},yt=i=>{ee(!0);let y={id:i};U.post(at,y,D()).then(function(x){var v,R;(v=x==null?void 0:x.data)!=null&&v.status&&(A((R=x==null?void 0:x.data)==null?void 0:R.data),ue.curent.showModal())}).catch(function(x){}).finally(()=>{ee(!1)})},jt=i=>{L(!0);let y={id:J,isSuspended:f};U.post(et,y,D()).then(function(x){var v,R;(v=x==null?void 0:x.data)!=null&&v.status?(G.success("User deleted successfully"),N(!1),Ue("action")):G.error((R=x==null?void 0:x.data)==null?void 0:R.message)}).catch(function(x){G.error("Something went wrong")}).finally(()=>{L(!1),Z(null)})},Nt=(i,y)=>{z(!0);let x=new FormData;x.append("userType",i==null?void 0:i.userType),x.append("name",i==null?void 0:i.fullName),x.append("mobile",i==null?void 0:i.mobileNo),x.append("altMobile",i==null?void 0:i.altMobileNo),x.append("email",i==null?void 0:i.email),x.append("address",i==null?void 0:i.address),x.append("photo",y);let v=lt;J!==null&&(x.append("id",J),v=tt),U.post(v,x,D()).then(function(R){var ne,xe;(ne=R==null?void 0:R.data)!=null&&ne.status?(G.success("User created successfully"),userAddEditModal.close(),Ue("action")):G.error((xe=R==null?void 0:R.data)==null?void 0:xe.message)}).catch(function(R){G.error("Something went wrong")}).finally(()=>{z(!1),Z(null)})},Be=(i,y="menu")=>{C(!0),w(null);let x;y==="menu"&&(x=it,h(ht)),y==="api"&&(x=st,h(bt)),y==="workflow"&&(x=dt,h(gt));let v={userId:i};U.post(x,v,D()).then(function(R){var ne,xe;(ne=R==null?void 0:R.data)!=null&&ne.status&&(w((xe=R==null?void 0:R.data)==null?void 0:xe.data),b(!0),Z(i))}).catch(function(R){}).finally(()=>{C(!1)})},wt=()=>{K(!0);let i={userId:J,wardList:Object.values(Q)};U.post(mt,i,D()).then(function(y){var x,v;(x=y==null?void 0:y.data)!=null&&x.status?(G.success("Mapping updated successfully!"),ze(J)):G.error((v=y==null?void 0:y.data)==null?void 0:v.message)}).catch(function(y){G.error("Something went wrong")}).finally(()=>{K(!1)})},Te=(i,y,x,v)=>{K(!0);let R,ne={userId:Ke("currentUserId"),permissionStatus:v};y==="menu"&&(R=ot,ne.menuRoleId=x),y==="api"&&(R=ct,ne.apiRoleId=x),y==="workflow"&&(R=ut,ne.wfRoleId=x),U.post(R,ne,D()).then(function(xe){var Ge,$e;(Ge=xe==null?void 0:xe.data)!=null&&Ge.status?(G.success("Mapping updated successfully!"),Be(Ke("currentUserId"),y)):G.error(($e=xe==null?void 0:xe.data)==null?void 0:$e.message)}).catch(function(xe){G.error("Something went wrong")}).finally(()=>{K(!1)})},vt=(i,y)=>{ie(x=>({...x,[i]:{wardId:i,permissionStatus:y}}))},St=i=>{i==="edit"?(oe(i),ce(Ve)):(oe(i),ce(He))};l.useEffect(()=>{We(),Oe()},[]);const kt=(i,y)=>{ye(y),ge(i)};return e.jsxs(e.Fragment,{children:[me&&e.jsx(_e,{activateBottomErrorCard:kt,errorTitle:se}),e.jsx(Ie,{}),e.jsxs("div",{className:"text-center",children:[" ",d&&e.jsx(ae,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}),e.jsx($t,{title:"User Role Mapping",isLoadingMappingUpdate:F,isLoadingFetchRoles:d,mappingModal:t,setmappingModal:b,columns:m,currentUserData:I,mappingTypeCurrentState:a,setmappingTypeCurrentState:n,fetchRoles:Be,currentSelectedId:J,roleList:_}),k&&e.jsx(Kt,{title:"User Ward Mapping",isLoadingMappingUpdate:F,wardMappingModalState:k,setwardMappingModalState:u,columns:be,changeWardListType:St,changedWardList:Q,wardMappingCurrentState:j,wardListToMap:j==="edit"?M:fe,postWardToMapUser:wt}),e.jsxs("dialog",{ref:ue,className:"shadow-xl relative border-2 border-[#1A4D8C] backdrop-filter-blur ",children:[e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>{ue.current.close(),Z(null),Ue(),We(),Oe()},className:"absolute top-1 right-3 text-xl p-2 w-8 h-8 rounded-lg hover:bg-red-100 hover:text-red-500 font-semibold flex justify-center items-center",children:"x"}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"font-semibold md:px-6 text-lg",children:J===null?"Create User":"Update User"})})]}),e.jsx("div",{className:"w-full",children:e.jsx(Gt,{postUser:Nt,parentMenuList:O,addEditLoading:H,currentSelectedId:J,currentUserData:I,userTypeList:Y})})]}),e.jsx(Ee,{deleteLoading:o,enableDisableUser:jt,setdeleteModal:N,deleteModal:P}),e.jsx("div",{className:"bg-white mt-2 px-40",children:e.jsx("form",{onSubmit:Le.handleSubmit,children:e.jsxs("div",{className:"flex  space-x-4 my-5 mx-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Filter By",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...Le.getFieldProps("filterBy"),className:"cypress_filterBy cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),E==null?void 0:E.map(i=>e.jsx("option",{value:i.id,children:i.ulb_name},i.id))]})]}),e.jsx("div",{className:"mt-6 flex w-full justify-between h-10",children:e.jsx("button",{type:"submit",className:" border rounded-md border-[#1A4D8C] hover:bg-[#1A4D8C] text-[#1A4D8C] hover:text-white  shadow-lg text-base font-semibold px-5 py-1",children:"Search record"})})]})})}),B&&e.jsx(ve,{}),e.jsxs("div",{className:"px-4 pt-4 mb-40",children:[p&&e.jsx(ae,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),e.jsx(Qt,{canFilter:!1,canExport:!1,isLoadingSingleFetch:T,api:Ae,columns:ft,requestBody:m,changeData:q})]})]})}function Zt(){return{headers:{Authorization:`Bearer ${window.localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"multipart/form-data","API-KEY":"eff41ef6-d430-4887-aa55-9fcf46c72c99"}}}function pt(t){var w;const[b,k]=l.useState(!1),[u,P]=l.useState(null),[N,g]=l.useState(!1),[c,q]=l.useState(!1);l.useState(!1);const[r,O]=l.useState(null),s=l.useRef(null);l.useState(null);const[B,V]=l.useState(null),[H,z]=l.useState(null),[Y,$]=l.useState(null),[o,L]=l.useState(!1),[I,A]=l.useState(!1),[p,ee]=l.useState(!1),[F,K]=l.useState(!1),{ulbListApi:de,api_getAdminLists:he,api_PostUser:fe,api_EnalbeDisableUser:re,api_getUserById:M,api_updateUser:X}=Ce();let Q=Se({userType:W().required("Enter user type"),fullName:W().required("Enter full name"),mobileNo:W().required("Enter mobile no."),altMobileNo:W().required("Select alternate mobile"),email:W().required("Enter email"),address:W().required("Enter address"),userImage:W().required("Select user image")});const j=ke({initialValues:{userType:"Admin",role:"ADMIN",fullName:"",mobileNo:"",altMobileNo:"",email:"",address:"",userImage:"",ulbId:""},enableReinitialize:!0,onSubmit:a=>{ce(a)},validationSchema:Q}),oe=()=>{s.current.showModal()},be=()=>{s.current.close(),O(null),se()},ce=a=>{ee(!0);let n=new FormData;n.append("userType",a==null?void 0:a.userType),n.append("ulbId",a==null?void 0:a.ulbId),n.append("name",a==null?void 0:a.fullName),n.append("mobile",a==null?void 0:a.mobileNo),n.append("altMobile",a==null?void 0:a.altMobileNo),n.append("email",a==null?void 0:a.email),n.append("address",a==null?void 0:a.address),n.append("role",a==null?void 0:a.role),n.append("userImage",a==null?void 0:a.userImage);let m=fe;r!==null&&(n.append("id",r),m=X),U.post(m,n,Zt()).then(function(h){var d,C,T;(d=h==null?void 0:h.data)!=null&&d.status?(G.success((C=h==null?void 0:h.data)==null?void 0:C.message),be(),se()):G.error((T=h==null?void 0:h.data)==null?void 0:T.message)}).catch(function(h){G.error("Something went wrong")}).finally(()=>{ee(!1),O(null)})},me=a=>{ee(!0);let n={id:a};U.post(M,n,D()).then(function(m){var h,d;(h=m==null?void 0:m.data)!=null&&h.status&&(K((d=m==null?void 0:m.data)==null?void 0:d.data),userAddEditModal.showModal())}).catch(function(m){}).finally(()=>{ee(!1)})},ge=()=>{j.setFieldValue("userType",F==null?void 0:F.user_type),j.setFieldValue("fullName",F==null?void 0:F.name),j.setFieldValue("fullName",F==null?void 0:F.name),j.setFieldValue("mobileNo",F==null?void 0:F.mobile),j.setFieldValue("altMobileNo",F==null?void 0:F.alternate_mobile),j.setFieldValue("email",F==null?void 0:F.email),j.setFieldValue("address",F==null?void 0:F.address)};l.useEffect(()=>{r!==null&&ge()},[F]),l.useEffect(()=>(r!==null?ge():j.resetForm(),()=>{}),[r]);const se=(a=null)=>{a===null?g(!0):k(!0),U.post(he,{},D()).then(function(n){var m,h;(m=n==null?void 0:n.data)!=null&&m.status?P((h=n==null?void 0:n.data)==null?void 0:h.data):P(null)}).catch(function(n){}).finally(()=>{a===null?g(!1):k(!1)})},ye=a=>{L(!0);let n={id:r,isSuspended:Y};U.post(re,n,D()).then(function(m){var h,d;(h=m==null?void 0:m.data)!=null&&h.status?(G.success("User status changed successfully"),se(),A(!1)):G.error((d=m==null?void 0:m.data)==null?void 0:d.message)}).catch(function(m){G.error("Something went wrong")}).finally(()=>{L(!1),O(null)})};l.useEffect(()=>{se()},[]);const J=()=>{U.get(de,{},D()).then(function(a){var n;(n=a==null?void 0:a.data)!=null&&n.status?z(a==null?void 0:a.data):z(null)}).catch(function(a){}).finally(()=>{})};l.useEffect(()=>{J()},[]);const Z=[{Header:"#",Cell:({row:a})=>e.jsx("div",{className:"pr-2",children:a.index+1})},{Header:" Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Mobile No.",accessor:"mobile"},{Header:"Ulb Name",accessor:"ulb_name"},{Header:"Status",accessor:"suspended",Cell:a=>e.jsxs("p",{children:[a.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Disabled"}),a.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Enabled"})]})},{Header:"Action",accessor:"id",Cell:({cell:a})=>{var n,m;return e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var h,d;O((h=a.row.values)==null?void 0:h.id),oe(),me((d=a.row.values)==null?void 0:d.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white ",children:"Edit"}),((n=a.row.values)==null?void 0:n.suspended)===!0&&e.jsx("button",{onClick:()=>{var h;O((h=a.row.values)==null?void 0:h.id),$(!1),A(!0)},className:"border border-green-500 text-green-600    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-green-800 hover:text-white ",children:"Enable"}),((m=a.row.values)==null?void 0:m.suspended)===!1&&e.jsx("button",{onClick:()=>{var h;O((h=a.row.values)==null?void 0:h.id),$(!0),A(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Disable"})]})}}],_=a=>{let n=a.target.name,m=a.target.value;n=="mobileNo"&&j.setFieldValue("mobileNo",Pe(m,j.values.mobileNo,10)),n=="altMobileNo"&&j.setFieldValue("altMobileNo",Pe(m,j.values.altMobileNo,10)),n=="email"&&j.setFieldValue("email",Xe(m,j.values.email,100)),n=="address"&&j.setFieldValue("address",Qe(m,j.values.address,100))};return e.jsxs("div",{children:[e.jsx(Ee,{deleteLoading:o,enableDisableUser:ye,setdeleteModal:A,suspendUser:Y,deleteModal:I}),N&&e.jsx(ve,{}),!N&&u!==null&&e.jsxs("div",{className:"px-4 pt-4",children:[c&&e.jsx(ae,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),e.jsx(we,{isLoadingSingleFetch:b,exportStatus:!1,assessmentType:!1,columns:Z,dataList:u,children:e.jsxs("button",{onClick:oe,className:"float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl  hover:bg-[#113766] hover:text-white text-white flex items-center",children:[e.jsx(Fe,{})," Add Admin"]})})]}),e.jsxs("dialog",{ref:s,className:"dialog mt-16",children:[e.jsx("button",{onClick:be,className:"btn btn-primary bg-red-400 text-white rounded-full px-2 py-1 mb-2 float-right mt-2",style:{borderRadius:"100%"},children:"x"}),r==null?e.jsx("h2",{className:"text-xl font-semibold mt-2 text-center ",children:"Add Admin Details"}):e.jsx("h2",{className:"text-xl font-semibold mt-2 text-center ",children:"Update Admin Details"}),e.jsx("div",{className:"text-left",children:e.jsx("div",{className:"block md:p-4 w-full md:py-6 rounded-lg mx-auto  bg-white px-4 sm:px-0",children:e.jsx("form",{onChange:_,onSubmit:j.handleSubmit,children:e.jsxs("div",{className:"grid grid-cols-12  sm:space-x-2 px-10",children:[e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Ulb Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),H&&e.jsxs("select",{...j.getFieldProps("ulbId"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),(w=H==null?void 0:H.data)==null?void 0:w.map((a,n)=>e.jsx("option",{value:a.id,children:a.ulb_name},n))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:j.touched.ulbId&&j.errors.ulbId?j.errors.ulbId:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Full Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...j.getFieldProps("fullName"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:j.touched.fullName&&j.errors.fullName?j.errors.fullName:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Mobile NO.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...j.getFieldProps("mobileNo"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:j.touched.mobileNo&&j.errors.mobileNo?j.errors.mobileNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Alt Mobile No.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...j.getFieldProps("altMobileNo"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:j.touched.altMobileNo&&j.errors.altMobileNo?j.errors.altMobileNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Email",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...j.getFieldProps("email"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:j.touched.email&&j.errors.email?j.errors.email:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Address",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...j.getFieldProps("address"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:j.touched.address&&j.errors.address?j.errors.address:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["User Image",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{onChange:a=>{j.setFieldValue("userImage",a.target.files[0]),V(URL.createObjectURL(a.target.files[0]))},type:"file",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:j.touched.userImage&&j.errors.userImage?j.errors.userImage:null}),e.jsx("div",{className:"w-32 h-32 rounded-full border shadow-xl mx-auto overflow-hidden mt-10 flex justify-center items-center",children:e.jsx("img",{src:B||qe})})]}),e.jsx("div",{className:"col-span-12 mt-4",children:p?e.jsx("button",{type:"submit",className:"w-full  cypress_next1_button px-6 py-2.5 bg-indigo-500 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out flex justify-center items-center",children:e.jsx(ae,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsx("button",{type:"submit",className:"w-full  cypress_next1_button px-6 py-2.5 bg-indigo-500 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:r==null?"Submit":"Update"})})]})})})})]})]})}function el(){const[t,b]=l.useState(0),k=[{title:"Menu Role",tabIndex:0},{title:"Menu List",tabIndex:3},{title:"API Role",tabIndex:1},{title:"API List",tabIndex:4},{title:"User List",tabIndex:5},{title:"Admin List",tabIndex:6}],u=P=>{b(P)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 rounded-lg mt-4 shadow-xl broder-2 border-sky-200 bg-white",children:[e.jsx("div",{className:"col-span-12 md:col-span-12 ",children:e.jsx(Ct,{tabs:k,fun:u})}),t==0&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(Dt,{})," "]}),t==3&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(Vt,{})," "]}),t==1&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(Tt,{})," "]}),t==4&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(zt,{})," "]}),t==5&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(Xt,{})," "]}),t==6&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(pt,{})," "]})]})})}function jl(){return Me("User Role Management Workfow"),e.jsx(el,{})}export{jl as default};
