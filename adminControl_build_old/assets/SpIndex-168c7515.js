import{j as e,n as k}from"./index-bd8b5d4a.js";import{b as M,r as i}from"./router-b87f8164.js";import{G as L,S as K,L as Q,C as X}from"./ShimmerTable-b6961b5c.js";import{A as _,c as T,a as w,u as P}from"./ApiHeader-4ed27c1c.js";import{u as Z}from"./useSetTitle-d6a5d58a.js";import{A as C,c as R,n as O}from"./PowerupFunctions-54b8ae3f.js";import{M as F}from"./index.esm-d3a2968b.js";import{P as I}from"./ProjectApiList-40ad3813.js";import{B as ee}from"./BottomErrorCard-2059cfe5.js";import"./react-5403e0b7.js";import"./reactQuery-8705a202.js";import"./reactQueryDevtools-9a5be7d4.js";import"./tailwind-64fa9e48.js";import"./axios-096c69c8.js";const te={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function ae(t){const[b,f]=M.useState(!1),{post_deleteSp:s}=I(),y=j=>{const u={schemeId:j};C.post(s,u,_()).then(o=>{var n,h;(n=o==null?void 0:o.data)!=null&&n.status?(k.success("Deleted successfully"),t==null||t.refresh()):t==null||t.activateBottomErrorCard(!0,(h=o==null?void 0:o.data)==null?void 0:h.message),m()}).catch(o=>{k.error("Failed to delete"),m(),t==null||t.activateBottomErrorCard(!0,"Oops! Server Error, please try again later.")})};i.useEffect(()=>{t.openDeleteModal>0&&f(!0)},[t.openDeleteModal]);function x(){}function m(){f(!1)}return e.jsx("div",{className:"",children:e.jsx(F,{isOpen:b,onAfterOpen:x,onRequestClose:m,style:te,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins",children:[e.jsxs("div",{className:"flow-root",children:[e.jsx("p",{className:"float-left text-center text-lg font-semibold",children:"Are you sure to Delete ?"}),e.jsxs("p",{onClick:m,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(L,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsxs("button",{onClick:()=>y(t.deleteId),className:"rounded-md bg-red-300 hover:bg-red-400 shadow-lg py-1.5 text-sm px-3 m-3",children:[" ","Yes, Delete"," "]}),e.jsxs("button",{onClick:m,className:"rounded-md bg-green-300 hover:bg-green-400 shadow-lg py-1.5 text-sm px-3 m-3",children:[" ","Cancel"," "]})]})]})})})}const se={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function ne(t){var o,n,h,c;const{post_editSp:b}=I(),f=T({type:w().required("Select type"),content:w().required("Enter content"),link:w().url("Invalid url")}),s=P({initialValues:{type:(o=t==null?void 0:t.editData)==null?void 0:o.scheme_type_id,content:(n=t==null?void 0:t.editData)==null?void 0:n.content,link:(h=t==null?void 0:t.editData)==null?void 0:h.link},enableReinitialize:!0,onSubmit:r=>{m(r)},validationSchema:f}),[y,x]=M.useState(!1),m=r=>{var E;const v={schemeId:(E=t==null?void 0:t.editData)==null?void 0:E.id,schemeTypeId:r==null?void 0:r.type,content:r==null?void 0:r.content,link:r==null?void 0:r.link};C.post(b,v,_()).then(d=>{var A,p;(A=d==null?void 0:d.data)!=null&&A.status?(k.success("Updated successfully"),t==null||t.refresh()):t==null||t.activateBottomErrorCard(!0,(p=d==null?void 0:d.data)==null?void 0:p.message)}).catch(d=>{k.error("Failed to update"),t==null||t.activateBottomErrorCard(!0,"Oops! Server Error, please try again later.")}).finally(()=>{u(),s.resetForm()})};i.useEffect(()=>{t.openEditSp>0&&x(!0)},[t.openEditSp]);function j(){}function u(){x(!1)}return e.jsx("div",{className:"",children:e.jsx(F,{isOpen:y,onAfterOpen:j,onRequestClose:u,style:se,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins w-[100vw] md:w-[30vw]",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-lg font-semibold",children:["Edit Scheme & Program"," "]}),e.jsxs("p",{onClick:u,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(L,{size:25})," "]})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:s.handleSubmit,onChange:s.handleChange,children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Type : "}),e.jsxs("select",{type:"text",name:"type",id:"late",value:s.values.type,className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",disabled:!0,children:"Select"}),Array.isArray(t==null?void 0:t.typeList)&&((c=t==null?void 0:t.typeList)==null?void 0:c.map(r=>e.jsx(e.Fragment,{children:e.jsx("option",{value:r==null?void 0:r.id,children:r==null?void 0:r.type})})))]}),e.jsx("span",{className:"text-red-600 text-xs",children:s.touched.type&&s.errors.type?s.errors.type:null})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Content : "}),e.jsx("textarea",{cols:2,rows:2,type:"text",value:s.values.content,placeholder:"Enter content",name:"content",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 text-xs",children:s.touched.content&&s.errors.content?s.errors.content:null})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Link : "}),e.jsx("input",{type:"url",placeholder:"Provide link",name:"link",id:"late",value:s.values.link,className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 text-xs",children:s.touched.link&&s.errors.link?s.errors.link:null})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"rounded-md bg-green-300 hover:bg-green-400  hover:text-black shadow-lg  py-1 text-sm px-3 m-3",children:[" ","Update"," "]})})]})})]})})})}const le={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function re(t){var o;const{post_addSp:b}=I(),f=T({type:w().required("Select type"),content:w().required("Enter content"),link:w().url("Invalid url")}),s=P({initialValues:{type:"",content:"",link:""},onSubmit:n=>{m(n)},validationSchema:f}),[y,x]=M.useState(!1),m=n=>{const h={schemeTypeId:n==null?void 0:n.type,content:n==null?void 0:n.content,link:n==null?void 0:n.link};C.post(b,h,_()).then(c=>{var r,v;(r=c==null?void 0:c.data)!=null&&r.status?(k.success("Added successfully"),t==null||t.refresh()):t==null||t.activateBottomErrorCard(!0,(v=c==null?void 0:c.data)==null?void 0:v.message)}).catch(c=>{k.error("Failed to add"),t==null||t.activateBottomErrorCard(!0,"Oops! Server Error, please try again later.")}).finally(()=>{u(),s.resetForm()})};i.useEffect(()=>{t.openAddSp>0&&x(!0)},[t.openAddSp]);function j(){}function u(){x(!1)}return e.jsx("div",{className:"w-full",children:e.jsx(F,{isOpen:y,onAfterOpen:j,onRequestClose:u,style:le,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins w-[100vw] md:w-[30vw]",children:[e.jsxs("div",{className:"flow-root",children:[e.jsx("p",{className:"float-left text-center text-lg font-semibold",children:"Add Scheme & Program"}),e.jsx("p",{onClick:u,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:e.jsx(L,{size:25})})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:s.handleSubmit,onChange:s.handleChange,children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Type : "}),e.jsxs("select",{type:"text",name:"type",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),Array.isArray(t==null?void 0:t.typeList)&&((o=t==null?void 0:t.typeList)==null?void 0:o.map(n=>e.jsx(e.Fragment,{children:e.jsx("option",{value:n==null?void 0:n.id,children:n==null?void 0:n.type})})))]}),e.jsx("span",{className:"text-red-600 text-xs",children:s.touched.type&&s.errors.type?s.errors.type:null})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Content : "}),e.jsx("textarea",{cols:2,rows:2,type:"text",placeholder:"Enter content",name:"content",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 text-xs",children:s.touched.content&&s.errors.content?s.errors.content:null})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Link : "}),e.jsx("input",{type:"url",placeholder:"Provide link",name:"link",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 text-xs",children:s.touched.link&&s.errors.link?s.errors.link:null})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:"rounded-md bg-green-300 hover:bg-green-400  hover:text-black shadow-lg  py-1 text-sm px-3 m-3",children:"Add"})})]})})]})})})}function pe(){const{post_listSp:t,post_schemeList:b}=I();Z("Schemes & Programs Master");const[f,s]=i.useState(0),[y,x]=i.useState(0),[m,j]=i.useState(0),[u,o]=i.useState(0),[n,h]=i.useState([]),[c,r]=i.useState(),[v,E]=i.useState(),[d,A]=i.useState(),[p,g]=i.useState(!1),[q,H]=i.useState(""),[W,z]=i.useState(!1),$="border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300",U="border border-red-300 text-red-400 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white",G="float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl hover:bg-[#113766] hover:text-white text-white flex items-center",N=(a,l)=>{z(a),H(R(l))},V=a=>{x(l=>l+1),r(a)},Y=a=>{j(l=>l+1),E(a)};i.useEffect(()=>{g(!0),C.post(t,{},_()).then(a=>{var l,S,D,B;(l=a==null?void 0:a.data)!=null&&l.status?A((D=(S=a==null?void 0:a.data)==null?void 0:S.data)==null?void 0:D.Details):N(!0,R((B=a==null?void 0:a.data)==null?void 0:B.message)),g(!1)}).catch(a=>{g(!1),N(!0,"Oops! Server error, please try again later.")}),C.post(b,{},_()).then(a=>{var l;h((l=a==null?void 0:a.data)==null?void 0:l.data),g(!1)}).catch(a=>{g(!1)})},[u]);const J=[{Header:"#",Cell:({row:a})=>e.jsx("div",{className:"pr-2",children:(a==null?void 0:a.index)+1})},{Header:"Type",accessor:"scheme_type",Cell:({cell:a})=>{var l;return O((l=a.row.original)==null?void 0:l.scheme_type)}},{Header:"Content",accessor:"content",Cell:({cell:a})=>{var l;return O((l=a.row.original)==null?void 0:l.content)}},{Header:"Link",accessor:"link",Cell:({cell:a})=>{var l;return e.jsx(e.Fragment,{children:e.jsx("a",{href:a==null?void 0:a.value,target:"_blank",rel:"noreferrer",className:"hover:underline cursor-pointer",children:O((l=a.row.original)==null?void 0:l.link)})})}},{Header:"Action",accessor:"id",Cell:({cell:a})=>e.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{var l;return Y((l=a==null?void 0:a.row)==null?void 0:l.original)},className:$,children:"Edit"}),e.jsx("button",{onClick:()=>{var l,S;return V((S=(l=a==null?void 0:a.row)==null?void 0:l.original)==null?void 0:S.id)},className:U,children:"Delete"})]})}];return e.jsxs(e.Fragment,{children:[W&&e.jsx(ee,{activateBottomErrorCard:N,errorTitle:q}),e.jsx(re,{openAddSp:f,activateBottomErrorCard:N,typeList:n,refresh:()=>(g(!0),o(a=>a+1))}),e.jsx(ne,{openEditSp:m,editData:v,activateBottomErrorCard:N,typeList:n,refresh:()=>(g(!0),o(a=>a+1))}),e.jsx(ae,{openDeleteModal:y,activateBottomErrorCard:N,deleteId:c,refresh:()=>(g(!0),o(a=>a+1))}),e.jsxs("div",{className:"poppins p-4 px-6",children:[e.jsx("div",{className:"uppercase font-semibold text-gray-700 text-2xl py-2 text-center tracking-[0.7rem]",children:"Schemes & Programs Master"}),e.jsx("div",{className:"w-full h-[0.15rem] bg-gray-400 mb-6"}),p&&e.jsx(K,{}),!p&&(d==null?void 0:d.length)>0&&e.jsx(Q,{assessmentType:!1,columns:J,dataList:d,children:e.jsxs("button",{onClick:()=>s(a=>a+1),className:G,children:[e.jsx(X,{})," Add"]})})]}),!p&&(d==null?void 0:d.length)==0&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 pl-4 pr-16 py-3 rounded relative text-center",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Oops! "}),e.jsx("span",{className:"block sm:inline",children:"No Data Available."}),e.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3"})]})]})}export{pe as default};
