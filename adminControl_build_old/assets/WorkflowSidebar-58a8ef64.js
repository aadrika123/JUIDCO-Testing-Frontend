import{c as $,n as B,j as e}from"./index-bd8b5d4a.js";import{r as o,b as P}from"./router-b87f8164.js";import{M as oe}from"./MailboxSidebar-2bdc71a6.js";import{G as H,S as p,L as Z,C as ee}from"./ShimmerTable-b6961b5c.js";import{M as T}from"./index.esm-d3a2968b.js";import{B as de,c as G,a as V,b as Q,u as J,A as M}from"./ApiHeader-4ed27c1c.js";import{A,n as ne,i as ie,a as ce}from"./PowerupFunctions-54b8ae3f.js";import{u as le}from"./useSetTitle-d6a5d58a.js";import{P as ue}from"./ProjectApiList-40ad3813.js";import{f as xe}from"./dateFns-2a6f1c25.js";import{R as te}from"./Hourglass-24f12ff1.js";import{F as me}from"./index.esm-68507145.js";import{A as fe}from"./ApiList-69c725a3.js";import{B as he}from"./BottomErrorCard-2059cfe5.js";import"./react-5403e0b7.js";import"./reactQuery-8705a202.js";import"./reactQueryDevtools-9a5be7d4.js";import"./tailwind-64fa9e48.js";import"./axios-096c69c8.js";const O=()=>{let l=de;return{workflowList:`${l}/api/user-managment/v1/crud/workflow-master/list`,workflowAdd:`${l}/api/user-managment/v1/crud/workflow-master/save`,workflowUpdate:`${l}/api/user-managment/v1/crud/workflow-master/edit`,workflowDelete:`${l}/api/user-managment/v1/crud/workflow-master/delete`,ulbWfList:`${l}/api/user-managment/v1/crud/wf-workflow/list`,workflowListById:`${l}/api/user-managment/v1/crud/wf-workflow/get`,ulbWfAdd:`${l}/api/user-managment/v1/crud/wf-workflow/save`,ulbWfUpdate:`${l}/api/user-managment/v1/crud/wf-workflow/edit`,ulbWfDelete:`${l}/api/user-managment/v1/crud/wf-workflow/delete`,allUlb:`${l}/api/get-all-ulb`,wfRoleList:`${l}/api/user-managment/v1/crud/workflow-role-map/list`,wfRoleUpdate:`${l}/api/user-managment/v1/crud/workflow-role-map/edit`,wfRoleDelete:`${l}/api/user-managment/v1/crud/workflow-role-map/delete`,wfRoleAdd:`${l}/api/user-managment/v1/crud/workflow-role-map/save`,wfRoleListById:`${l}/api/user-managment/v1/crud/workflow-role-map/get`,allRole:`${l}/api/user-managment/v1/crud/workflow-role/list`,wfListByUlb:`${l}/api/workflow/getWorkflowInUlb`,UmList:`${l}/api/user-managment/v1/crud/user/list`,UmListById:`${l}/api/user-managment/v1/crud/user/get`,UmAdd:`${l}/api/user-managment/v1/crud/user/create`,UmDelete:`${l}/api/user-managment/v1/crud/user/delete`,UmUpdate:`${l}/api/user-managment/v1/crud/user/update`,allUser:`${l}/api/user-managment/v1/crud/user/list`,PUAdd:`${l}/`,ulbListApi:`${l}/api/get-all-ulb`}},be={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function ge(l){var c,L,v,U;const{refresh:N,setrefresh:w}=o.useContext($),{wfRoleAdd:k,wfListByUlb:y}=O(),[h,f]=o.useState(),[a,x]=o.useState(!1),u=G({workflowName:V().required("Select workflow name"),ulbName:V().required("Select ULB name"),roleName:V().required("Select role name"),allowFullList:Q().required("This field is required"),canEscalate:Q().required("This field is required")}),n=J({initialValues:{workflowName:"",ulbName:"",roleName:"",fdRoleName:"",bdRoleName:"",isInitiator:"",isFinisher:"",isBtc:"",canViewDocument:"",canUploadDocument:"",canVerifyDocument:"",allowFreeCommunication:"",allowFullList:"",canEscalate:"",canForward:"",canBackward:"",showFieldVerification:"",isPseudo:"",serialNo:""},onSubmit:s=>{b(s)},validationSchema:u}),[r,_]=P.useState(!1),S=M(),b=s=>{const d={workflowId:s.workflowName,wfRoleId:s.roleName,forwardRoleId:s.fdRoleName,backwardRoleId:s.bdRoleName,isInitiator:s.isInitiator,isFinisher:s.isFinisher,isBtc:s.isBtc,canViewDocument:s.canViewDocument,canUploadDocument:s.canUploadDocument,canVerifyDocument:s.canVerifyDocument,allowFreeCommunication:s.allowFreeCommunication,allowFullList:s.allowFullList,canEscalate:s.canEscalate,canForward:s.canForward,canBackward:s.canBackward,isPseudo:s.isPseudo,showFieldVerification:s.showFieldVerification,serialNo:s.serialNo};A.post(k,d,S).then(C=>{B.success("Workflow Role Map added successfully !!"),R(),w(N+1)}).catch(C=>{B.success("Failed to add the workflow role map !!"),R()})};o.useEffect(()=>{l.openAddNewWorkflowRoleModal>0&&_(!0)},[l.openAddNewWorkflowRoleModal]);function I(){}function R(){_(!1)}const j=s=>{s.target.value!=null&&(x(!0),A.post(y,{ulbId:s.target.value},M()).then(d=>{var C;f((C=d==null?void 0:d.data)==null?void 0:C.data)}).catch(d=>{}).finally(()=>x(!1)))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(T,{isOpen:r,onAfterOpen:I,onRequestClose:R,style:be,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 mx-auto rounded-md poppins md:w-[50%] w-full mt-16 h-[80vh] overflow-auto",children:[e.jsxs("div",{className:"flow-root",children:[e.jsx("p",{className:"float-left text-center text-lg font-semibold",children:"Add Workflow Role Map"}),e.jsx("p",{onClick:R,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:e.jsx(H,{size:25})})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:n.handleSubmit,onChange:n.handleChange,className:"md:grid md:grid-cols-3 md:gap-6 gap-2 flex flex-col flex-wrap",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm font-semibold",children:["Serial No.",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"serialNo",className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",type:"number"}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.serialNo&&n.errors.serialNo?n.errors.serialNo:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm font-semibold",children:["ULB Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"ulbName",onChange:j,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),(c=l==null?void 0:l.ulbList)==null?void 0:c.map(s=>e.jsx(e.Fragment,{children:e.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.ulb_name})}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.ulbName&&n.errors.ulbName?n.errors.ulbName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Workflow Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"workflowName",className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[a?e.jsx("option",{selected:!0,disabled:!0,children:"Loading..."}):e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),h==null?void 0:h.map(s=>e.jsx(e.Fragment,{children:e.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.workflow_name})}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.workflowName&&n.errors.workflowName?n.errors.workflowName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Role Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"roleName",className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),(L=l==null?void 0:l.roleList)==null?void 0:L.map(s=>e.jsx(e.Fragment,{children:e.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.role_name})}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.roleName&&n.errors.roleName?n.errors.roleName:null})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:"Forward Role Name"}),e.jsxs("select",{type:"text",name:"fdRoleName",className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),(v=l==null?void 0:l.roleList)==null?void 0:v.map(s=>e.jsx(e.Fragment,{children:e.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.role_name})}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.fdRoleName&&n.errors.fdRoleName?n.errors.fdRoleName:null})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:"Backward Role Name"}),e.jsxs("select",{type:"text",name:"bdRoleName",className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),(U=l==null?void 0:l.roleList)==null?void 0:U.map(s=>e.jsx(e.Fragment,{children:e.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.role_name})}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.bdRoleName&&n.errors.bdRoleName?n.errors.bdRoleName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Is Initiator",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"isInitiator",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"isInitiator",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.isInitiator&&n.errors.isInitiator?n.errors.isInitiator:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Is Finisher",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"isFinisher",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"isFinisher",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.isFinisher&&n.errors.isFinisher?n.errors.isFinisher:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Is BTC",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"isBtc",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"isBtc",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.isBtc&&n.errors.isBtc?n.errors.isBtc:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Can View Document",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"canViewDocument",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"canViewDocument",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.canViewDocument&&n.errors.canViewDocument?n.errors.canViewDocument:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Can Upload Document",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"canUploadDocument",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"canUploadDocument",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.canUploadDocument&&n.errors.canUploadDocument?n.errors.canUploadDocument:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Can Verify Document",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"canVerifyDocument",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"canVerifyDocument",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.canVerifyDocument&&n.errors.canVerifyDocument?n.errors.canVerifyDocument:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Allow Free Communication",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"allowFreeCommunication",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"allowFreeCommunication",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.allowFreeCommunication&&n.errors.allowFreeCommunication?n.errors.allowFreeCommunication:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Allow Full List",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"allowFullList",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"allowFullList",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.allowFullList&&n.errors.allowFullList?n.errors.allowFullList:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Allow Escalate",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"canEscalate",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"canEscalate",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.canEscalate&&n.errors.canEscalate?n.errors.canEscalate:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Can Forward",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"canForward",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"canForward",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.canForward&&n.errors.canForward?n.errors.canForward:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Can Backward",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"canBackward",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"canBackward",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.canBackward&&n.errors.canBackward?n.errors.canBackward:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Pseudo User Permission",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"isPseudo",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"isPseudo",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.isPseudo&&n.errors.isPseudo?n.errors.isPseudo:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block  text-gray-700 text-sm  font-semibold",children:["Show Field Verification Permission",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"showFieldVerification",id:"true",value:!0}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600",name:"showFieldVerification",id:"false",value:!1}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:n.touched.showFieldVerification&&n.errors.showFieldVerification?n.errors.showFieldVerification:null})]}),e.jsx("div",{className:"flex justify-center col-span-3",children:e.jsx("button",{type:"submit",className:"rounded-md bg-green-300 hover:bg-green-400  hover:text-black shadow-lg  py-1 text-sm px-3 m-3",children:"Add"})})]})})]})})})})}const we={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Ne(l){const{refresh:N,setrefresh:w}=o.useContext($),[k,y]=P.useState(!1),{wfRoleDelete:h}=O();M();const f=u=>{const n={id:u};A.post(h,n,M()).then(r=>{B.success("Workflow Role Deleted successfully !!"),w(N+1),x()}).catch(r=>{B.success("Failed to Deleted the Workflow Role !!"),x()})};o.useEffect(()=>{l.openDeleteModal>0&&y(!0)},[l.openDeleteModal]);function a(){}function x(){y(!1)}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(T,{isOpen:k,onAfterOpen:a,onRequestClose:x,style:we,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-lg font-semibold",children:["Are you sure to Delete ? ",l.deleteRoleId," "]}),e.jsxs("p",{onClick:x,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(H,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsxs("button",{onClick:()=>f(l.deleteWorkflowId),className:"rounded-md bg-red-300 hover:bg-red-400 shadow-lg py-1.5 text-sm px-3 m-3",children:[" ","Yes, Delete"," "]}),e.jsxs("button",{onClick:x,className:"rounded-md bg-green-300 hover:bg-green-400 shadow-lg py-1.5 text-sm px-3 m-3",children:[" ","Cancel"," "]})]})]})})})})}const je={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function ye(l){var c,L,v,U,s;const{refresh:N,setrefresh:w}=o.useContext($);let k=(c=l==null?void 0:l.editWorkflowId)==null?void 0:c.id;const{wfRoleListById:y,wfRoleUpdate:h,wfListByUlb:f}=O(),[a,x]=o.useState(),[u,n]=o.useState();o.useEffect(()=>{var d;A.post(y,{id:(d=l==null?void 0:l.editWorkflowId)==null?void 0:d.id},M()).then(C=>{var D;x((D=C==null?void 0:C.data)==null?void 0:D.data)}).catch(C=>{})},[l==null?void 0:l.editWorkflowId]),G({roleName:V().required("Select role name"),allowFullList:Q().required("This field is required"),canEscalate:Q().required("This field is required")});const r=J({enableReinitialize:!0,initialValues:{workflowName:a==null?void 0:a.workflow_id,roleName:a==null?void 0:a.wf_role_id,fdRoleName:a==null?void 0:a.forward_role_id,bdRoleName:a==null?void 0:a.backward_role_id,isInitiator:a==null?void 0:a.is_initiator,isFinisher:a==null?void 0:a.is_finisher,isBtc:a==null?void 0:a.is_btc,canViewDocument:a==null?void 0:a.can_view_document,canUploadDocument:a==null?void 0:a.can_upload_document,canVerifyDocument:a==null?void 0:a.can_verify_document,allowFreeCommunication:a==null?void 0:a.allow_free_communication,allowFullList:a==null?void 0:a.allow_full_list,canEscalate:a==null?void 0:a.can_escalate,canForward:a==null?void 0:a.can_forward,canBackward:a==null?void 0:a.can_backward,showFieldVerification:a==null?void 0:a.show_field_verification,serialNo:a==null?void 0:a.serial_no,isPseudo:a==null?void 0:a.is_pseudo},onSubmit:d=>{I(d)}}),[_,S]=P.useState(!1),b=M(),I=d=>{const C={id:k,workflowId:d.workflowName,wfRoleId:d.roleName,forwardRoleId:d.fdRoleName,backwardRoleId:d.bdRoleName,isInitiator:d.isInitiator,isFinisher:d.isFinisher,isBtc:d.isBtc,canViewDocument:d.canViewDocument,canUploadDocument:d.canUploadDocument,canVerifyDocument:d.canVerifyDocument,allowFreeCommunication:d.allowFreeCommunication,allowFullList:d.allowFullList,canEscalate:d.canEscalate,canForward:d.canForward,canBackward:d.canBackward,isPseudo:d.isPseudo,showFieldVerification:d.showFieldVerification,serialNo:d.serialNo};A.post(h,C,b).then(D=>{B.success("Workflow Role Map updated successfully !!"),j(),w(N+1)}).catch(D=>(B.success("Failed to Update the Workflow Role Map !!"),j()))};o.useEffect(()=>{A.post(f,{ulbId:a==null?void 0:a.ulb_id},M()).then(d=>{var C;n((C=d==null?void 0:d.data)==null?void 0:C.data),l.refetchListOfWorkflows()}).catch(d=>{})},[a]),o.useEffect(()=>{l.openModelForEdit>0&&S(!0)},[l.openModelForEdit]);function R(){}function j(){S(!1)}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(T,{isOpen:_,onAfterOpen:R,onRequestClose:j,style:je,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 mx-auto rounded-md poppins w-full md:w-[50%] h-[80vh] overflow-auto",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-lg font-semibold",children:["Edit Workflow Role Map : ",k," "]}),e.jsxs("p",{onClick:j,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(H,{size:25})," "]})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:r.handleSubmit,onChange:r.handleChange,className:"md:grid md:grid-cols-3 md:gap-6 gap-2 flex flex-col flex-wrap",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Serial No.",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"serialNo",value:r.values.serialNo,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.serialNo&&r.errors.serialNo?r.errors.serialNo:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["ULB Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{disabled:!0,name:"ulbName",value:a==null?void 0:a.ulb_id,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:(L=l==null?void 0:l.ulbList)==null?void 0:L.map(d=>e.jsx(e.Fragment,{children:e.jsx("option",{value:d==null?void 0:d.id,children:d==null?void 0:d.ulb_name})}))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Workflow Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{disabled:!0,type:"text",name:"workflowName",value:a==null?void 0:a.workflow_id,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:u==null?void 0:u.map(d=>e.jsx(e.Fragment,{children:e.jsx("option",{value:d==null?void 0:d.id,children:d==null?void 0:d.workflow_name})}))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Role Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"roleName",value:r.values.roleName,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),(v=l==null?void 0:l.roleList)==null?void 0:v.map(d=>e.jsx(e.Fragment,{children:e.jsx("option",{value:d==null?void 0:d.id,children:d==null?void 0:d.role_name})}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.roleName&&r.errors.roleName?r.errors.roleName:null})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:"Forward Role Name"}),e.jsxs("select",{type:"text",name:"fdRoleName",value:r.values.fdRoleName,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),(U=l==null?void 0:l.roleList)==null?void 0:U.map(d=>e.jsx(e.Fragment,{children:e.jsx("option",{value:d==null?void 0:d.id,children:d==null?void 0:d.role_name})}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.fdRoleName&&r.errors.fdRoleName?r.errors.fdRoleName:null})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:"Backward Role Name"}),e.jsxs("select",{type:"text",name:"bdRoleName",value:r.values.bdRoleName,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),(s=l==null?void 0:l.roleList)==null?void 0:s.map(d=>e.jsx(e.Fragment,{children:e.jsx("option",{value:d==null?void 0:d.id,children:d==null?void 0:d.role_name})}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.bdRoleName&&r.errors.bdRoleName?r.errors.bdRoleName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Is Initiator",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"isInitiator",value:r.values.isInitiator,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.isInitiator&&r.errors.isInitiator?r.errors.isInitiator:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Is Finisher",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"isFinisher",value:r.values.isFinisher,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.isFinisher&&r.errors.isFinisher?r.errors.isFinisher:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Is BTC",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"isBtc",value:r.values.isBtc,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.isBtc&&r.errors.isBtc?r.errors.isBtc:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Can View Document",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"canViewDocument",value:r.values.canViewDocument,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.canViewDocument&&r.errors.canViewDocument?r.errors.canViewDocument:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Can Upload Document",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"canUploadDocument",value:r.values.canUploadDocument,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.canUploadDocument&&r.errors.canUploadDocument?r.errors.canUploadDocument:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Can Verify Document",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"canVerifyDocument",value:r.values.canVerifyDocument,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.canVerifyDocument&&r.errors.canVerifyDocument?r.errors.canVerifyDocument:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Allow Free Communication",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"allowFreeCommunication",value:r.values.allowFreeCommunication,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.allowFreeCommunication&&r.errors.allowFreeCommunication?r.errors.allowFreeCommunication:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Allow Full List",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"allowFullList",value:r.values.allowFullList,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.allowFullList&&r.errors.allowFullList?r.errors.allowFullList:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Allow Escalate",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"canEscalate",value:r.values.canEscalate,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.canEscalate&&r.errors.canEscalate?r.errors.canEscalate:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Pseudo User Permission",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"isPseudo",value:r.values.isPseudo,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.isPseudo&&r.errors.isPseudo?r.errors.isPseudo:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Can Forward",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"canForward",value:r.values.canForward,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.canForward&&r.errors.canForward?r.errors.canForward:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Can Backward",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"canBackward",value:r.values.canBackward,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.canBackward&&r.errors.canBackward?r.errors.canBackward:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block text-gray-700 text-sm font-semibold",children:["Show Field Verification Permission",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"showFieldVerification",value:r.values.showFieldVerification,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:null,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.showFieldVerification&&r.errors.showFieldVerification?r.errors.showFieldVerification:null})]}),e.jsx("div",{className:"flex justify-center col-span-3",children:e.jsxs("button",{type:"submit",className:"rounded-md bg-green-300 hover:bg-green-400  hover:text-black shadow-lg  py-1 text-sm px-3 m-3",children:[" ","Update"," "]})})]})})]})})})})}const ae=o.createContext("");function ve(l){le("Workflow Role Map");const[N,w]=o.useState(0),[k,y]=o.useState(0),[h,f]=o.useState(0),[a,x]=o.useState(),[u,n]=o.useState(),[r,_]=o.useState(),[S,b]=o.useState(),[I,R]=o.useState(!1),[j,c]=o.useState(),{wfRoleList:L,allRole:v,allUlb:U}=O(),{refresh:s,setrefresh:d}=o.useContext(ae),C="border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300",D="border border-red-300 text-red-400 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white",g="float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl hover:bg-[#113766] hover:text-white text-white flex items-center";o.useEffect(()=>{A.post(v,{},M()).then(t=>{var E;_((E=t==null?void 0:t.data)==null?void 0:E.data)}).catch(t=>{}),A.get(U,M()).then(t=>{var E;b((E=t==null?void 0:t.data)==null?void 0:E.data)}).catch(t=>{})},[]);const F=t=>{y(E=>E+1),x(t)},Y=t=>{f(E=>E+1),n(t)};o.useEffect(()=>{R(!0),A.post(L,{},M()).then(t=>{var E;c((E=t==null?void 0:t.data)==null?void 0:E.data),R(!1)}).catch(t=>{R(!1)})},[s]);const X=[{Header:"#",Cell:({row:t})=>e.jsx("div",{className:"pr-2",children:(t==null?void 0:t.index)+1})},{Header:"Serial No.",accessor:"serial_no",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return t==null?void 0:t.value}},{Header:"ULB Name",accessor:"ulb_name"},{Header:"Workflow Name",accessor:"workflow_name"},{Header:"Role Name",accessor:"role_name"},{Header:"Forward Role",accessor:"forward_role_name",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return t==null?void 0:t.value}},{Header:"Backward Role",accessor:"backward_role_name",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return t==null?void 0:t.value}},{Header:"Is Initiator",accessor:"is_initiator",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Is Finisher",accessor:"is_finisher",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Is BTC",accessor:"is_btc",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Can View Document",accessor:"can_view_document",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Can Upload Document",accessor:"can_upload_document",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Can Verify Document",accessor:"can_verify_document",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Allow Free Communication",accessor:"allow_free_communication",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Allow Full List",accessor:"allow_full_list",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Allow Escalate",accessor:"can_escalate",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Pseudo User Permission",accessor:"is_pseudo",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Can Forward",accessor:"can_forward",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Can Backward",accessor:"can_backward",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Show Field Verification Permission",accessor:"show_field_verification",Cell:t=>{if((t==null?void 0:t.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((t==null?void 0:t.value)!=null)return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(t==null?void 0:t.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(t==null?void 0:t.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})}},{Header:"Action",accessor:"id",Cell:({cell:t})=>e.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{var E;return Y((E=t==null?void 0:t.row)==null?void 0:E.values)},className:C,children:"Edit"}),e.jsx("button",{onClick:()=>{var E,K;return F((K=(E=t==null?void 0:t.row)==null?void 0:E.values)==null?void 0:K.id)},className:D,children:"Delete"})]})}];return e.jsxs(e.Fragment,{children:[e.jsx(ge,{openAddNewWorkflowRoleModal:N,ulbList:S,roleList:r}),e.jsx(ye,{openModelForEdit:h,editWorkflowId:u,ulbList:S,roleList:r}),e.jsx(Ne,{openDeleteModal:k,deleteWorkflowId:a}),e.jsxs("div",{className:"poppins p-4 px-6",children:[e.jsx("div",{className:"uppercase font-semibold text-gray-700 text-2xl py-2 text-center tracking-[0.7rem]",children:"Workflow Role Map"}),e.jsx("div",{className:"w-full h-[0.15rem] bg-gray-400 mb-6"}),I&&e.jsx(p,{}),!I&&(j==null?void 0:j.length)!=null&&e.jsx(Z,{assessmentType:!1,columns:X,dataList:j,children:e.jsxs("button",{onClick:()=>w(N+1),className:g,children:[e.jsx(ee,{}),"  Add Workflow Role Map"]})})]})]})}const ke={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Fe(l){var S;const{refresh:N,setrefresh:w}=o.useContext($),{workflowAdd:k}=O(),y=G({workflowName:V().required("This is a required field !"),moduleName:V().required("This is a required field !")}),h=J({initialValues:{workflowName:"",moduleName:""},onSubmit:b=>{n(b)},validationSchema:y}),f=b=>h.values.workflowName=b.target.value,[a,x]=P.useState(!1),u=M(),n=b=>{const I={workflowName:b==null?void 0:b.workflowName,moduleId:b==null?void 0:b.moduleName};A.post(k,I,u).then(R=>(B.success("Workflow added successfully"),_(),w(N+1))).catch(R=>(B.error("Failed to add the workflow"),_()))};o.useEffect(()=>{l.openAddNewWorkflowModal>0&&x(!0)},[l.openAddNewWorkflowModal]);function r(){}function _(){x(!1)}return e.jsx("div",{className:"",children:e.jsx(T,{isOpen:a,onAfterOpen:r,onRequestClose:_,style:ke,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-lg font-semibold",children:["Add New Workflow"," "]}),e.jsxs("p",{onClick:_,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(H,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:h.handleSubmit,onChange:h.handleChange,children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{htmlFor:"late",className:"form-label inline-block mb-1 text-gray-700 text-sm font-semibold",children:["Module",e.jsx("span",{className:"text-red-500",children:"*"})," "]}),e.jsxs("select",{type:"text",name:"moduleName",id:"late",className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),(S=l==null?void 0:l.moduleList)==null?void 0:S.map(b=>e.jsx(e.Fragment,{children:e.jsx("option",{value:b==null?void 0:b.id,children:b==null?void 0:b.module_name})}))]}),e.jsx("span",{className:"text-red-600 text-xs",children:h.touched.moduleName&&h.errors.moduleName?h.errors.moduleName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm font-semibold",children:["Workflow Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"workflowName",onChange:f,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:h.touched.workflowName&&h.errors.workflowName?h.errors.workflowName:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"rounded-md bg-green-300 hover:bg-green-400  hover:text-black shadow-lg  py-1 text-sm px-3 m-3",children:[" ","Add"," "]})})]})})]})})})}const Re={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Ce(l){const{refresh:N,setrefresh:w}=o.useContext($),[k,y]=P.useState(!1),{workflowDelete:h}=O(),f=u=>{const n={id:u};A.post(h,n,M()).then(r=>(B.success("Workflow Deleted successfully"),x(),w(N+1))).catch(r=>(B.error("Failed to Deleted the Workflow"),x()))};o.useEffect(()=>{l.openDeleteModal>0&&y(!0)},[l.openDeleteModal]);function a(){}function x(){y(!1)}return e.jsx("div",{className:"",children:e.jsx(T,{isOpen:k,onAfterOpen:a,onRequestClose:x,style:Re,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-lg font-semibold",children:["Are you sure to Delete ? ",l.deleteRoleId," "]}),e.jsxs("p",{onClick:x,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(H,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsxs("button",{onClick:()=>f(l.deleteWorkflowId),className:"rounded-md bg-red-300 hover:bg-red-400 shadow-lg py-1.5 text-sm px-3 m-3",children:[" ","Yes, Delete"," "]}),e.jsxs("button",{onClick:x,className:"rounded-md bg-green-300 hover:bg-green-400 shadow-lg py-1.5 text-sm px-3 m-3",children:[" ","Cancel"," "]})]})]})})})}const Se={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Le(l){var I,R,j,c,L;const{refresh:N,setrefresh:w}=o.useContext($),{workflowUpdate:k}=O();let y=(I=l==null?void 0:l.editWorkflowId)==null?void 0:I.id,h=(R=l==null?void 0:l.editWorkflowId)==null?void 0:R.workflow_name,f=(j=l==null?void 0:l.editWorkflowId)==null?void 0:j.module_id;const a=G({workflowName:V().required("This is a required field !"),moduleName:V().required("This is a required field !")}),x=J({enableReinitialize:!0,initialValues:{workflowName:h,moduleName:f},onSubmit:v=>{_(v)},validationSchema:a}),[u,n]=P.useState(!1),r=M(),_=v=>{const U={id:y,workflowName:v.workflowName,moduleId:v.moduleName};A.post(k,U,r).then(s=>(B.success("Workflow Updated successfully"),b(),w(N+1))).catch(s=>(B.error("Failed to Update the Workflow"),b()))};o.useEffect(()=>{l.openModelForEdit>0&&n(!0)},[l.openModelForEdit]);function S(){}function b(){n(!1)}return e.jsx("div",{className:"",children:e.jsx(T,{isOpen:u,onAfterOpen:S,onRequestClose:b,style:Se,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-lg font-semibold",children:["Edit Workflow : ",y," "]}),e.jsxs("p",{onClick:b,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(H,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:x.handleSubmit,onChange:x.handleChange,children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{htmlFor:"late",className:"form-label inline-block mb-1 text-gray-700 text-sm font-semibold",children:["Module",e.jsx("span",{className:"text-red-500",children:"*"})," "]}),e.jsxs("select",{type:"text",name:"moduleName",id:"late",value:(c=x.values)==null?void 0:c.moduleName,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),(L=l==null?void 0:l.moduleList)==null?void 0:L.map(v=>e.jsx(e.Fragment,{children:e.jsx("option",{value:v==null?void 0:v.id,children:v==null?void 0:v.module_name})}))]}),e.jsx("span",{className:"text-red-600 text-xs",children:x.touched.moduleName&&x.errors.moduleName?x.errors.moduleName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm font-semibold",children:["Workflow Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"workflowName",onChange:x.handleChange,value:x.values.workflowName,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:x.touched.workflowName&&x.errors.workflowName?x.errors.workflowName:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"rounded-md bg-green-300 hover:bg-green-400  hover:text-black shadow-lg  py-1 text-sm px-3 m-3",children:[" ","Update"," "]})})]})})]})})})}function Me(){const{workflowList:l}=O();le("Worflow Master");const N="border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300",w="border border-red-300 text-red-400 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white",k="float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl hover:bg-[#113766] hover:text-white text-white flex items-center",{refresh:y,setrefresh:h}=o.useContext(ae),{post_moduleList:f}=ue(),[a,x]=o.useState(0),[u,n]=o.useState(0),[r,_]=o.useState(0),[S,b]=o.useState(),[I,R]=o.useState(),[j,c]=o.useState(),[L,v]=o.useState(!1),[U,s]=o.useState([]),d=g=>{n(F=>F+1),b(g)},C=g=>{_(F=>F+1),R(j[g])};o.useEffect(()=>{v(!0),A.post(l,{},M()).then(g=>{var F;c((F=g==null?void 0:g.data)==null?void 0:F.data),v(!1)}).catch(g=>{v(!1)})},[y]),o.useEffect(()=>{A.post(f,{},M()).then(g=>{var F;s((F=g==null?void 0:g.data)==null?void 0:F.data)}).catch(g=>{})},[]);const D=[{Header:"#",Cell:({row:g})=>e.jsx("div",{className:"pr-2",children:(g==null?void 0:g.index)+1})},{Header:"Module Name",accessor:"module_name",Cell:({cell:g})=>{var F;return ne((F=g.row.original)==null?void 0:F.module_name)}},{Header:"Workflow Name",accessor:"workflow_name",Cell:({cell:g})=>{var F;return ne((F=g.row.original)==null?void 0:F.workflow_name)}},{Header:"Created at",accessor:"created_at",Cell:({cell:g})=>{var F,Y;return ie((Y=(F=g==null?void 0:g.row)==null?void 0:F.values)==null?void 0:Y.created_at)}},{Header:"Action",Cell:({cell:g})=>e.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{var F;return C((F=g==null?void 0:g.row)==null?void 0:F.index)},className:N,children:"Edit"}),e.jsx("button",{onClick:()=>{var F,Y;return d((Y=(F=g==null?void 0:g.row)==null?void 0:F.values)==null?void 0:Y.id)},className:w,children:"Delete"})]})}];return e.jsxs(e.Fragment,{children:[e.jsx(Fe,{openAddNewWorkflowModal:a,moduleList:U}),e.jsx(Le,{openModelForEdit:r,editWorkflowId:I,moduleList:U}),e.jsx(Ce,{openDeleteModal:u,deleteWorkflowId:S}),e.jsxs("div",{className:"poppins p-4 px-6",children:[e.jsx("div",{className:"uppercase font-semibold text-gray-700 text-2xl py-2 text-center tracking-[0.7rem]",children:"Workflow   Master"}),e.jsx("div",{className:"w-full h-[0.15rem] bg-gray-400 mb-6"}),L&&e.jsx(p,{}),!L&&(j==null?void 0:j.length)>0&&e.jsx(Z,{assessmentType:!1,columns:D,dataList:j,children:e.jsxs("button",{onClick:()=>x(a+1),className:k,children:[e.jsx(ee,{})," Add Workflow"]})})]})]})}const Ie={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Ae(l){var b,I,R,j;const{refresh:N,setrefresh:w}=o.useContext($),{ulbWfAdd:k}=O(),[y,h]=o.useState(),f=G({workflowName:V().required("This is a required field !"),ulbName:V().required("This is a required field !"),isDocRequired:Q().required("This is a required field !")}),a=J({initialValues:{workflowName:"",ulbName:"",altName:"",isDocRequired:!1,initiatorRoleName:"",finisherRoleName:""},onSubmit:c=>{r(c)},validationSchema:f}),[x,u]=P.useState(!1),n=M(),r=c=>{const L={wfMasterId:c.workflowName,ulbId:c.ulbName,altName:c.altName,isDocRequired:c.isDocRequired,initiatorRoleId:c.initiatorRoleName,finisherRoleId:c.finisherRoleName};A.post(k,L,n).then(v=>(B.success("ULB workflow added successfully"),S(),w(N+1))).catch(v=>(B.error("Failed to add the ULB workflow"),S()))};o.useEffect(()=>{l.openAddNewWfUlbModal>0&&u(!0)},[l.openAddNewWfUlbModal]);function _(){}function S(){u(!1)}return o.useEffect(()=>{A.get(y).then(function(c){h(c.data)}).catch(function(c){})},[]),e.jsx("div",{className:"",children:e.jsx(T,{isOpen:x,onAfterOpen:_,onRequestClose:S,style:Ie,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-lg font-semibold",children:["Add ULB Workflow"," "]}),e.jsxs("p",{onClick:S,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(H,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,onChange:a.handleChange,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm font-semibold",children:["ULB Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"ulbName",className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),Array.isArray(l==null?void 0:l.ulbList)&&((b=l==null?void 0:l.ulbList)==null?void 0:b.map(c=>e.jsx(e.Fragment,{children:e.jsx("option",{value:c==null?void 0:c.id,children:c==null?void 0:c.ulb_name})})))]}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.ulbName&&a.errors.ulbName?a.errors.ulbName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm mt-2 font-semibold",children:["Workflow Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"workflowName",className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),Array.isArray(l==null?void 0:l.wfList)&&((I=l==null?void 0:l.wfList)==null?void 0:I.map(c=>e.jsx(e.Fragment,{children:e.jsx("option",{value:c==null?void 0:c.id,children:c==null?void 0:c.workflow_name})})))]}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.workflowName&&a.errors.workflowName?a.errors.workflowName:null})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm mt-2 font-semibold",children:"Alternate Name"}),e.jsx("input",{type:"text",name:"altName",className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter alternate name..."}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.altName&&a.errors.altName?a.errors.altName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm mt-2 font-semibold",children:["Initiator Role Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"initiatorRoleName",className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),Array.isArray(l==null?void 0:l.roleList)&&((R=l==null?void 0:l.roleList)==null?void 0:R.map(c=>e.jsx(e.Fragment,{children:e.jsx("option",{value:c==null?void 0:c.id,children:c==null?void 0:c.role_name})})))]}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.initiatorRoleName&&a.errors.initiatorRoleName?a.errors.initiatorRoleName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm mt-2 font-semibold",children:["Finisher Role Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"finisherRoleName",className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),Array.isArray(l==null?void 0:l.roleList)&&((j=l==null?void 0:l.roleList)==null?void 0:j.map(c=>e.jsx(e.Fragment,{children:e.jsx("option",{value:c==null?void 0:c.id,children:c==null?void 0:c.role_name})})))]}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.finisherRoleName&&a.errors.finisherRoleName?a.errors.finisherRoleName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm mt-2 font-semibold",children:["Is Document Required",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-5",children:[e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",name:"isDocRequired",id:"true",value:!0,className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600"}),e.jsx("label",{htmlFor:"true",className:"text-gray-700",children:"Yes"})]}),e.jsxs("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:[e.jsx("input",{type:"radio",name:"isDocRequired",id:"false",value:!1,className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300  dark:bg-gray-700 dark:border-gray-600"}),e.jsx("label",{htmlFor:"false",className:"text-gray-700",children:"No"})]})]}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.isDocRequired&&a.errors.isDocRequired?a.errors.isDocRequired:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"rounded-md bg-green-300 hover:bg-green-400  hover:text-black shadow-lg  py-1 text-sm px-3 m-3",children:[" ","Add"," "]})})]})})]})})})}const _e={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function We(l){const{refresh:N,setrefresh:w}=o.useContext($),{ulbWfDelete:k}=O(),[y,h]=P.useState(!1);M();const f=u=>{const n={id:u};A.post(k,n,M()).then(r=>(B.success("ULB Workflow Deleted successfully"),x(),w(N+1))).catch(r=>(B.error("Failed to Deleted the ULB Workflow"),x()))};o.useEffect(()=>{l.openDeleteModal>0&&h(!0)},[l.openDeleteModal]);function a(){}function x(){h(!1)}return e.jsx("div",{className:"",children:e.jsx(T,{isOpen:y,onAfterOpen:a,onRequestClose:x,style:_e,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-lg font-semibold",children:["Are you sure to Delete ? ",l.deleteRoleId," "]}),e.jsxs("p",{onClick:x,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(H,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsxs("button",{onClick:()=>f(l.deleteWorkflowId),className:"rounded-md bg-red-300 hover:bg-red-400 shadow-lg py-1.5 text-sm px-3 m-3",children:[" ","Yes, Delete"," "]}),e.jsxs("button",{onClick:x,className:"rounded-md bg-green-300 hover:bg-green-400 shadow-lg py-1.5 text-sm px-3 m-3",children:[" ","Cancel"," "]})]})]})})})}const Ee={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Ue(l){var R,j,c,L,v,U;const{refresh:N,setrefresh:w}=o.useContext($),{ulbWfUpdate:k,workflowListById:y}=O();let h=(R=l==null?void 0:l.editWorkflowId)==null?void 0:R.id;const[f,a]=o.useState();o.useEffect(()=>{var s,d;((s=l==null?void 0:l.editWorkflowId)==null?void 0:s.id)!=null&&A.post(y,{id:(d=l==null?void 0:l.editWorkflowId)==null?void 0:d.id},M()).then(C=>{var D;a((D=C==null?void 0:C.data)==null?void 0:D.data)}).catch(C=>{})},[(j=l==null?void 0:l.editWorkflowId)==null?void 0:j.id]);const x=G({workflowName:V().required("This is a required field !"),ulbName:V().required("This is a required field !"),isDocRequired:Q().required("This is a required field !")}),u=J({enableReinitialize:!0,initialValues:{workflowName:f==null?void 0:f.wf_master_id,ulbName:f==null?void 0:f.ulb_id,altName:f==null?void 0:f.alt_name,isDocRequired:f==null?void 0:f.is_doc_required,initiatorRoleName:f==null?void 0:f.initiator_role_id,finisherRoleName:f==null?void 0:f.finisher_role_id},onSubmit:s=>{S(s)},validationSchema:x}),[n,r]=P.useState(!1),_=M(),S=s=>{const d={id:h,wfMasterId:s.workflowName,ulbId:s.ulbName,altName:s.altName,isDocRequired:s.isDocRequired,initiatorRoleId:s.initiatorRoleName,finisherRoleId:s.finisherRoleName};A.post(k,d,_).then(C=>(B.success("ULB Workflow Updated successfully"),I(),w(N+1))).catch(C=>(B.error("Failed to Update the ULB Workflow"),I()))};o.useEffect(()=>{l.openModelForEdit>0&&r(!0)},[l.openModelForEdit]);function b(){}function I(){r(!1)}return e.jsx("div",{className:"",children:e.jsx(T,{isOpen:n,onAfterOpen:b,onRequestClose:I,style:Ee,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-lg font-semibold",children:["Edit ULB Workflow : ",h," "]}),e.jsxs("p",{onClick:I,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(H,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:u.handleSubmit,onChange:u.handleChange,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm font-semibold",children:["ULB Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"ulbName",value:u.values.ulbName,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),Array.isArray(l==null?void 0:l.ulbList)&&((c=l==null?void 0:l.ulbList)==null?void 0:c.map(s=>e.jsx(e.Fragment,{children:e.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.ulb_name})})))]}),e.jsx("p",{className:"text-red-500 text-xs",children:u.touched.ulbName&&u.errors.ulbName?u.errors.ulbName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm mt-2 font-semibold",children:["Workflow Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"workflowName",value:u.values.workflowName,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),Array.isArray(l==null?void 0:l.wfList)&&((L=l==null?void 0:l.wfList)==null?void 0:L.map(s=>e.jsx(e.Fragment,{children:e.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.workflow_name})})))]}),e.jsx("p",{className:"text-red-500 text-xs",children:u.touched.workflowName&&u.errors.workflowName?u.errors.workflowName:null})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm mt-2 font-semibold",children:"Alternate Name"}),e.jsx("input",{type:"text",name:"altName",value:u.values.altName,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter alternate name..."}),e.jsx("p",{className:"text-red-500 text-xs",children:u.touched.altName&&u.errors.altName?u.errors.altName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm mt-2 font-semibold",children:["Initiator Role Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"initiatorRoleName",value:u.values.initiatorRoleName,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),Array.isArray(l==null?void 0:l.roleList)&&((v=l==null?void 0:l.roleList)==null?void 0:v.map(s=>e.jsx(e.Fragment,{children:e.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.role_name})})))]}),e.jsx("p",{className:"text-red-500 text-xs",children:u.touched.initiatorRoleName&&u.errors.initiatorRoleName?u.errors.initiatorRoleName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm mt-2 font-semibold",children:["Finisher Role Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"finisherRoleName",value:u.values.finisherRoleName,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),Array.isArray(l==null?void 0:l.roleList)&&((U=l==null?void 0:l.roleList)==null?void 0:U.map(s=>e.jsx(e.Fragment,{children:e.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.role_name})})))]}),e.jsx("p",{className:"text-red-500 text-xs",children:u.touched.finisherRoleName&&u.errors.finisherRoleName?u.errors.finisherRoleName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-700 text-sm mt-2 font-semibold",children:["Is Document Required",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"isDocRequired",value:u.values.isDocRequired,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,children:"--Select--"}),e.jsx("option",{value:!0,children:"Yes"}),e.jsx("option",{value:!1,children:"No"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:u.touched.isDocRequired&&u.errors.isDocRequired?u.errors.isDocRequired:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"rounded-md bg-green-300 hover:bg-green-400  hover:text-black shadow-lg  py-1 text-sm px-3 m-3",children:[" ","Update"," "]})})]})})]})})})}function Be(l){le("ULB Workflow");const[N,w]=o.useState(0),[k,y]=o.useState(0),[h,f]=o.useState(0),[a,x]=o.useState(),[u,n]=o.useState(),[r,_]=o.useState(),[S,b]=o.useState(),[I,R]=o.useState(!1),[j,c]=o.useState(),[L,v]=o.useState(),{refresh:U,setrefresh:s}=o.useContext(ae),{allUlb:d,workflowList:C,allRole:D,ulbWfList:g}=O(),F="border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300",Y="border border-red-300 text-red-400 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white",X="float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl hover:bg-[#113766] hover:text-white text-white flex items-center";o.useEffect(()=>{A.post(C,{},M()).then(i=>{var m;_((m=i==null?void 0:i.data)==null?void 0:m.data)}).catch(i=>{}),A.get(d,M()).then(i=>{var m;b((m=i==null?void 0:i.data)==null?void 0:m.data)}).catch(i=>{}),A.post(D,{},M()).then(i=>{var m;v((m=i==null?void 0:i.data)==null?void 0:m.data)}).catch(i=>{})},[]);const t=i=>{y(m=>m+1),x(i)},E=i=>{f(m=>m+1),n(i)};o.useEffect(()=>{R(!0),A.post(g,{},M()).then(i=>{var m;c((m=i==null?void 0:i.data)==null?void 0:m.data),R(!1)}).catch(i=>{R(!1)})},[U]);const K=[{Header:"#",Cell:({row:i})=>e.jsx("div",{className:"pr-2",children:(i==null?void 0:i.index)+1})},{Header:"Workflow Name",accessor:"workflow_name"},{Header:"ULB Name",accessor:"ulb_name"},{Header:"Alternate Name",accessor:"alt_name",Cell:i=>{if((i==null?void 0:i.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((i==null?void 0:i.value)!=null)return i==null?void 0:i.value}},{Header:"Initiator Role Name",accessor:"initiator_role_name",Cell:i=>{if((i==null?void 0:i.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((i==null?void 0:i.value)!=null)return i==null?void 0:i.value}},{Header:"Finisher Role Name",accessor:"finisher_role_name",Cell:i=>{if((i==null?void 0:i.value)==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})});if((i==null?void 0:i.value)!=null)return i==null?void 0:i.value}},{Header:"Is Document Required",accessor:"is_doc_required",Cell:i=>e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[(i==null?void 0:i.value)==!1&&e.jsx("p",{className:"text-red-600 text-base font-semibold text-center px-5 py-1 rounded-md ",children:"No"}),(i==null?void 0:i.value)==!0&&e.jsx("p",{className:"text-green-600 text-base font-semibold px-4 py-1 rounded-md ",children:"Yes"})]})},{Header:"Created at",accessor:"created_at",Cell:({value:i})=>{if(i!=null)return xe(new Date(i),"dd/MM/yyyy");if(i==null)return e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("i",{className:"font-semibold ",children:"N/A"})})}},{Header:"Action",accessor:"id",Cell:({cell:i})=>e.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{var m;return E((m=i==null?void 0:i.row)==null?void 0:m.values)},className:F,children:"Edit"}),e.jsx("button",{onClick:()=>{var m,W;return t((W=(m=i==null?void 0:i.row)==null?void 0:m.values)==null?void 0:W.id)},className:Y,children:"Delete"})]})}];return e.jsxs(e.Fragment,{children:[e.jsx(Ae,{openAddNewWfUlbModal:N,wfList:r,ulbList:S,roleList:L}),e.jsx(Ue,{openModelForEdit:h,editWorkflowId:u,wfList:r,ulbList:S,roleList:L}),e.jsx(We,{openDeleteModal:k,deleteWorkflowId:a}),e.jsxs("div",{className:"poppins p-4 px-6",children:[e.jsx("div",{className:"uppercase font-semibold text-gray-700 text-2xl py-2 text-center tracking-[0.7rem]",children:"ULB   Workflow"}),e.jsx("div",{className:"w-full h-[0.15rem] bg-gray-400 mb-6"}),I&&e.jsx(p,{}),!I&&(j==null?void 0:j.length)!=null&&e.jsx(Z,{assessmentType:!1,columns:K,dataList:j,children:e.jsxs("button",{onClick:()=>w(N+1),className:X,children:[e.jsx(ee,{}),"  Add ULB Workflow"]})})]})]})}function De(l){const N=G({roleName:V().required("Enter menu role name")}),w=J({initialValues:{roleName:""},onSubmit:h=>{l==null||l.postRole(h)},validationSchema:N});o.useEffect(()=>{(l==null?void 0:l.modalState)===!0?addEditModal.showModal():addEditModal.close(),(l==null?void 0:l.currentSelectedId)!==null&&k()},[l==null?void 0:l.modalState]);const k=()=>{w.setFieldValue("roleName",l==null?void 0:l.currentSelectedName)},y=h=>{let f=h.target.name,a=h.target.value;f=="roleName"&&w.setFieldValue("roleName",ce(a,w.values.roleName,100))};return e.jsxs("dialog",{id:"addEditModal",className:"shadow-xl relative",children:[e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>{l==null||l.setmodalState(!1),l==null||l.setcurrentSelectedId(null),addEditModal.close()},className:"absolute top-1 right-3 text-xl p-2 w-8 h-8 rounded-lg hover:bg-red-100 hover:text-red-500 font-semibold flex justify-center items-center",children:"x"}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"font-semibold",children:"Add Menu Role "})})]}),e.jsx("div",{className:"w-full max-w-xs",children:e.jsxs("form",{onSubmit:w.handleSubmit,onChange:y,className:"bg-white  rounded px-8 pt-6 pb-8 mb-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm  mb-2",htmlFor:"rolename",children:"Role Name"}),e.jsx("input",{...w.getFieldProps("roleName"),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"rolename",type:"text"}),e.jsx("span",{className:"text-red-600",children:w.touched.roleName&&w.errors.roleName?w.errors.roleName:null})]}),e.jsx("div",{className:"flex items-center justify-between",children:l!=null&&l.addEditLoading?e.jsxs("button",{className:"w-full bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline flex justify-center items-center",type:"button",children:[" ",e.jsx(te,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}):e.jsx("button",{className:"w-full bg-[#1A4D8C]  hover:bg-[#113766] text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:(l==null?void 0:l.currentSelectedId)===null?"Save":"Update"})})]})})]})}function Ve(l){return o.useEffect(()=>{(l==null?void 0:l.mappingModal)===!0&&mappingModal.showModal()},[l==null?void 0:l.mappingModal]),e.jsx("dialog",{id:"mappingModal",className:"relative bg-transparent",children:e.jsxs("div",{className:"bg-white shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsx("div",{className:"flex flex-row-reverse",children:e.jsxs("span",{onClick:()=>{l==null||l.setmappingModal(!1),mappingModal.close()},className:"cursor-pointer rounded-full hover:bg-gray-400",children:[e.jsx(H,{size:25})," "]})}),e.jsxs("p",{className:"text-center text-xl",children:[l==null?void 0:l.title,e.jsx("span",{className:"font-semibold",children:l==null?void 0:l.roleName})]}),e.jsxs("div",{className:"text-center",children:[" ",(l==null?void 0:l.isLoadingMappingUpdate)&&e.jsx(te,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsx("div",{children:Array.isArray(l==null?void 0:l.menuListById)&&e.jsx(Z,{exportStatus:!1,searchText:"Menu",columns:l==null?void 0:l.columns,dataList:l==null?void 0:l.menuListById})})})]})})}function qe(l){return o.useEffect(()=>{(l==null?void 0:l.deleteModal)===!0?deleteModal.showModal():deleteModal.close()},[l==null?void 0:l.deleteModal]),e.jsx("dialog",{id:"deleteModal",className:"relative bg-transparent",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl border-2 border-gray-50",children:[e.jsx("button",{onClick:()=>{l==null||l.setdeleteModal(!1),deleteModal.close()},type:"button",className:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-800 darks:hover:text-white",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsxs("div",{className:"w-full flex h-10",children:[" ",e.jsx("span",{className:"mx-auto",children:e.jsx(me,{size:30})})]}),e.jsx("h3",{className:"mb-5 text-lg font-normal text-gray-500 darks:text-gray-400",children:"Are you sure to delete ?"}),l!=null&&l.deleteLoading?e.jsxs("button",{className:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 darks:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",type:"button",children:[" ",e.jsx(te,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}):e.jsx("button",{type:"button",className:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 darks:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:l==null?void 0:l.enableDisableUser,children:"Yes, I'm sure"})]})]})})}function Oe(){const[l,N]=o.useState(!1),[w,k]=o.useState(!1),[y,h]=o.useState(!1),[f,a]=o.useState(null),[x,u]=o.useState(!1),[n,r]=o.useState(!1),[_,S]=o.useState(!1),[b,I]=o.useState(!1),[R,j]=o.useState(null),[c,L]=o.useState(null),[v,U]=o.useState(null),[s,d]=o.useState([{menu_string:"Home",menuId:1,permission_status:!0}]);le("Workflow Role",!0);const{getWorkflowRole:C,api_PostWorkflowRole:D,api_deleteWorkflowRole:g,api_updateWorkflowRole:F}=fe(),Y=[{Header:"Sl.",Cell:({row:m})=>e.jsx("div",{className:"px-1",children:(m==null?void 0:m.index)+1})},{Header:"Workflow Name",accessor:"menu_string"},{Header:"Permission",accessor:"permission_status",Cell:m=>e.jsx("div",{className:"",children:e.jsx("input",{type:"checkbox",value:W=>W.target.value,className:"cypress_addressCheckbox w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})}],X=[{Header:"#",Cell:({row:m})=>e.jsx("div",{className:"pr-2",children:m.index+1})},{Header:"Workflow Role Name",accessor:"role_name"},{Header:"Created by",accessor:"created_by"},{Header:"Status",accessor:"is_suspended",Cell:m=>e.jsxs("p",{children:[m.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Suspended"}),m.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"})]})},{Header:"Action",accessor:"id",Cell:({cell:m})=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var W,q;L((W=m.row.values)==null?void 0:W.id),U((q=m.row.values)==null?void 0:q.menu_role_name),N(!0)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300 ",children:"Edit"}),e.jsx("button",{onClick:()=>{var W;L((W=m.row.values)==null?void 0:W.id),h(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Delete"})]})}],t=()=>{u(!0),A.post(C,{},M()).then(function(m){var W,q;(W=m==null?void 0:m.data)!=null&&W.status?a((q=m==null?void 0:m.data)==null?void 0:q.data):a(null)}).catch(function(m){}).finally(()=>{u(!1)})},E=()=>{S(!0);let m={id:c};A.post(g,m,M()).then(function(W){var q,z;(q=W==null?void 0:W.data)!=null&&q.status?(h(!1),t()):i(!0,(z=res==null?void 0:res.data)==null?void 0:z.message)}).catch(function(W){i(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{S(!1),L(null)})},K=m=>{r(!0);let W=D,q={roleName:m==null?void 0:m.roleName};c!==null&&(q.id=c,q.isSuspended=!1,W=F),A.post(W,q,M()).then(function(z){var se,re;(se=z==null?void 0:z.data)!=null&&se.status?(N(!1),t()):i(!0,(re=res==null?void 0:res.data)==null?void 0:re.message)}).catch(function(z){i(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{r(!1),L(null),U(null)})};o.useEffect(()=>{t()},[]);const i=(m,W)=>{j(W),I(m)};return e.jsxs(e.Fragment,{children:[b&&e.jsx(he,{activateBottomErrorCard:i,errorTitle:R}),x&&e.jsx(te,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0}),e.jsx(De,{currentSelectedId:c,setcurrentSelectedId:L,currentSelectedName:v,postRole:K,addEditLoading:n,setmodalState:N,modalState:l}),e.jsx(Ve,{title:"Workflow Role Mapping",setmappingModal:k,mappingModal:w,columns:Y,menuList:s}),e.jsx(qe,{deleteLoading:_,enableDisableUser:E,setdeleteModal:h,deleteModal:y}),x&&e.jsx(p,{}),!x&&f!==null&&e.jsx("div",{className:"px-4 pt-4",children:e.jsx(Z,{exportStatus:!1,assessmentType:!1,columns:X,dataList:f,children:e.jsxs("button",{onClick:()=>N(!0),className:"float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl  hover:bg-[#113766] hover:text-white text-white flex items-center",children:[e.jsx(ee,{})," Add Role"]})})})]})}function nl(){const[l,N]=o.useState(0),w=[{title:"Workflow Master",tabIndex:0},{title:"ULB Workflow",tabIndex:1},{title:"Workflow Role Map",tabIndex:2},{title:"Workflow Role",tabIndex:3}],k=y=>{N(y)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 rounded-lg mt-4 shadow-xl broder-2 border-sky-200 bg-gray-200",children:[e.jsx("div",{className:"col-span-12 md:col-span-12 bg-white mb-1 py-2",children:e.jsx(oe,{tabs:w,fun:k})}),l==0&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(Me,{})," "]}),l==1&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(Be,{})," "]}),l==2&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(ve,{})," "]}),l==3&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(Oe,{})," "]})]})})}export{nl as default};
