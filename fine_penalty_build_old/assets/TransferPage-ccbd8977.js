import{r as i,d as j,a as D,f as n,j as I,P as S}from"./index-8cdc4c93.js";import{A as B}from"./ApiHeader-6d683756.js";import{B as E}from"./BarLoader-f0e3c7ec.js";import{A as P}from"./AxiosInterceptors-e4e943bb.js";function M(){const{api_getFreeMenuList:g}=S(),{setmenuList:L,setuserDetails:x}=i.useContext(j),e=D(),[A,u]=i.useState(!1);i.useEffect(()=>{let a=window.localStorage.getItem("token");if(u(!0),a==null){e("/");return}h()},[]);const h=()=>{let a={moduleId:14};P.post(g,a,B()).then(function(t){var r,o,d,f,c,l,m,s;t.data.status==!0&&(n("menuList",(o=(r=t==null?void 0:t.data)==null?void 0:r.data)==null?void 0:o.permission),n("userDetails",(f=(d=t==null?void 0:t.data)==null?void 0:d.data)==null?void 0:f.userDetails),L((l=(c=t==null?void 0:t.data)==null?void 0:c.data)==null?void 0:l.permission),x((s=(m=t==null?void 0:t.data)==null?void 0:m.data)==null?void 0:s.userDetails),e("/home"))}).catch(function(t){}).finally(()=>u(!1))};if(A)return I.jsx(E,{})}export{M as default};
