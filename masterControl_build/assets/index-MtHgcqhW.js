import{r as a,i as D,j as e,B as h,m as E,h as ae}from"./index-BOd1yYiR.js";import{a as re}from"./index-DXeckOon.js";import{C as F,d as O,b as ce,a as de,c as ie}from"./card-C5Njr2qE.js";import{a as A,T as _,b as $,c as S,d as r,e as B,f as c,S as H}from"./Spinner-BL_a21M1.js";import{c as U,b as o,a as te,o as ne,F as oe,S as ue,B as xe}from"./SelectField-Dcb70mjz.js";import"./input-f69tkrXX.js";import{L as he}from"./label-DkJBltr-.js";import{F as X,b as q,P as z,D as je,c as me,d as ge,X as pe}from"./dialog-DBsRwzcB.js";import{d as fe,e as Pe,f as Ne,g as se}from"./tabs-BcjIvRzH.js";import"./createLucideIcon-CeE6w5A9.js";U().shape({ulbId:o(),moduleId:o(),complaintRefNo:o()});function ve(){var x,f,d;const[b,G]=a.useState(1),[u,J]=a.useState(10),[y,I]=a.useState(!1),[K,j]=a.useState(""),[Q,m]=a.useState(!1),[W,g]=a.useState(!1),[V,N]=a.useState(null),[C,p]=a.useState(1),[w,v]=a.useState(10),L=100,T=s=>{p(s)},M=s=>{v(s),p(1)},l=D({api:(x=E)==null?void 0:x.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),i=s=>{N(s),g(!0)};return e.jsx("main",{className:"grid items-start ",children:e.jsx("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:e.jsx(F,{className:"",children:e.jsx(O,{children:l.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(A,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(_,{children:[e.jsx($,{children:e.jsxs(S,{children:[e.jsx(r,{className:"",children:"#"}),e.jsx(r,{className:"",children:"Menu"}),e.jsx(r,{className:"",children:"Path"}),e.jsx(r,{className:"",children:"Serial"}),e.jsx(r,{className:"",children:"Actions"})]})}),e.jsx(B,{children:(d=(f=l==null?void 0:l.data)==null?void 0:f.data)==null?void 0:d.map((s,P)=>e.jsxs(S,{children:[e.jsx(c,{children:b*u-u+P+1}),e.jsx(c,{children:s==null?void 0:s.menu_string}),e.jsx(c,{children:s==null?void 0:s.route}),e.jsx(c,{children:s==null?void 0:s.serial}),e.jsxs(c,{children:[e.jsxs(h,{variant:"secondary",onClick:()=>{j(s==null?void 0:s.id),m(!0),I(!0)},children:[e.jsx(X,{})," Edit"]}),e.jsxs(h,{onClick:()=>i(s),className:"ml-2",variant:"secondary",children:[e.jsx(q,{})," View"]})]})]},s==null?void 0:s.id))})]}),e.jsx(H,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(z,{currentPage:C,totalItems:L,itemsPerPage:w,onPageChange:T,onItemsPerPageChange:M})})]})})})})})}const Se=U().shape({ulbId:o(),moduleId:o(),complaintRefNo:o()});function be(){var f,d,s,P,k;const[b,G]=a.useState(1),[u,J]=a.useState(10),[y,I]=a.useState(!1),[K,j]=a.useState(""),[Q,m]=a.useState(!1),[W,g]=a.useState(!1),[V,N]=a.useState(null),[C,p]=a.useState(1),[w,v]=a.useState(10),L=100,T=n=>{p(n)},M=n=>{v(n),p(1)},l=te({resolver:ne(Se),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}}),i=ae({api:`${(f=E)==null?void 0:f.serviceList}?module=${(d=l==null?void 0:l.watch())==null?void 0:d.moduleId}`,key:"serviceMasterList",options:{enabled:!0}});console.log("the service maste rlist..",i);const x=n=>{N(n),g(!0)};return e.jsx("main",{className:"grid items-start",children:e.jsx("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:e.jsx(F,{children:e.jsx(O,{children:i.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(A,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(_,{children:[e.jsx($,{children:e.jsxs(S,{children:[e.jsx(r,{className:"",children:"#"}),e.jsx(r,{className:"",children:"Service"}),e.jsx(r,{className:"",children:"Actions"})]})}),e.jsx(B,{children:(k=(P=(s=i==null?void 0:i.data)==null?void 0:s.data)==null?void 0:P.data)==null?void 0:k.map((n,R)=>e.jsxs(S,{children:[e.jsx(c,{children:b*u-u+R+1}),e.jsx(c,{children:n==null?void 0:n.service_name}),e.jsxs(c,{children:[e.jsxs(h,{variant:"secondary",onClick:()=>{j(n==null?void 0:n.id),m(!0),I(!0)},children:[e.jsx(X,{})," Edit"]}),e.jsxs(h,{onClick:()=>x(n),className:"ml-2",variant:"secondary",children:[e.jsx(q,{})," View"]})]})]},n==null?void 0:n.id))})]}),e.jsx(H,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(z,{currentPage:C,totalItems:L,itemsPerPage:w,onPageChange:T,onItemsPerPageChange:M})})]})})})})})}const ye=U().shape({ulbId:o(),moduleId:o(),complaintRefNo:o()});function Ie(){var s,P,k,n,R,Y,Z,ee;const[b,G]=a.useState(1),[u,J]=a.useState(10),[y,I]=a.useState(!1),[K,j]=a.useState(!1),[Q,m]=a.useState(""),[W,g]=a.useState(!1),[V,N]=a.useState(1),[C,p]=a.useState(10),[w,v]=a.useState(!1),L=100,T=t=>{N(t)},M=t=>{p(t),N(1)},l=te({resolver:ne(ye),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}}),i=async t=>{d==null||d.refetch()},x=D({api:(s=E)==null?void 0:s.getMenuRoleList,key:"menuRoleList",options:{enabled:!0}}),f=D({api:(P=E)==null?void 0:P.userManagementModuleList,key:"moduleMasterList",options:{enabled:!0}}),d=ae({api:`${(k=E)==null?void 0:k.serviceList}?module=${(n=l==null?void 0:l.watch())==null?void 0:n.moduleId}`,key:"serviceList",options:{enabled:!0}});return e.jsx("main",{className:"grid items-start",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsxs(je,{open:w,children:[e.jsx(me,{}),e.jsxs(ge,{className:"sm:max-w-[1200px] h-auto max-h-[700px] overflow-scroll",children:[e.jsxs(ce,{className:"mt-4 text-xl text-gray-500 font-bold flex justify-between",children:[e.jsxs("div",{children:["Role : ",e.jsx("span",{className:"font-bold text-lg text-yellow-500",children:y==null?void 0:y.menu_role_name})]}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(pe,{className:"cursor-pointer hover:bg-red-100 rounded-lg inline",onClick:()=>v(!1)})})})]}),e.jsxs(fe,{defaultValue:"MENULIST",className:"w-full",children:[e.jsxs("div",{className:"py-4 flex justify-between",children:[e.jsx(Pe,{className:"grid w-auto grid-cols-2",children:e.jsx(Ne,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"MENULIST",children:"Permitted Menu List"})}),e.jsx("div",{children:e.jsx("div",{className:"flex justify-end ",children:e.jsx(h,{type:"button",className:"flex items-center gap-2",onClick:()=>{m(""),g(!1),j(!0)},children:"Add More Menu Permission"})})})]}),e.jsx(se,{value:"MENULIST",children:e.jsx(ve,{})}),e.jsx(se,{value:"SERVICE_LIST",children:e.jsx(be,{})})]})]})]}),e.jsxs(F,{children:[e.jsx(oe,{methods:l,onSubmit:l.handleSubmit(i),children:e.jsxs("div",{className:"grid grid-cols-4 gap-x-2 gap-y-4 bg-background px-10 pt-4",children:[e.jsxs("div",{children:[e.jsx(he,{htmlFor:"moduleId",children:"Module name"}),e.jsx(ue,{className:"cursor-pointer bg-background",name:"moduleId",data:((Y=(R=f.data)==null?void 0:R.data)==null?void 0:Y.map(t=>({value:t==null?void 0:t.id,label:t==null?void 0:t.module_name})))??[]})]}),e.jsx("div",{className:"mt-6 flex justify-start",children:e.jsx(xe,{variant:"secondary",isLoading:l.formState.isSubmitting,type:"submit",className:"float-right w-auto px-10",children:"Search"})}),e.jsx("div",{className:"mt-6 flex justify-end "}),e.jsx("div",{className:"mt-6 flex justify-end ",children:e.jsx(h,{type:"button",className:"flex items-center gap-2",onClick:()=>{m(""),g(!1),j(!0)},children:"Add New"})})]})}),e.jsx(de,{className:"px-7",children:e.jsx(ie,{})}),e.jsx(O,{children:d.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(A,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(_,{children:[e.jsx($,{children:e.jsxs(S,{children:[e.jsx(r,{className:"",children:"#"}),e.jsx(r,{className:"",children:"Role"}),e.jsx(r,{className:"",children:"Actions"})]})}),e.jsx(B,{children:(ee=(Z=x==null?void 0:x.data)==null?void 0:Z.data)==null?void 0:ee.map((t,le)=>e.jsxs(S,{children:[e.jsx(c,{children:b*u-u+le+1}),e.jsx(c,{children:t==null?void 0:t.menu_role_name}),e.jsxs(c,{children:[e.jsxs(h,{variant:"secondary",onClick:()=>{m(t==null?void 0:t.id),g(!0),j(!0)},children:[e.jsx(X,{})," Edit"]}),e.jsxs(h,{variant:"secondary",onClick:()=>{I(t),v(!0)},className:"ml-2",children:[e.jsx(q,{})," View"]})]})]},t==null?void 0:t.id))})]}),e.jsx(H,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(z,{currentPage:V,totalItems:L,itemsPerPage:C,onPageChange:T,onItemsPerPageChange:M})})]})})]})]})})}function Fe(){return e.jsx(re,{title:"Menu Role List",subTitle:"Control all Module here",children:e.jsx("div",{children:e.jsx(Ie,{})})})}export{Fe as default};
