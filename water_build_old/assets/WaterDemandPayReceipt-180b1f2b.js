import{l as f,v as P,W as C,q as R,R as a,h as o,k as l,o as S,j as s,w as d}from"./index-e0cf29e0.js";import{C as T}from"./ComponentToPrint-5b01e8ff.js";import{Q as O}from"./QrCode-b27d6f03.js";function F(){var c,i,n,h,t,N;const[e,m]=f.useState(),{transactionId:x}=P(),{api_waterConsumerPaymentReceipt:g,header:b}=C();f.useEffect(()=>{u()},[]);const u=()=>{R.post(g,{transactionNo:x},b).then(r=>{r.data.status?(console.log("Consumer Payment Data for receipt",r.data.data),m(r.data.data)):console.log("Error while getting consumer data for receipt")}).catch(r=>{console.log("Exception while getting consumer receipt",r)})},v=a.useCallback(()=>(e==null?void 0:e.paymentMode)==="Cash"?"Cash":(e==null?void 0:e.paymentMode)==="Cheque"?"Cheque No: "+(e==null?void 0:e.chequeNo)+" Dated: "+(e==null?void 0:e.chequeDate):(e==null?void 0:e.paymentMode)==="DD"?"DD No: "+(e==null?void 0:e.chequeNo)+" Dated: "+(e==null?void 0:e.chequeDate):(e==null?void 0:e.paymentMode)==="Neft"?"NEFT No: "+(e==null?void 0:e.neftNo)+" Dated: "+(e==null?void 0:e.neftDate):(e==null?void 0:e.paymentMode)==="Online"?"Online Payment":(e==null?void 0:e.paymentMode)==="POS"?"POS Payment":(e==null?void 0:e.paymentMode)==="RTGS"?"RTGS No: "+(e==null?void 0:e.rtgsNo)+" Dated: "+(e==null?void 0:e.rtgsDate):(e==null?void 0:e.paymentMode)==="UPI"?"UPI No: "+(e==null?void 0:e.upiNo)+" Dated: "+(e==null?void 0:e.upiDate):(e==null?void 0:e.paymentMode)==="IMPS"?"IMPS No: "+(e==null?void 0:e.impsNo)+" Dated: "+(e==null?void 0:e.impsDate):(e==null?void 0:e.paymentMode)==="BHIM"?"BHIM No: "+(e==null?void 0:e.bhimNo)+" Dated: "+(e==null?void 0:e.bhimDate):(e==null?void 0:e.paymentMode)==="BHARAT"?"BHARAT No: "+(e==null?void 0:e.bharatNo)+" Dated: "+(e==null?void 0:e.bharatDate):(e==null?void 0:e.paymentMode)==="CARD"?"Card Payment":(e==null?void 0:e.paymentMode)==="OTHER"?"Other Payment":"N/A",[e]),w=a.useCallback(()=>e!=null&&e.holdingNo?"Holding No: "+(e==null?void 0:e.holdingNo):"SAF No: "+(e==null?void 0:e.safNo),[e==null?void 0:e.holdingNo]),A=`
[C]`+JSON.parse(localStorage.getItem("userUlbName"))+`
[C]Water Payment Receipt
 
Receipt no: `+(e==null?void 0:e.transactionNo)+`
Description: `+(e==null?void 0:e.accountDescription)+`
`+w()+`
Date: `+o(e==null?void 0:e.transactionDate).format("DD/MM/yy")+`
Ward No: `+(e==null?void 0:e.WardNo)+`
Consumer No: `+(e==null?void 0:e.consumerNo)+`
Received From: `+(e==null?void 0:e.customerName)+`
Mobile No: `+(e==null?void 0:e.customerMobile)+`
Address: `+(e==null?void 0:e.address)+`
Paid Amount: `+(e==null?void 0:e.totalPaidAmount)+`
A Sum of Rs. (in words): `+(e==null?void 0:e.paidAmtInWords)+`
Towards: `+(e==null?void 0:e.towards)+`
`+v()+`
********************************

[C]Thank You!
[C]For More Details Please

`,M=()=>{window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({Key:"PRINT_FOR_BT_PRINTER",keyData:{charPerLine:32,printTxt:A}}))};return l(S,{children:[window.ReactNativeWebView&&s("div",{className:"p-5",children:s("button",{onClick:M,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold p-1 px-2 rounded",children:"Print"})}),s(T,{content:s("div",{children:l("div",{className:"border-2 border-dashed border-gray-600  bg-white p-6 w-[250mm] h-auto ml-12 md:mx-auto lg:mx-auto container ",children:[l("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 ",children:[s("div",{className:"",children:s("img",{src:(c=d())==null?void 0:c.ulb_logo,className:"h-20 mx-auto"})}),s("div",{className:"flex justify-center items-center w-full h-full relative",children:s("img",{src:(i=d())==null?void 0:i.state_logo,alt:"",className:" w-80 h-80  top-60 absolute bg-transparent opacity-20  rounded-full border"})})]}),s("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 p-3 ",children:s("div",{className:"",children:s("h1",{className:"font-bold text-2xl text-center uppercase",children:(n=d())==null?void 0:n.ulb_name})})}),s("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 p-2 ",children:s("div",{className:"mx-auto",children:s("h1",{className:"font-semibold text-2xl text-center text-gray-800 border border-gray-700 w-[24rem] uppercase",children:"water user charge payment receipt"})})}),s("div",{children:s("table",{className:"w-full  p-2 ",children:l("tr",{className:"",children:[l("td",{className:" ",children:[l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Receipt No. :"}),s("h1",{className:"flex font-sans  pl-2",children:(e==null?void 0:e.transactionNo)||"N/A"})]}),l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Department/Section :"}),s("h1",{className:"flex font-sans pl-2 ",children:(e==null?void 0:e.accountDescription)||"N/A"})]}),l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Account Description :"}),s("h1",{className:"flex font-sans pl-2 ",children:"Water User Charge"})]}),(e==null?void 0:e.holdingNo)&&l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Holding No. :"}),s("h1",{className:"flex font-sans pl-2 ",children:(e==null?void 0:e.holdingNo)||"N/A"})]}),(e==null?void 0:e.safNo)&&l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Holding No. :"}),s("h1",{className:"flex font-sans pl-2 ",children:(e==null?void 0:e.safNo)||"N/A"})]})]}),l("td",{className:" ",children:[l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Date :"}),s("h1",{className:"flex font-sans pl-2 ",children:o(e==null?void 0:e.transactionDate).format("DD/MM/yy")||"N/A"})]}),l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Ward No. :"}),s("h1",{className:"flex font-sans pl-2 ",children:(e==null?void 0:e.WardNo)||"N/A"})]}),l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Consumer No. :"}),s("h1",{className:"flex font-sans pl-2 ",children:(e==null?void 0:e.consumerNo)||"N/A"})]}),s("div",{className:"flex p-1 text-sm"}),s("div",{className:"flex p-1 text-sm"}),s("div",{className:"flex p-1 text-sm"}),s("div",{className:"flex p-1 text-sm"}),s("div",{className:"flex p-1 text-sm",children:" "})]})]})})}),s("div",{children:s("table",{className:"w-full  p-2",children:s("tr",{className:"",children:l("td",{className:" ",children:[l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Received From Mr/Mrs/Miss :"}),s("h1",{className:"flex font-sans  pl-2",children:(e==null?void 0:e.customerName)||"N/A"})]}),l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Mobile No. :"}),s("h1",{className:"flex font-sans  pl-2",children:(e==null?void 0:e.customerMobile)||"N/A"})]}),l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Address :"}),s("h1",{className:"flex font-sans pl-2 ",children:e==null?void 0:e.address})]}),l("div",{className:"flex p-1 text-sm",children:[l("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:["A Sum of Rs. (in words) :"," "]}),s("h1",{className:"flex font-sans pl-2 ",children:(e==null?void 0:e.paidAmtInWords)||"N/A"})]}),l("div",{className:"flex p-1 text-sm",children:[l("h1",{className:"flex text-gray-900 font-sans font-semibold",children:["Towards :"," ",s("span",{className:" font-sans font-normal ml-1",children:(e==null?void 0:e.towards)||"N/A"})]}),l("h1",{className:"flex text-gray-900 font-sans font-semibold  ml-8 ",children:["Vide :"," ",s("span",{className:" font-sans font-normal ml-1",children:(e==null?void 0:e.paymentMode)||"N/A"})]})]}),(e==null?void 0:e.chequeNo)&&l("div",{className:"flex p-1 text-sm",children:[l("h1",{className:"flex text-gray-900 font-sans ",children:["Cheque No :"," ",s("span",{className:" w-24 font-sans font-semibold ml-1 border-b border-dashed border-gray-600",children:(e==null?void 0:e.chequeNo)||"N/A"})]}),l("h1",{className:"flex text-gray-900 font-sans ",children:["Dated :"," ",s("span",{className:"w-24 font-sans font-semibold ml-1 border-b border-dashed border-gray-600",children:(e==null?void 0:e.chequeDate)||"N/A"})]})]}),(e==null?void 0:e.bankName)&&l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-sans",children:"Drawn on"}),s("h1",{className:"flex w-72 font-sans font-semibold ml-1 border-b border-dashed border-gray-600",children:(e==null?void 0:e.bankName)||"N/A"}),s("h1",{className:"flex text-gray-900 font-sans",children:"Branch Name"}),s("h1",{className:"flex w-40 font-sans font-semibold ml-1 border-b border-dashed border-gray-600",children:(e==null?void 0:e.branchName)||"N/A"})]}),l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Water Consumed (in K.L.) :"}),s("h1",{className:"flex font-sans pl-2 ",children:e==null?void 0:e.waterConsumed})]}),l("div",{className:"flex p-1 text-sm",children:[s("h1",{className:"flex text-gray-900 font-semibold font-sans ",children:"Fixed :"}),l("h1",{className:"flex font-sans pl-2 ",children:["Period from :"," ",(e==null?void 0:e.fixedPaidFrom)||"N/A"," ","  to : "," ",(e==null?void 0:e.fixedPaidUpto)||"N/A"]})]})]})})})}),s("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 p-2",children:s("div",{className:"",children:s("h1",{className:"font-bold text-md text-left ",children:"N.B. Online Payment/Cheque/Draft/Bankers Cheque are Subject to Realisation"})})}),s("div",{className:"grid grid-col-1 md:grid-col-12 xl:grid-col-12 p-2 -mt-1",children:s("div",{className:"",children:s("h1",{className:"font-bold text-sm text-left ",children:"WATER CONNECTION FEE DETAILS"})})}),s("div",{children:l("table",{className:"w-full border border-gray-500 ",children:[s("thead",{className:" w-full",children:l("tr",{className:"border border-gray-500 text-sm font-sans font-bold text-center ",children:[s("td",{colSpan:2,className:"border-r border-gray-500 w-72",children:s("h1",{className:" ",children:"Description "})}),s("td",{colSpan:1,className:" border-gray-500 w-72",children:s("h1",{className:"",children:"Total Amount "})})]})}),l("tbody",{children:[l("tr",{className:"border border-gray-500 text-sm font-sans  ",children:[s("td",{colSpan:2,className:"border-r border-gray-500 w-72",children:l("h1",{className:"text-left ml-2 ",children:[" ","Period: From"," ",l("span",{className:"font-semibold",children:[" ",o(e==null?void 0:e.paidFrom).format("DD/MM/YYYY")]})," ","To"," ",l("span",{className:"font-semibold",children:[" ",o(e==null?void 0:e.paidUpto).format("DD/MM/YYYY")]})]})}),s("td",{colSpan:1,className:" border-gray-500 w-72",children:l("h1",{className:" text-right mr-2",children:[e==null?void 0:e.totalPaidAmount," "]})})]}),l("tr",{className:"border border-gray-500 text-sm font-sans text-center ",children:[s("td",{colSpan:2,className:"border-r border-gray-500 w-72",children:s("h1",{className:"text-left ml-2 ",children:"Penalty"})}),s("td",{colSpan:1,className:" border-gray-500 w-72",children:s("h1",{className:" text-right mr-2",children:e==null?void 0:e.penaltyAmount})})]}),l("tr",{className:"border border-gray-500 text-sm font-sans text-center ",children:[s("td",{colSpan:2,className:"border-r border-gray-500 w-72",children:s("h1",{className:" text-left ml-2",children:"Rebate"})}),s("td",{colSpan:1,className:" border-gray-500 w-72",children:s("h1",{className:" text-right mr-2",children:e==null?void 0:e.rebate})})]}),l("tr",{className:"border border-gray-500 text-sm font-sans text-center ",children:[s("td",{colSpan:2,className:"border-r border-gray-500 w-72",children:l("h1",{className:"text-left ml-2 ",children:["Paid Amount ",l("span",{className:"text-xs ml-5",children:["( ",e==null?void 0:e.paidAmtInWords," Only )"]})]})}),s("td",{colSpan:1,className:" border-gray-500 w-72",children:s("h1",{className:"text-right mr-2",children:e==null?void 0:e.totalPaidAmount})})]}),l("tr",{className:"border border-gray-500 text-sm font-sans text-center ",children:[s("td",{colSpan:2,className:"border-r border-gray-500 w-72",children:s("h1",{className:"text-left ml-2 ",children:"Due Amount"})}),s("td",{colSpan:1,className:" border-gray-500 w-72",children:s("h1",{className:" text-right mr-2",children:e==null?void 0:e.dueAmount})})]})]})]})}),s("div",{children:s("table",{className:"w-full mt-2 ",children:s("tr",{className:"",children:l("td",{className:" ",children:[s("div",{className:"",children:s(O,{url:window.location.href,size:"64"})}),s("div",{className:"flex",children:l("h1",{className:"flex text-gray-900 font-sans text-sm",children:["For Details Please Visit : ",(h=d())==null?void 0:h.website]})}),s("div",{className:"flex ",children:l("h1",{className:"flex text-gray-900 font-sans text-sm",children:["Or Call us at ",(t=d())==null?void 0:t.mobile_no," OR"," ",(N=d())==null?void 0:N.mobile_no_2]})})]})})})}),s("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 p-2 mt-2",children:s("div",{className:"",children:s("h1",{className:"font-semibold text-sm text-center ",children:"** This is a computer-generated receipt and it does not require a physical signature. **"})})}),s("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12",children:s("div",{className:"",children:s("img",{src:"https://zeevector.com/wp-content/uploads/LOGO/Swachh-Bharat-Logo-PNG.png",className:"w-36 mx-auto"})})})]})})})]})}export{F as default};
