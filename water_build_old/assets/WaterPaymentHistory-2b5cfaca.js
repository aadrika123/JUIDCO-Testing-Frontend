import{l as c,v as k,m as q,H as R,W as j,k as r,o as z,j as t,D as B,h as d,q as a}from"./index-e0cf29e0.js";import{W as I}from"./WaterTopButtons-70aa3fcf.js";const O=()=>{var g,f,y,p,b,v;const[e,Y]=c.useState(),[n,C]=c.useState(""),[P,o]=c.useState(!1);c.useState();const[i,S]=c.useState(!1),{id:x}=k(),h=q();R("Water Payment History");const{api_waterConsumerPaymentHistory:T,api_waterApprovedApplicationDetails:W,header:N}=j(),H=()=>{o(!0),a.post(W,{id:x},N).then(function(s){console.log("water Approved Application Details",s.data.data),Y(s.data.data),o(!1)}).catch(function(s){console.log("Error : water Approved Application Details",s),o(!1)})},E=()=>{o(!0),a.post(T,{consumerId:x},N).then(function(s){s.data.status?(console.log("water payment history",s.data.data),C(s.data.data),o(!1)):(console.log("No Data Found..",s),S(s.data.message))}).catch(function(s){console.log("Error : water payment history",s),o(!1)})};return c.useEffect(()=>{H(),E()},[x]),console.log("readyMadeListData11",n),console.log("readyMadeListData?.connection",n==null?void 0:n.connection),r(z,{children:[t(I,{active:"payment",consumerNo:e==null?void 0:e.consumer_no}),t("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container mx-auto w-full",children:r("div",{className:"col-span-12 rounded-lg p-4",children:[t("div",{className:"",children:r("div",{className:"max-sm:flex py-6 mt-2 bg-white rounded-lg shadow-lg p-4",children:[r("div",{className:"flex max-sm:flex-col max-sm:space-y-2 pl-4 ",children:[r("div",{className:"flex-1",children:[r("div",{className:"font-semibold text-md",children:[e!=null&&e.connection_type?e==null?void 0:e.connection_type:"N/A"," "]}),t("div",{className:"text-gray-500 text-xs",children:"Connection Type"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:e!=null&&e.ward_name?e==null?void 0:e.ward_name:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Ward No."})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:e!=null&&e.owner_char_type?e==null?void 0:e.owner_char_type:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Ownership Type"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:e!=null&&e.property_type?e==null?void 0:e.property_type:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Property Type"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:e!=null&&e.rule_set?e==null?void 0:e.rule_set:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Rule Set"})]})]}),r("div",{className:"flex max-sm:flex-col max-sm:space-y-2 pl-4 max-sm:mt-0 max-sm:ml-5 mt-4",children:[r("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:e!=null&&e.pipeline_type?e==null?void 0:e.pipeline_type:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Pipeline Type"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:e!=null&&e.connection_through?e==null?void 0:e.connection_through:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Connection Through"})]}),(e==null?void 0:e.connection_through)=="SAF"?r("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:e!=null&&e.saf_no?e==null?void 0:e.saf_no:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"SAF No"})]}):r("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:e!=null&&e.holding_no?e==null?void 0:e.holding_no:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Holding No"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:e!=null&&e.area_sqft?e==null?void 0:e.area_sqft:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Area (Sqft.)"})]}),r("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:e!=null&&e.category?e==null?void 0:e.category:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Category"})]})]})]})}),P&&t(B,{})," ",i&&t("div",{className:"text-center mt-10",children:r("span",{className:"text-red-600 font-bold text-lg px-4 py-2 border border-red-500  shadow-xl capitalize max-sm:border-white max-sm:shadow-none",children:[" ",i]})}),((g=n==null?void 0:n.Consumer)==null?void 0:g.length)<=0&&((f=n==null?void 0:n.connection)==null?void 0:f.length)<=0?t("div",{className:"text-center mt-10",children:t("span",{className:"text-red-600 font-bold text-lg px-4 py-2 border border-red-500  shadow-xl capitalize",children:" No Payments Found Yet"})}):(n==null?void 0:n.length)!=0&&t("div",{className:"mt-10 bg-white shadow-xl  rounded-lg",children:r("table",{className:"min-w-full leading-normal mt-2",children:[t("thead",{className:"font-bold text-left text-sm bg-white text-gray-900",children:r("tr",{children:[t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Transaction No"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Payment Mode"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Date"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Type"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Paid For"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Amount"}),t("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Action"})]})}),r("tbody",{className:"text-sm",children:[((y=n==null?void 0:n.Consumer)==null?void 0:y.length)>0&&((p=n==null?void 0:n.Consumer)==null?void 0:p.map((s,l)=>{var m,w,_,A,u;return r("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[t("td",{className:"px-2 py-2 text-sm text-left",children:l+1}),t("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.tran_no}),t("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.payment_mode}),r("td",{className:"px-2 py-2 text-sm text-left",children:[" ",(m=d(s==null?void 0:s.tran_date))==null?void 0:m.format("DD/MM/YYYY")]}),t("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.tran_type}),r("td",{className:"px-2 py-2 text-sm text-left",children:[(_=d((w=s==null?void 0:s.demand)==null?void 0:w.demand_from))==null?void 0:_.format("DD/MM/YYYY")," - ",(u=d((A=s==null?void 0:s.demand)==null?void 0:A.demand_upto))==null?void 0:u.format("DD/MM/YYYY")]}),t("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.amount}),t("td",{className:"px-2 py-2 text-sm text-left",children:t("button",{onClick:()=>h(`/water-demand-payment-receipt/${s==null?void 0:s.tran_no}`),type:"button",className:"px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"View Receipt"})})]})})),((b=n==null?void 0:n.connection)==null?void 0:b.length)>0&&((v=n==null?void 0:n.connection)==null?void 0:v.map((s,l)=>{var m;return r("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[t("td",{className:"px-2 py-2 text-sm text-left",children:l+1}),r("td",{className:"px-2 py-2 text-sm text-left",children:[s==null?void 0:s.tran_no,t("span",{className:"bg-indigo-500 text-white text-xs px-2 rounded-sm ml-2",children:"Application"})]}),t("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.payment_mode}),t("td",{className:"px-2 py-2 text-sm text-left",children:(m=d(s==null?void 0:s.tran_date))==null?void 0:m.format("DD/MM/YYYY")}),t("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.tran_type}),t("td",{className:"px-2 py-2 text-sm text-left",children:"Application"}),t("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.amount}),t("td",{className:"px-2 py-2 text-sm text-left",children:t("button",{onClick:()=>h(`/water-payment-receipt/${s==null?void 0:s.tran_no}/application`),type:"button",className:"px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"View Receipt"})})]})}))]})]})}),t("div",{className:"w-full h-40"})]})})]})};export{O as default};
