import{c as f,j as e,I as j,u,p as y}from"./index-13YLhq3g.js";import{b as p,F as g,$ as N,R as x,B as b}from"./switch-CmH_R43D.js";import{b as w}from"./useCustomQuery-DT-eWy3B.js";import{P as Y}from"./index-Dz5KCr_l.js";import{h as c}from"./moment-BjLXg0w5.js";import{r as v}from"./router-DLL89Qev.js";import{C as o,I as h}from"./Image-F4SFneU6.js";import"./axios-DmypytPv.js";import"./headlessui-DXpdh5LM.js";import"./tslib.es6-CRos2fHm.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=f("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);function M({collectionReportData:s}){var t,d,r,l,a,i;return s.isLoading?e.jsx("div",{className:"flex justify-center items-center h-72",children:e.jsx(j,{})}):e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx(o,{className:"flex flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col justify-center items-center p-2",children:[e.jsx(h,{src:"/assets/image/two 1.jpg",alt:"two-wheeler",width:100,height:110}),e.jsx("h2",{className:"text-sm font-bold text-center text-blue-400",children:"Two Wheeler"}),e.jsx("h2",{className:"text-xs font-bold text-center text-gray-500",children:"Total collection"}),e.jsxs("h2",{className:"text-xl font-bold text-center flex justify-center items-center",children:[e.jsx(m,{size:16}),((d=(t=s==null?void 0:s.data)==null?void 0:t.data)==null?void 0:d.twoWheelerTotal)??0]})]})}),e.jsx(o,{className:"flex flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col justify-center items-center p-2",children:[e.jsx(h,{src:"/assets/image/car 1.jpg",alt:"two-wheeler",width:100,height:110}),e.jsx("h2",{className:"text-sm font-bold text-center text-blue-400",children:"Four Wheeler"}),e.jsx("h2",{className:"text-xs font-bold text-center text-gray-500",children:"Total collection"}),e.jsxs("h2",{className:"text-xl font-bold text-center flex justify-center items-center",children:[e.jsx(m,{size:16}),((l=(r=s==null?void 0:s.data)==null?void 0:r.data)==null?void 0:l.fourWheelerTotal)??0]})]})}),e.jsx("div",{className:"col-span-2",children:e.jsxs(o,{className:"w-full p-2",children:[e.jsx("h2",{className:"text-sm font-bold text-center text-gray-500",children:"Total Amount"}),e.jsxs("h2",{className:"text-xl font-bold text-center flex justify-center items-center",children:[e.jsx(m,{size:16}),((i=(a=s==null?void 0:s.data)==null?void 0:a.data)==null?void 0:i.total)??0]})]})})]})}function A(){var i;const{user:s}=u(),t=p({defaultValues:{collectionType:"daily",month:c().format("YYYY-MM"),from_date:c().format("YYYY-MM-DD"),to_date:c().format("YYYY-MM-DD")}}),d=()=>{a==null||a.refetch()},{handleSubmit:r,watch:l}=t,a=w({api:(i=y)==null?void 0:i.inChargeDayWise,key:"inChargeDayWise",config:{incharge_id:s==null?void 0:s.emp_id,from_date:l("from_date"),to_date:l("to_date")},value:[s==null?void 0:s.emp_id],options:{enabled:!!(s!=null&&s.emp_id)}});return v.useEffect(()=>{t.watch("collectionType")==="daily"&&(t.setValue("from_date",c().format("YYYY-MM-DD")),t.setValue("to_date",c().format("YYYY-MM-DD")))},[t.watch("collectionType")]),e.jsx(Y,{title:"Collection Report",children:e.jsx("div",{className:"py-4 mx-auto px-2",children:e.jsx("div",{children:e.jsxs("div",{className:"px-5",children:[e.jsxs(g,{methods:t,onSubmit:r(d),children:[e.jsxs("div",{className:"flex justify-between items-baseline gap-6",children:[e.jsxs("div",{className:"flex justify-center items-center gap-1",children:[e.jsx("input",{type:"radio",id:"daily",name:"collectionType",value:"daily",className:"w-4 h-4",onChange:n=>t.setValue("collectionType",n.target.value),checked:t.watch("collectionType")==="daily"}),e.jsx("h1",{className:"text-gray-800 text-sm font-semibold",children:"Daily Collection"})]}),e.jsxs("div",{className:"flex justify-center items-center gap-1",children:[e.jsx("input",{type:"radio",id:"monthly",name:"collectionType",value:"monthly",className:"w-4 h-4",onChange:n=>t.setValue("collectionType",n.target.value),checked:t.watch("collectionType")==="monthly"}),e.jsx("h1",{className:"text-gray-800 text-sm font-semibold",children:"Monthly Collection"})]})]}),e.jsx(N,{className:"w-full h-[0.1px] bg-gray-200 my-3"}),e.jsxs("div",{className:"grid grid-cols-1 gap-0 w-full mt-1",children:[e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx(x,{disabled:t.watch("collectionType")==="daily",className:"w-full h-10 border border-gray-300 rounded-lg",name:"from_date",placeholder:"DD/MM/YYYY",type:"date"})}),e.jsx("div",{children:e.jsx(x,{disabled:t.watch("collectionType")==="daily",className:"w-full h-10 border border-gray-300 rounded-lg",name:"to_date",placeholder:"DD/MM/YYYY",type:"date"})})]})}),e.jsx("div",{className:"flex justify-center w-full mt-4",children:e.jsx(b,{type:"submit",size:"sm",className:"w-full",isLoading:a==null?void 0:a.isFetching,children:"Submit"})})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(M,{collectionReportData:a})})]})})})})}export{A as default};
