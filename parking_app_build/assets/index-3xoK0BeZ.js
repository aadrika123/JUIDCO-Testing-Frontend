import{u as M,j as t,I as L,B,p as S}from"./index-13YLhq3g.js";import{P as H}from"./index-Dz5KCr_l.js";import{C as E,I}from"./Image-F4SFneU6.js";import{c as U}from"./useCustomQuery-DT-eWy3B.js";import{h as a}from"./moment-BjLXg0w5.js";import{S as P}from"./separator-CJDHCAA2.js";import{b as V}from"./router-DLL89Qev.js";import"./axios-DmypytPv.js";import"./headlessui-DXpdh5LM.js";function R(){var o,l,r,i,n,x,c,d,h,f,j,N;const{user:e}=M(),T=V(),m=new URLSearchParams(T.search).get("receipt_no"),s=U({api:`${S.inReceipt}/${m}`,key:"outReceipt",options:{enabled:!!m}}),A=((l=(o=s==null?void 0:s.data)==null?void 0:o.data)==null?void 0:l.parking_area)??"NA",Y=()=>{var p,b,y,g,_,w,v,k;return"[C]"+(e==null?void 0:e.ulb_name)+`
[C]Parking
*******************************
 
Receipt no: `+((b=(p=s==null?void 0:s.data)==null?void 0:p.data)==null?void 0:b.receipt_no)+`
Date: `+a((g=(y=s==null?void 0:s.data)==null?void 0:y.data)==null?void 0:g.date).format("DD-MM-YYYY")+`
In-Time:: `+a((w=(_=s==null?void 0:s.data)==null?void 0:_.data)==null?void 0:w.in_time,"HH:mm").format("hh:mm A")+`
Amount: `+((k=(v=s==null?void 0:s.data)==null?void 0:v.data)==null?void 0:k.amount)+`
Incharge ID: `+(e==null?void 0:e.emp_id)+`
Area : `+A+`

Thank You for using our service!
*******************************`},C=()=>{window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({Key:"PRINT_FOR_BT_PRINTER",keyData:{charPerLine:32,printTxt:Y()}}))};return s!=null&&s.isLoading?t.jsx("div",{className:"flex justify-center items-center h-[700px]",children:t.jsx(L,{})}):t.jsx(H,{title:"Receipt",children:t.jsx("div",{className:"p-4",children:t.jsx(E,{children:t.jsxs("div",{className:"flex flex-col justify-center items-center py-8 px-10",children:[t.jsx("div",{children:t.jsx(I,{src:(e==null?void 0:e.ulb_logo)??"/assets/image/RMC_LOGO.png",alt:"receipt"})}),t.jsx("div",{className:"flex flex-col md:flex-row",children:t.jsxs("div",{className:"flex flex-col justify-center items-center",children:[t.jsx("div",{className:"flex mt-2",children:t.jsx("h2",{className:"text-[#585858] font-bold text-lg text-center",children:e==null?void 0:e.ulb_name})}),t.jsxs("div",{className:"flex flex-row justify-center items-center",children:[t.jsx("h1",{className:"text-md font-bold break-words text-[#1436C3]",children:"Parking Management System"}),t.jsx(I,{src:"/assets/image/bus 1.png",alt:"Bus",className:"ml-2 max-w-full h-5 w-5"})]})]})}),t.jsx(P,{className:"mt-5 mb-5"}),t.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2",children:[t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Receipt no:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:(i=(r=s==null?void 0:s.data)==null?void 0:r.data)==null?void 0:i.receipt_no}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Inchage ID:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:e==null?void 0:e.emp_id}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600 ",children:"Date:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:a((x=(n=s==null?void 0:s.data)==null?void 0:n.data)==null?void 0:x.date).format("DD-MM-YYYY")}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"In Time:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:a((d=(c=s==null?void 0:s.data)==null?void 0:c.data)==null?void 0:d.in_time,"HH:mm").format("hh:mm A")}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Amount:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:(f=(h=s==null?void 0:s.data)==null?void 0:h.data)==null?void 0:f.amount}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Area:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600 text-wrap",children:(N=(j=s==null?void 0:s.data)==null?void 0:j.data)==null?void 0:N.parking_area})]}),t.jsx(P,{className:"mt-5 mb-5"}),t.jsx("div",{className:"flex justify-center w-full",children:t.jsx(B,{size:"sm",onClick:C,children:"Print Receipt"})})]})})})})}export{R as default};
