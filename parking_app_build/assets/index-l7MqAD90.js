import{u as S,j as s,I as V,B as E,p as W}from"./index-13YLhq3g.js";import{P as $}from"./index-Dz5KCr_l.js";import{C as z,I as H}from"./Image-F4SFneU6.js";import{c as F}from"./useCustomQuery-DT-eWy3B.js";import{h as a}from"./moment-BjLXg0w5.js";import{S as M}from"./separator-CJDHCAA2.js";import{b as G}from"./router-DLL89Qev.js";import"./axios-DmypytPv.js";import"./headlessui-DXpdh5LM.js";function te(){var l,o,n,d,x,i,c,h,f,j,g,N,b,y;const{user:t}=S(),L=G(),m=new URLSearchParams(L.search).get("receipt_no"),e=F({api:`${W.inReceipt}/${m}`,key:"outReceipt",options:{enabled:!!m}}),r=((o=(l=e==null?void 0:e.data)==null?void 0:l.data)==null?void 0:o.parking_area)??"NA",O=()=>{var u,p,_,v,w,T,A,I,P,k,Y,C;return"[C]"+(t==null?void 0:t.ulb_name)+`
[C]Parking
*******************************
 
Receipt no: `+((p=(u=e==null?void 0:e.data)==null?void 0:u.data)==null?void 0:p.receipt_no)+`
Date: `+a((v=(_=e==null?void 0:e.data)==null?void 0:_.data)==null?void 0:v.date).format("DD-MM-YYYY")+`
In-Time: `+a((T=(w=e==null?void 0:e.data)==null?void 0:w.data)==null?void 0:T.in_time,"HH:mm").format("hh:mm A")+`
Out-Time: `+a((I=(A=e==null?void 0:e.data)==null?void 0:A.data)==null?void 0:I.out_time,"HH:mm").format("hh:mm A")+`
Amount: `+((k=(P=e==null?void 0:e.data)==null?void 0:P.data)==null?void 0:k.amount)+`
Vehicle No: `+((C=(Y=e==null?void 0:e.data)==null?void 0:Y.data)==null?void 0:C.vehicle_no)+`
Incharge ID: `+(t==null?void 0:t.emp_id)+`
Area : `+r+`

Thank You for using our service!
*******************************`},B=()=>{window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({Key:"PRINT_FOR_BT_PRINTER",keyData:{charPerLine:32,printTxt:O()}}))};return e!=null&&e.isLoading?s.jsx("div",{className:"flex justify-center items-center h-[700px]",children:s.jsx(V,{})}):s.jsx($,{title:"Receipt",children:s.jsx("div",{className:"p-4",children:s.jsx(z,{children:s.jsxs("div",{className:"flex flex-col justify-center items-center py-8 px-10",children:[s.jsx("div",{children:s.jsx(H,{src:(t==null?void 0:t.ulb_logo)??"/assets/image/RMC_LOGO.png",alt:"receipt"})}),s.jsx("div",{className:"flex flex-col md:flex-row",children:s.jsxs("div",{className:"flex flex-col justify-center items-center",children:[s.jsx("div",{className:"flex mt-2 ",children:s.jsx("h2",{className:"text-[#585858] font-bold text-lg text-center",children:t==null?void 0:t.ulb_name})}),s.jsxs("div",{className:"flex flex-row justify-center items-center",children:[s.jsx("h1",{className:"text-md font-bold break-words text-[#1436C3]",children:"Parking Management System"}),s.jsx(H,{src:"/assets/image/bus 1.png",alt:"Bus",className:"ml-2 max-w-full h-5 w-5"})]})]})}),s.jsx(M,{className:"mt-5 mb-5"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Receipt no:"}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:(d=(n=e==null?void 0:e.data)==null?void 0:n.data)==null?void 0:d.receipt_no}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Incharge ID:"}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:t==null?void 0:t.emp_id}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600 ",children:"Date:"}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:a((i=(x=e==null?void 0:e.data)==null?void 0:x.data)==null?void 0:i.date).format("DD-MM-YYYY")}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"In Time:"}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:a((h=(c=e==null?void 0:e.data)==null?void 0:c.data)==null?void 0:h.in_time,"HH:mm").format("hh:mm A")}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Out Time:"}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:a((j=(f=e==null?void 0:e.data)==null?void 0:f.data)==null?void 0:j.out_time,"HH:mm").format("hh:mm A")}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Amount:"}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:(N=(g=e==null?void 0:e.data)==null?void 0:g.data)==null?void 0:N.amount}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Vehicle No:"}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:(y=(b=e==null?void 0:e.data)==null?void 0:b.data)==null?void 0:y.vehicle_no}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Area:"}),s.jsx("h1",{className:"text-sm font-semibold text-gray-600 text-wrap",children:r})]}),s.jsx(M,{className:"mt-5 mb-5"}),s.jsx("div",{className:"flex justify-center w-full",children:s.jsx(E,{size:"sm",onClick:B,children:"Print Receipt"})})]})})})})}export{te as default};
