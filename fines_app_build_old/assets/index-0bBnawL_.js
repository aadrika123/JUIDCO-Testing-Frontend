import{j as e,c as N,P as g,b as f}from"./index-xq9jTTfh.js";import{h as y,d as j}from"./router-WshRxXk2.js";import{r as n}from"./tailwind-Ucrx0-S6.js";import{u as v,F as S,T as u,S as F}from"./TextArea-1v4UYNvG.js";import{b as _}from"./useCustomQuery-9edUl8Ze.js";import{S as A}from"./index-r6jrOlpE.js";import{F as C}from"./index-ydtxq-TG.js";import"./reactQuery-2daanlHr.js";import"./reactQueryDevtools-6dm9iask.js";import"./axios-YpSsR79r.js";import"./reactLazyLoadImageComponent-2lnvQYCj.js";import"./reactIcons-UnuJhE_7.js";import"./headlessui-oHdMYZDI.js";function D({data:t}){const c=y();return e.jsx(e.Fragment,{children:t==null?void 0:t.map((a,r)=>e.jsx(n.Card,{className:"mt-4",children:e.jsxs(n.CardBody,{children:[e.jsxs("h1",{className:"text-sm font-semibold text-blue-gray-500 mt-2",children:["Sno : ",r+1]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Challan No"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Name"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Date:"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Amount:"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Type:"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Violation Section:"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Violation Place"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.challan_no)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.full_name)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.challan_date)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.total_amount)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.challan_type)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.violation_section)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.violation_place)||"NA"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Violation Name:"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.violation_name)||"NA"})]})]}),e.jsx("div",{className:"border-t border-gray-200 my-4"}),e.jsx("div",{className:"flex justify-between mt-4",children:e.jsx("button",{className:"text-xs w-full bg-blue-800 text-white py-1.5 rounded-md",onClick:()=>{c("/fines-app/challan-receipt/".concat(a.challan_id))},children:"View Challan"})})]})},r))})}function z(){var x,o,i,d,h,m,p;const[t,c]=j.useState(1),[a,r]=j.useState(10),l=v({initialValues:{fromDate:new Date().toISOString().split("T")[0],uptoDate:new Date().toISOString().split("T")[0],type:"mobile",challanType:"",perPage:a,page:t},onSubmit:async P=>{b()}}),s=_({api:N.api_challan_report,config:{fromDate:l.values.fromDate,uptoDate:l.values.uptoDate,challanType:l.values.challanType,type:l.values.type,page:t,perPage:a},value:[t,a],options:{enabled:!0}}),b=()=>{s.refetch()};return e.jsx(g,{title:"Challan Report",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"",children:e.jsx("h1",{className:"text-base font-semibold text-blue-gray-500",children:"Challan Report"})}),e.jsx(n.Card,{className:"mt-2",children:e.jsx(n.CardBody,{children:e.jsxs(S,{formik:l,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(u,{name:"fromDate",label:"From Date",type:"date"})}),e.jsx("div",{children:e.jsx(u,{name:"uptoDate",label:"Upto Date",type:"date"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs(F,{name:"challanType",formik:l,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"On Spot",children:"On Spot"}),e.jsx("option",{value:"Verification",children:"Verification"})]})})]}),e.jsx("div",{className:"border-t border-gray-200 mb-4"}),e.jsx("div",{className:"flex justify-end ",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 text-xs",children:"Search"})})]})})}),e.jsx("div",{className:"mt-4",children:s.isFetching?e.jsx("div",{className:"flex justify-center h-96",children:e.jsx(f,{})}):e.jsx(e.Fragment,{children:((i=(o=(x=s==null?void 0:s.data)==null?void 0:x.data)==null?void 0:o.data)==null?void 0:i.length)<0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between",children:e.jsx(A,{page:t,setPage:c,perPage:a,setPerPage:r,noOfPage:(h=(d=s==null?void 0:s.data)==null?void 0:d.data)==null?void 0:h.last_page})}),e.jsx(D,{data:((p=(m=s.data)==null?void 0:m.data)==null?void 0:p.data)||[]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col justify-center items-center h-[300px]",children:[e.jsx(C,{className:"text-2xl text-blue-gray-500"}),e.jsx("div",{className:"mt-2 w-52 text-center",children:e.jsx("p",{className:"text-blue-gray-500 text-xs font-semibold ",children:"No Data Found !"})})]})})})})]})})}export{z as default};
