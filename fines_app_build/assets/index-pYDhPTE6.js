import{j as e,c as f,P as y,b as v}from"./index-K9wnwIEh.js";import{h as S,d as b}from"./router-WshRxXk2.js";import{r as n}from"./tailwind-Ucrx0-S6.js";import{u as F,F as _,T as g,S as A}from"./TextArea-wmoREJF1.js";import{b as C}from"./useCustomQuery-5jXXRIIF.js";import{S as D}from"./index-lU8bpgwB.js";import{F as P}from"./index-ydtxq-TG.js";import"./reactQuery-2daanlHr.js";import"./reactQueryDevtools-6dm9iask.js";import"./axios-YpSsR79r.js";import"./reactLazyLoadImageComponent-2lnvQYCj.js";import"./reactIcons-UnuJhE_7.js";import"./headlessui-oHdMYZDI.js";function w({data:t}){const c=S();return e.jsx(e.Fragment,{children:t==null?void 0:t.map((a,r)=>e.jsx(n.Card,{className:"mt-4",children:e.jsxs(n.CardBody,{children:[e.jsxs("h1",{className:"text-sm font-semibold text-blue-gray-500 mt-2",children:["Sno : ",r+1]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Challan No"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Name"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Date:"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Amount:"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Type:"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Violation Section:"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Violation Place"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.challan_no)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.full_name)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.challan_date)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.total_amount)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.challan_type)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.violation_section)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.violation_place)||"NA"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Violation Name:"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.violation_name)||"NA"})]})]}),e.jsx("div",{className:"border-t border-gray-200 my-4"}),e.jsx("div",{className:"flex justify-between mt-4",children:e.jsx("button",{className:"text-xs w-full bg-blue-800 text-white py-1.5 rounded-md",onClick:()=>{c("/fines-app/challan-receipt/".concat(a.challan_id))},children:"View Challan"})})]})},r))})}function H(){var x,o,i,d,h,m,p,j,u;const[t,c]=b.useState(1),[a,r]=b.useState(10),l=F({initialValues:{fromDate:new Date().toISOString().split("T")[0],uptoDate:new Date().toISOString().split("T")[0],type:"mobile",challanType:"",perPage:a,page:t},onSubmit:async T=>{N()}}),s=C({api:f.api_challan_report,config:{fromDate:l.values.fromDate,uptoDate:l.values.uptoDate,challanType:l.values.challanType,type:l.values.type,page:t,perPage:a},value:[t,a],options:{enabled:!0}}),N=()=>{s.refetch()};return console.log((o=(x=s.data)==null?void 0:x.data)==null?void 0:o.data),e.jsx(y,{title:"Challan Report",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"",children:e.jsx("h1",{className:"text-base font-semibold text-blue-gray-500",children:"Challan Report"})}),e.jsx(n.Card,{className:"mt-2",children:e.jsx(n.CardBody,{children:e.jsxs(_,{formik:l,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(g,{name:"fromDate",label:"From Date",type:"date"})}),e.jsx("div",{children:e.jsx(g,{name:"uptoDate",label:"Upto Date",type:"date"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs(A,{name:"challanType",formik:l,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"On Spot",children:"On Spot"}),e.jsx("option",{value:"Verification",children:"Verification"})]})})]}),e.jsx("div",{className:"border-t border-gray-200 mb-4"}),e.jsx("div",{className:"flex justify-end ",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 text-xs",children:"Search"})})]})})}),e.jsx("div",{className:"mt-4",children:s.isFetching?e.jsx("div",{className:"flex justify-center h-96",children:e.jsx(v,{})}):e.jsx(e.Fragment,{children:((h=(d=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:d.data)==null?void 0:h.length)>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between",children:e.jsx(D,{page:t,setPage:c,perPage:a,setPerPage:r,noOfPage:(p=(m=s==null?void 0:s.data)==null?void 0:m.data)==null?void 0:p.last_page})}),e.jsx(w,{data:((u=(j=s.data)==null?void 0:j.data)==null?void 0:u.data)||[]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col justify-center items-center h-[300px]",children:[e.jsx(P,{className:"text-2xl text-blue-gray-500"}),e.jsx("div",{className:"mt-2 w-52 text-center",children:e.jsx("p",{className:"text-blue-gray-500 text-xs font-semibold ",children:"No Data Found !"})})]})})})})]})})}export{H as default};
