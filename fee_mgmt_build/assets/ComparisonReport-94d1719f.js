import{a as w,r as A,b as h,j as e,R as S,A as E}from"./index-dd1288ad.js";import{u as I,F as L,a as T}from"./formik.esm-5fbe598e.js";import{C as k}from"./index-0f60d4d6.js";import{a as _}from"./index.esm-a97a4a89.js";import{S as q}from"./LoadingButton-8b46375a.js";import"./TextField-b2648471.js";import{P as D}from"./Page-c37fa378.js";import{B as Y}from"./Breadcrumb-5eaf1e4d.js";import{u as y}from"./useQuery-53a02e0f.js";const R=()=>{var c,n,o,i,d,m,x,u;const{api_fy:p,api_comparison_report:j}=E;w();const[l,g]=A.useState(!1),{data:t,isLoading:B,error:P}=y({queryKey:["fy"],queryFn:async()=>(await h.post(`${p}`,{})).data.data}),a=I({initialValues:{fyId:""},onSubmit:async r=>{b()}}),f=r=>{console.log(r==null?void 0:r.data)},N=r=>{console.log(r)},{data:s,isLoading:z,error:K,refetch:b,isFetching:v}=y({queryKey:["feeReportComparisonData",a.values.fyId],queryFn:async()=>await h.post(`${j}`,{fyId:a.values.fyId}),onSuccess:f,onError:N,enabled:!!a.values.fyId});return console.log("resp",s==null?void 0:s.data),e.jsxs(D,{title:"Comparison Report",pageName:"Comparison Report",children:[e.jsx(Y,{list:[{title:"Home",path:"/home"},{title:"Comparison Report",path:"#"}]}),e.jsxs("div",{className:"px-5 py-1 flex justify-end cursor-pointer",children:[e.jsx(_,{size:30,color:"green",onClick:()=>g(!l)}),l&&e.jsx(k,{data:[["Sl No.","FY Year","Total Demand","Total Collection","Total Due"],[1,a.values.fyName,(c=s==null?void 0:s.data)==null?void 0:c.actualAmount,(n=s==null?void 0:s.data)==null?void 0:n.receiveAmount,(o=s==null?void 0:s.data)==null?void 0:o.diff]],target:"_blank"})]}),e.jsx("div",{className:"border p-6 mx-auto w-[97%]",children:e.jsx(L,{value:a,children:e.jsx(T,{autoComplete:"off",onSubmit:a.handleSubmit,children:e.jsx("div",{className:"flex mx-auto px-0 justify-center w-96",children:e.jsx("div",{className:"grid grid-cols-1",children:e.jsx("div",{children:e.jsx(q,{name:"fyId",selectedText:"fyName",label:"Financial Year",formik:a,isRequiredLabel:!0,size:"xs",style:{width:"200px"},children:(t==null?void 0:t.length)>0&&(t==null?void 0:t.map(r=>e.jsx("option",{value:r==null?void 0:r.id,children:r==null?void 0:r.financial_year})))})})})})})})}),e.jsx("div",{className:"w-[24rem] lg:w-full overflow-x-auto px-6 mx-auto py-3",children:v?e.jsx("div",{role:"status",className:"animate-pulse",children:Array(1).fill("").map((r,F)=>e.jsxs(S.Fragment,{children:[e.jsx("div",{className:"h-36 bg-gray-200 rounded-lg dark:bg-gray-700 w-full mb-4"}),e.jsx("span",{className:"sr-only",children:"Loading..."})]},F))}):e.jsx(e.Fragment,{children:((d=(i=s==null?void 0:s.data)==null?void 0:i.details)==null?void 0:d.length)>0?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"text-md ",children:e.jsxs("tr",{className:"text-white bg-[#0F766E]",children:[e.jsx("th",{scope:"col",className:" py-5  text-center ",children:"Sl No."}),e.jsx("th",{scope:"col",className:" py-5  text-center ",children:"FY"}),e.jsx("th",{scope:"col",className:" py-5  text-center ",children:"Total Demand Amount"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Total Received Amount"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Total Due Amount"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:" py-5  text-center border border-gray-400 ",children:1}),e.jsx("td",{className:" py-5  text-center border border-gray-400",children:a.values.fyName}),e.jsx("td",{className:" py-5  text-center border border-gray-400",children:(m=s==null?void 0:s.data)==null?void 0:m.actualAmount}),e.jsx("td",{className:" py-5  text-center border border-gray-400",children:(x=s==null?void 0:s.data)==null?void 0:x.receiveAmount}),e.jsx("td",{className:" py-5  text-center border border-gray-400",children:(u=s==null?void 0:s.data)==null?void 0:u.diff})]})})]}):e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("h1",{className:"text-xl text-gray-400",children:"No Data Found"})})})})]})};export{R as default};
