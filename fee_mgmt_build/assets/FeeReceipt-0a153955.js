import{R as w,r as p,j as s,u as y,b as k,A as C}from"./index-dd1288ad.js";import{B as D}from"./index.esm-a97a4a89.js";import{l as S}from"./index-9fc97ba5.js";import{P}from"./Page-c37fa378.js";import{B as g}from"./Breadcrumb-5eaf1e4d.js";const H=()=>{const{api_receipt_show:l}=C,c=JSON.parse(localStorage.getItem("receiptNo")),[t,x]=w.useState([]),o=p.useRef(),a=S.useReactToPrint({content:()=>o.current}),d=async()=>{try{const e=await k.post(l,{receiptNo:c});e.status==200&&(console.log(e.data),x(e.data.data))}catch(e){console.log(e)}};return p.useEffect(()=>{d()},[]),s.jsxs(P,{title:"Fee Receipt",pageName:"Fee Receipt",children:[s.jsx(g,{list:[{title:"Home",path:"/home"},{title:"Fee Collection",path:"/fee/fee-collection"},{title:"Fee Receipt",path:"#"}]}),s.jsx("div",{onClick:a,className:"flex justify-end text-3xl px-12 overflow-hidden hover:text-red-600  text-red-500 cursor-pointer",children:s.jsx(D,{})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 content-center",children:[s.jsx("div",{ref:o,children:s.jsx(N,{getFeeReceipt:t,copyName:"Student Copy"})}),s.jsx("div",{children:s.jsx(N,{getFeeReceipt:t,copyName:"School Copy"})})]})]})},N=({getFeeReceipt:l,copyName:c,componentRef:t,collapsed:x})=>{var o;return s.jsx("div",{ref:t,className:"flex flex-wrap ",children:(o=l==null?void 0:l.feeDetails)==null?void 0:o.map((a,d)=>{var h,i,m,j,f,b;const{collapsed:e,user:n}=y(),v=JSON.parse(localStorage.getItem("receiptNo"));return s.jsxs("div",{className:`border border-black mt-2 ml-[4vh] mb-2 rounded-md ')] 

             bg-opacity-80 w-[92%]
              `,children:[s.jsxs("div",{className:"text-center tracking-wider",children:[s.jsxs("div",{className:"flex justify-between font-semibold p-2",children:[s.jsx("h1",{children:v}),s.jsx("h1",{children:c})]}),s.jsx("h1",{className:"text-3xl mt-[2vh] font-bold",children:n==null?void 0:n.name}),s.jsx("h1",{className:"text-xl font-semibold",children:(n==null?void 0:n.address)||"Address"})]}),s.jsxs("div",{className:"tracking-wider text-xl mt-[2vh] ml-[2vh] font-semibold",children:[s.jsxs("label",{htmlFor:"",children:["Name",s.jsxs("span",{children:[": ",(h=l==null?void 0:l.stdDetails)==null?void 0:h.full_name]})]}),s.jsxs("div",{className:"flex flex-wrap mt-[2vh] gap-x-7",children:[s.jsxs("label",{htmlFor:"",children:["Class: ",s.jsx("span",{children:(i=l==null?void 0:l.stdDetails)==null?void 0:i.class_name})]}),s.jsxs("label",{htmlFor:"",children:["Section:"," ",s.jsx("span",{children:(m=l==null?void 0:l.stdDetails)==null?void 0:m.section_name})]}),s.jsxs("label",{htmlFor:"",children:["Roll no: ",s.jsx("span",{children:(j=l==null?void 0:l.stdDetails)==null?void 0:j.roll_no})]})]})]}),s.jsx("h1",{className:"font-bold text-center mt-[2vh] uppercase text-3xl ",children:a==null?void 0:a.monthName}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"flex w-[60%] gap-y-1 ml-[5vh] flex-col tracking-wider text-xl mt-[5vh] font-semibold",children:[(f=a==null?void 0:a.details)==null?void 0:f.map((r,u)=>s.jsx(s.Fragment,{children:s.jsx("label",{htmlFor:"",children:r==null?void 0:r.feeHeadName})})),s.jsx("label",{className:"flex",htmlFor:"",children:"Discount %"}),s.jsx("label",{className:"flex justify-end text-lg",htmlFor:"",children:"Total Payable"})]}),s.jsx("div",{className:"w-[20%] mt-[2vh] mr-[7vh]",children:s.jsxs("div",{className:"border-2 w-[10rem] h-auto  rounded-lg border-black",children:[s.jsx("h1",{className:"border-b-2  tracking-wider text-xl text-center font-semibold  border-black",children:"Amount"}),s.jsxs("div",{className:"h-[60%] tracking-wider text-lg flex text-center flex-col gap-y-1 border-b-2  border-black ",children:[(b=a==null?void 0:a.details)==null?void 0:b.map((r,u)=>s.jsx(s.Fragment,{children:s.jsx("h1",{children:r==null?void 0:r.receivedAmount})})),s.jsx("h1",{children:a==null?void 0:a.discount})]}),s.jsx("div",{className:"h-[40%] font-bold text-center tracking-wider text-xl flex flex-col gap-y-3   border-black ",children:a==null?void 0:a.netPay})]})})]}),s.jsxs("div",{className:"flex justify-between tracking-wider text-xl mt-[5vh] mb-[4vh] font-semibold",children:[s.jsxs("label",{className:"ml-[2vh]",htmlFor:"",children:["Date:"," ",s.jsx("span",{children:new Date().toLocaleDateString()})]}),s.jsx("label",{className:"mr-[3vh]",htmlFor:"",children:"Cashier"})]})]},d)})})};export{H as default};
