import{r as a,b as L,j as e,A as B}from"./index-dd1288ad.js";import{P as I}from"./Page-c37fa378.js";import{B as T}from"./Breadcrumb-5eaf1e4d.js";const q=()=>{const{api_tableView:F}=B,[E,i]=a.useState([]),[l,o]=a.useState(1),[c,k]=a.useState(10),[d,x]=a.useState(),[V,m]=a.useState(),M=E,S=t=>{k(parseInt(t))},A=t=>{o(t-1)},H=t=>{o(t+1)};a.useEffect(()=>{n()},[l]),a.useEffect(()=>{n()},[c]);const n=async()=>{var t,r,p,j,u,f,h,y,g,N,b,w,v,_,P,C;try{const s=await L.post(`${F}`,{perPage:c,page:l});s.status==200&&(console.log(s.data),((r=(t=s==null?void 0:s.data)==null?void 0:t.data)==null?void 0:r.total)===0?(toast.error("Data not Found"),i((j=(p=s==null?void 0:s.data)==null?void 0:p.data)==null?void 0:j.data),x((f=(u=s==null?void 0:s.data)==null?void 0:u.data)==null?void 0:f.last_page),m((y=(h=s==null?void 0:s.data)==null?void 0:h.data)==null?void 0:y.total)):(console.log("exam term data",(N=(g=s==null?void 0:s.data)==null?void 0:g.data)==null?void 0:N.data),i((w=(b=s==null?void 0:s.data)==null?void 0:b.data)==null?void 0:w.data),x((_=(v=s==null?void 0:s.data)==null?void 0:v.data)==null?void 0:_.last_page),m((C=(P=s==null?void 0:s.data)==null?void 0:P.data)==null?void 0:C.total)))}catch(s){console.log(s)}};return a.useEffect(()=>{n()},[]),e.jsx("div",{className:"bg-white",children:e.jsxs(I,{title:"Fee",pageName:"Class Fee Master List",children:[e.jsx(T,{list:[{title:"Home",path:"/csms/home"},{title:"Class fee master",path:"/fee/add"},{title:"Class fee master list",path:"#"}]}),e.jsxs("div",{className:"relative overflow-x-auto w-[95%] shadow-md mt-[2vh] ml-[2vw]  sm:rounded-lg",children:[e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"text-md ",children:e.jsxs("tr",{className:"text-white bg-[#0F766E]",children:[e.jsx("th",{scope:"col",className:" py-5  text-center ",children:"Sl No."}),e.jsx("th",{scope:"col",className:" py-5  text-center ",children:"Financial Year"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Month"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Class"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Fee Head Type"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Fee Head Name"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Amount"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Description"})]})}),M.map((t,r)=>e.jsx(e.Fragment,{children:e.jsx("tbody",{children:e.jsxs("tr",{className:"bg-white border-b  hover:bg-slate-100 ",children:[e.jsx("td",{scope:"row",className:"px-6 py-4 font-medium whitespace-nowrap  text-center",children:(l-1)*c+r+1}),e.jsx("td",{className:"px-6 py-4 text-center",children:t==null?void 0:t.financial_year}),e.jsx("td",{className:"px-6 py-4 text-center",children:t==null?void 0:t.month_name}),e.jsx("td",{className:"px-6 py-4 text-center",children:t==null?void 0:t.class_name}),e.jsx("td",{className:"px-6 py-4 text-center",children:t==null?void 0:t.fee_head_type}),e.jsx("td",{className:"px-6 py-4 text-center",children:t==null?void 0:t.fee_head_name}),e.jsx("td",{className:"px-6 py-4 text-center",children:t==null?void 0:t.fee_amount}),e.jsx("td",{className:"px-6 py-4 text-center",children:t==null?void 0:t.description})]})})}))]}),e.jsxs("div",{className:"flex p-4  w-full",children:[e.jsxs("div",{className:"flex items-start justify-start w-full ",children:[" ",e.jsx("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-[calc(1/2)] p-2.5 ",value:c,onChange:t=>S(t.target.value),children:[5,10,25,50].map(t=>e.jsxs("option",{value:t,children:["show ",t]},t))})]}),e.jsxs("div",{className:"flex items-center justify-center w-full",children:[" ",e.jsxs("span",{children:["Page ","",e.jsxs("strong",{children:[l," of ",d]}),""]})]}),e.jsxs("div",{className:"flex items-center justify-end w-full",children:[e.jsx("button",{className:(l===1?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>A(l),disabled:l===1,children:"⬅️"}),e.jsx("button",{className:(l===d?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>H(l),disabled:l===d,children:"➡️"})]})]})]})]})})};export{q as default};
