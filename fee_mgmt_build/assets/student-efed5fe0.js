import{r as t,j as s,b as i,A as L}from"./index-dd1288ad.js";import{P as V}from"./Page-c37fa378.js";import{B as M}from"./Breadcrumb-5eaf1e4d.js";import{u as G,F as H,a as K}from"./formik.esm-5fbe598e.js";import{S as O}from"./StudentAdd-c128c818.js";import{c as U,a as o}from"./index.esm-e655e2bf.js";import{g as S}from"./index-c9d77209.js";import{F as r,I as a,S as c,a as n}from"./Select-35bb0e77.js";import{M as d}from"./MenuItem-f9d456ce.js";import{T as g}from"./TextField-4875ffa0.js";import"./index-20c391bc.js";function re(){var f,y,b,v,N;const{api_category:w,api_class:F,api_financialYear:q,api_section:C,api_add_student:A}=L,[m,D]=t.useState(),[u,W]=t.useState(),[p,B]=t.useState(),[h,P]=t.useState(),[x,_]=t.useState(!1),j=()=>_(!x),z=U({fullName:o().required("Required"),admissionNo:o().required("Required"),admissionDate:o().required("Required"),specialAbility:o().required("Required"),quotaId:o().required("Required")}),l=G({initialValues:{fullName:"",admissionNo:"",fyId:"1",admissionDate:"",classId:"1",sectionId:"1",status:"1",gender:"1",specialAbility:"0",quotaId:"0",categoryId:"4"},onSubmit:async e=>{console.log("at submit",e),$(e),l.resetForm()},validationSchema:z}),$=async e=>{try{(await i.post(`${A}`,e)).status==200&&(navigate("/csms/student/view"),alert("Student Added Successfully"))}catch(I){console.log(I)}},E=async()=>{try{const e=await i.post(`${F}`,{});e.status==200&&(console.log(e.data),W(e.data.data))}catch(e){console.log(e)}},R=async()=>{try{const e=await i.post(`${q}`,{});e.status==200&&(console.log(e.data),D(e.data.data))}catch(e){console.log(e)}},T=async()=>{try{const e=await i.post(`${C}`,{});e.status==200&&(console.log(e.data),B(e.data.data))}catch(e){console.log(e)}},Y=async()=>{try{const e=await i.post(`${w}`,{});e.status==200&&(console.log(e.data),P(e.data.data))}catch(e){console.log(e)}};return t.useEffect(()=>{E(),R(),T(),Y()},[]),s.jsx(s.Fragment,{children:s.jsxs(V,{title:"Student",pageName:"Student Entry Form",children:[s.jsx(M,{list:[{title:"Home",path:"/csms/home"},{title:"Student Entry",path:"/csms/student"}]}),s.jsx("div",{className:"flex items-end justify-end w-full pr-4 pb-2 -mt-5",children:s.jsxs("a",{title:"Add Student",children:[" ",s.jsx("button",{type:"submit",className:"text-black  bg-[#fde047] font-bold rounded-[5px]  py-2 flex items-center px-6 justify-center ",onClick:()=>{j()},children:"+ BULK ADD"}),x&&s.jsx(O,{isOpen:x,toggle:j,Link:"/csms/student/view"})]})}),s.jsxs("div",{className:"  shadow-yellow-400 shadow-lg  h-auto overflow-auto flex justify-center border bg-white border-gray-400 ml-5 mr-5 rounded-lg ",children:[s.jsx("div",{className:"w-1/2 hidden h-[71vh] lg:block",children:s.jsx("img",{className:"w-full h-full",src:"https://jooinn.com/images/school-students-studying-4.jpg",alt:"child"})}),s.jsxs("div",{className:"lg:w-1/2 w-full h-[71vh]",children:[s.jsx("div",{className:"w-full bg-yellow-500 h-[2vh]"}),s.jsx(H,{value:l,children:s.jsxs(K,{autoComplete:"off",onSubmit:l.handleSubmit,children:[s.jsxs("div",{className:"px-10 mt-8 grid grid-cols-12 gap-4 ",children:[s.jsx("div",{className:"mt-4 col-span-12 lg:col-span-6",children:s.jsxs(r,{fullWidth:!0,error:l.touched.fyId&&!!l.errors.fyId,children:[s.jsx(a,{id:"demo-simple-select-label",sx:{m:-1},children:"Select Financial Year *"}),s.jsx(c,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Select Financial Year *",...l.getFieldProps("fyId"),fullWidth:!0,size:"small",children:m&&(m==null?void 0:m.map(e=>s.jsx(d,{value:e==null?void 0:e.id,children:e==null?void 0:e.financial_year})))}),s.jsx(n,{children:l.touched.fyId&&l.errors.fyId})]})}),s.jsx("div",{className:"mt-4 col-span-12 lg:col-span-6",children:s.jsx(g,{type:"date",...l.getFieldProps("admissionDate"),fullWidth:!0,size:"small",error:l.touched.admissionDate&&!!l.errors.admissionDate,helperText:l.touched.admissionDate&&l.errors.admissionDate,onKeyDown:e=>["e","E","+","-"," "].includes(e.key)&&e.preventDefault()})}),s.jsx("div",{className:"mt-4 col-span-12 lg:col-span-6",children:s.jsx(g,{type:"text",...l.getFieldProps("fullName"),label:"Full Name",fullWidth:!0,size:"small",error:l.touched.fullName&&!!l.errors.fullName,helperText:l.touched.fullName&&l.errors.fullName})}),s.jsx("div",{className:"mt-4 col-span-12 lg:col-span-6",children:s.jsx(g,{type:"text",...l.getFieldProps("admissionNo"),label:"Admission No",fullWidth:!0,size:"small",error:l.touched.admissionNo&&!!l.errors.admissionNo,helperText:l.touched.admissionNo&&l.errors.admissionNo})}),s.jsx("div",{className:"mt-4 col-span-12 lg:col-span-6",children:s.jsxs(r,{fullWidth:!0,error:l.touched.classId&&!!l.errors.classId,children:[s.jsx(a,{id:"demo-simple-select-label",sx:{m:-1},children:"Select Class"}),s.jsx(c,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Select Class",...l.getFieldProps("classId"),fullWidth:!0,size:"small",children:u&&(u==null?void 0:u.map(e=>s.jsx(d,{value:e==null?void 0:e.id,children:e==null?void 0:e.class_name})))}),s.jsx(n,{children:l.touched.classId&&l.errors.classId})]})}),s.jsx("div",{className:"mt-4 col-span-12 lg:col-span-6",children:s.jsxs(r,{fullWidth:!0,error:l.touched.sectionId&&!!l.errors.sectionId,children:[s.jsx(a,{id:"demo-simple-select-label",sx:{m:-1},children:"Select Section"}),s.jsx(c,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Select Section",...l.getFieldProps("sectionId"),fullWidth:!0,size:"small",children:p&&(p==null?void 0:p.map(e=>s.jsx(d,{value:e==null?void 0:e.id,children:e==null?void 0:e.section})))}),s.jsx(n,{children:l.touched.sectionId&&l.errors.sectionId})]})}),s.jsx("div",{className:"mt-4 col-span-12 lg:col-span-6",children:s.jsxs(r,{fullWidth:!0,error:l.touched.gender&&!!l.errors.gender,children:[s.jsx(a,{id:"demo-simple-select-label",sx:{m:-1},children:"Select Gender"}),s.jsx(c,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Select Gender",...l.getFieldProps("gender"),fullWidth:!0,size:"small",children:S&&((f=S)==null?void 0:f.map(e=>s.jsx(d,{value:e==null?void 0:e.value,children:e==null?void 0:e.name})))}),s.jsx(n,{children:l.touched.status&&l.errors.status})]})}),s.jsx("div",{className:"mt-4 col-span-12 lg:col-span-6",children:s.jsxs(r,{fullWidth:!0,error:l.touched.categoryId&&!!l.errors.categoryId,children:[s.jsx(a,{id:"demo-simple-select-label",sx:{m:-1},children:"Select Category"}),s.jsx(c,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Select Category",...l.getFieldProps("categoryId"),fullWidth:!0,size:"small",children:h&&(h==null?void 0:h.map(e=>s.jsx(d,{value:e==null?void 0:e.id,children:e==null?void 0:e.category_name})))}),s.jsx(n,{children:l.touched.categoryId&&l.errors.categoryId})]})}),s.jsxs("div",{className:"mt-4 col-span-12 lg:col-span-6",children:[s.jsx("h1",{className:"text ",children:"Special Ability"}),s.jsxs("div",{className:"flex mr-2",children:[s.jsxs("div",{className:"flex items-center justify-center mt-2 text-[22px]",children:[s.jsx("input",{type:"radio",name:"specialAbility",value:"1",onChange:e=>l==null?void 0:l.setFieldValue("specialAbility",e.target.value),checked:((y=l==null?void 0:l.values)==null?void 0:y.specialAbility)==="1"}),s.jsx("span",{className:"ml-1 text-sm",children:"Yes"})]}),"    ",s.jsxs("div",{className:"flex items-center justify-center mt-2 text-[22px]",children:[s.jsx("input",{type:"radio",name:"specialAbility",value:"0",onChange:e=>l==null?void 0:l.setFieldValue("specialAbility",e.target.value),checked:((b=l==null?void 0:l.values)==null?void 0:b.specialAbility)==="0"}),s.jsx("span",{className:"ml-1 text-sm",children:"No"})]})]})]}),s.jsxs("div",{className:"mt-4 col-span-12 lg:col-span-6",children:[s.jsx("h1",{className:"text ",children:"Is your parent staff of this school"}),s.jsxs("div",{className:"flex mr-2",children:[s.jsxs("div",{className:"flex items-center justify-center mt-2 text-[22px]",children:[s.jsx("input",{type:"radio",name:"quotaId",value:"1",onChange:e=>l==null?void 0:l.setFieldValue("quotaId",e.target.value),checked:((v=l==null?void 0:l.values)==null?void 0:v.quotaId)==="1"}),s.jsx("span",{className:"ml-1 text-sm",children:"Yes"})]}),"    ",s.jsxs("div",{className:"flex items-center justify-center mt-2 text-[22px]",children:[s.jsx("input",{type:"radio",name:"quotaId",value:"0",onChange:e=>l==null?void 0:l.setFieldValue("quotaId",e.target.value),checked:((N=l==null?void 0:l.values)==null?void 0:N.quotaId)==="0"}),s.jsx("span",{className:"ml-1 text-sm",children:"No"})]})]})]})]}),s.jsx("div",{className:"mt-7 flex justify-center items-center  max-[1016px]:py-2",children:s.jsx("button",{type:"submit",className:"px-11 py-3 bg-yellow-500 text-white font-medium text-sm leading-tight  rounded shadow-md hover:bg-yellow-700 hover:shadow-lg focus:bg-yellow-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-yellow-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"})})]})})]})]})]})})}export{re as default};
