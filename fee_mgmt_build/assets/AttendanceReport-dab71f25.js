import{r as l,b as h,j as e,A as J}from"./index-dd1288ad.js";import{u as O,F as Q,a as Z}from"./formik.esm-5fbe598e.js";import{c as ee,a as m}from"./index.esm-e655e2bf.js";import{F as j,I as N,S as y,a as u}from"./Select-35bb0e77.js";import{M as r}from"./MenuItem-f9d456ce.js";import{T as te}from"./TextField-4875ffa0.js";const pe=()=>{const{api_financialYear:W,api_class:se,api_section:q,api_retrievestudent:$}=J,[n,B]=l.useState(),[d,ce]=l.useState(),[x,L]=l.useState(),[le,b]=l.useState([]),[a,g]=l.useState(1),[i,T]=l.useState(10),[o,f]=l.useState(),[ae,w]=l.useState(),M=ee({fyId:m().required("Required"),classId:m().required("Required"),paymentStatus:m().required("Required")}),c=O({initialValues:{fyId:"",classId:"",sectionId:"",date:""},onSubmit:async t=>{console.log("at submit",t),c.resetForm()},validationSchema:M}),z=async()=>{try{const t=await h.post(`${W}`,{});t.status==200&&(console.log(t.data),B(t.data.data))}catch(t){console.log(t)}},H=async()=>{try{const t=await h.post(`${q}`,{});t.status==200&&(console.log(t.data),L(t.data.data))}catch(t){console.log(t)}};l.useEffect(()=>{feeClass(),z(),H()},[]);const K=t=>{T(parseInt(t))},U=t=>{g(t-1)},V=t=>{g(t+1)};l.useEffect(()=>{p()},[a]),l.useEffect(()=>{p()},[i]);const p=async()=>{var t,v,I,S,P,F,A,E,R,C,Y,k,G,X,_,D;try{const s=await h.post(`${$}`,{perPage:i,page:a});s.status==200&&(console.log(s.data),((v=(t=s==null?void 0:s.data)==null?void 0:t.data)==null?void 0:v.total)===0?(toast.error("Data not Found"),b((S=(I=s==null?void 0:s.data)==null?void 0:I.data)==null?void 0:S.data),f((F=(P=s==null?void 0:s.data)==null?void 0:P.data)==null?void 0:F.last_page),w((E=(A=s==null?void 0:s.data)==null?void 0:A.data)==null?void 0:E.total)):(console.log("exam term data",(C=(R=s==null?void 0:s.data)==null?void 0:R.data)==null?void 0:C.data),b((k=(Y=s==null?void 0:s.data)==null?void 0:Y.data)==null?void 0:k.data),f((X=(G=s==null?void 0:s.data)==null?void 0:G.data)==null?void 0:X.last_page),w((D=(_=s==null?void 0:s.data)==null?void 0:_.data)==null?void 0:D.total)))}catch(s){console.log(s)}};return l.useEffect(()=>{p()},[]),e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-center text-4xl font-semibold mt-[2vh]",children:"Attendance Report"}),e.jsx("div",{children:e.jsx(Q,{value:c,children:e.jsx(Z,{autoComplete:"off",onSubmit:c.handleSubmit,children:e.jsxs("div",{className:"pl-5 pr-20 mt-8 grid grid-cols-12 gap-4 ",children:[e.jsx("div",{className:"mt-4 col-span-12 lg:col-span-3",children:e.jsxs(j,{fullWidth:!0,error:c.touched.fyId&&!!c.errors.fyId,children:[e.jsx(N,{id:"demo-simple-select-label",sx:{m:-1},children:"Select Financial Year"}),e.jsxs(y,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Select Financial Year",...c.getFieldProps("fyId"),fullWidth:!0,size:"small",children:[e.jsx(r,{value:"",children:"Select"}),n&&(n==null?void 0:n.map(t=>e.jsx(r,{value:t==null?void 0:t.id,children:t==null?void 0:t.financial_year})))]}),e.jsx(u,{children:c.touched.fyId&&c.errors.fyId})]})}),e.jsx("div",{className:"mt-4 col-span-12 lg:col-span-3",children:e.jsxs(j,{fullWidth:!0,error:c.touched.classId&&!!c.errors.classId,children:[e.jsx(N,{id:"demo-simple-select-label",sx:{m:-1},children:"Select Class"}),e.jsxs(y,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Select Class",...c.getFieldProps("classId"),fullWidth:!0,size:"small",children:[e.jsx(r,{value:"",children:"Select"}),d&&(d==null?void 0:d.map(t=>e.jsx(r,{value:t==null?void 0:t.id,children:t==null?void 0:t.class_name})))]}),e.jsx(u,{children:c.touched.classId&&c.errors.classId})]})}),e.jsx("div",{className:"mt-4 col-span-12 lg:col-span-3",children:e.jsxs(j,{fullWidth:!0,error:c.touched.sectionId&&!!c.errors.sectionId,children:[e.jsx(N,{id:"demo-simple-select-label",sx:{m:-1},children:"Select Section"}),e.jsxs(y,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Select Section",...c.getFieldProps("sectionId"),fullWidth:!0,size:"small",children:[e.jsx(r,{value:"",children:"Select"}),x&&(x==null?void 0:x.map(t=>e.jsx(r,{value:t==null?void 0:t.id,children:t==null?void 0:t.section})))]}),e.jsx(u,{children:c.touched.sectionId&&c.errors.sectionId})]})}),e.jsx("div",{className:"mt-4 col-span-12 lg:col-span-2",children:e.jsx(te,{type:"date",...c.getFieldProps("date"),fullWidth:!0,size:"small",error:c.touched.date&&!!c.errors.date,helperText:c.touched.date&&c.errors.date,onKeyDown:t=>["e","E","+","-"," "].includes(t.key)&&t.preventDefault()})}),e.jsxs("div",{className:"mt-4 col-span-12 lg:col-span-1",children:[" ",e.jsx("button",{type:"submit",className:"px-11 py-3 bg-yellow-500 text-white font-medium text-sm leading-tight  rounded shadow-md hover:bg-yellow-700 hover:shadow-lg focus:bg-yellow-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-yellow-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"})]})]})})})}),e.jsxs("div",{className:"relative overflow-x-auto w-[95%] shadow-md mt-[2vh] ml-[2vw]  sm:rounded-lg",children:[e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"text-md ",children:e.jsxs("tr",{className:"text-white bg-[#0F766E]",children:[e.jsx("th",{scope:"col",className:" py-5  text-center ",children:"Sl No."}),e.jsx("th",{scope:"col",className:" py-5  text-center ",children:"Admission No"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Full Name"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Financial Year"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Class"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Section"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Payment Status"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Present"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Absent"}),e.jsx("th",{scope:"col",className:" py-5  text-center",children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"bg-white border-b  hover:bg-slate-100 ",children:[e.jsx("td",{scope:"row",className:"px-6 py-4 font-medium whitespace-nowrap  text-center",children:"1"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"REG/121/89"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"Rohit Raj"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"2023-24"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"XII"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"A"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Paid"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"No"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Yes"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"High Fever"})]}),e.jsxs("tr",{className:"bg-white border-b  hover:bg-slate-100 ",children:[e.jsx("td",{scope:"row",className:"px-6 py-4 font-medium whitespace-nowrap  text-center",children:"2"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"REG/121/41"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"Prashanth"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"2023-24"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"XII"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"A"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Paid"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Yes"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"No"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"N/A"})]}),e.jsxs("tr",{className:"bg-white border-b  hover:bg-slate-100 ",children:[e.jsx("td",{scope:"row",className:"px-6 py-4 font-medium whitespace-nowrap  text-center",children:"3"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"REG/121/42"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"Dipu"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"2023-24"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"XII"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"A"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Paid"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Yes"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"No"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"N/A"})]}),e.jsxs("tr",{className:"bg-white border-b  hover:bg-slate-100 ",children:[e.jsx("td",{scope:"row",className:"px-6 py-4 font-medium whitespace-nowrap  text-center",children:"4"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"REG/121/43"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"Imran"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"2023-24"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"XII"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"A"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Paid"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Yes"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"No"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"N/A"})]}),e.jsxs("tr",{className:"bg-white border-b  hover:bg-slate-100 ",children:[e.jsx("td",{scope:"row",className:"px-6 py-4 font-medium whitespace-nowrap  text-center",children:"5"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"REG/121/44"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"Umesh"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"2023-24"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"XII"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"A"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Paid"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Yes"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"No"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"N/A"})]}),e.jsxs("tr",{className:"bg-white border-b  hover:bg-slate-100 ",children:[e.jsx("td",{scope:"row",className:"px-6 py-4 font-medium whitespace-nowrap  text-center",children:"6"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"REG/121/45"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"Lakshmi"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"2023-24"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"XII"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"A"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Paid"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Yes"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"No"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"N/A"})]}),e.jsxs("tr",{className:"bg-white border-b  hover:bg-slate-100 ",children:[e.jsx("td",{scope:"row",className:"px-6 py-4 font-medium whitespace-nowrap  text-center",children:"7"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"REG/121/45"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"Shikha"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"2023-24"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"XII"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"A"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Paid"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Yes"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"No"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"N/A"})]}),e.jsxs("tr",{className:"bg-white border-b  hover:bg-slate-100 ",children:[e.jsx("td",{scope:"row",className:"px-6 py-4 font-medium whitespace-nowrap  text-center",children:"8"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"REG/121/45"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"Chandan"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"2023-24"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"XII"}),e.jsx("td",{className:"px-6 py-4 text-center",children:"A"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Paid"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"No"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Yes"}),e.jsx("td",{className:"px-6 py-4 text-center ",children:"Cough"})]})]})]}),e.jsxs("div",{className:"flex p-4  w-full",children:[e.jsxs("div",{className:"flex items-start justify-start w-full ",children:[" ",e.jsx("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-[calc(1/2)] p-2.5 ",value:i,onChange:t=>K(t.target.value),children:[5,10,25,50].map(t=>e.jsxs("option",{value:t,children:["show ",t]},t))})]}),e.jsxs("div",{className:"flex items-center justify-center w-full",children:[" ",e.jsxs("span",{children:["Page ","",e.jsxs("strong",{children:[a," of ",o]}),""]})]}),e.jsxs("div",{className:"flex items-center justify-end w-full",children:[e.jsx("button",{className:(a===1?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>U(a),disabled:a===1,children:"⬅️"}),e.jsx("button",{className:(a===o?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>V(a),disabled:a===o,children:"➡️"})]})]})]})]})};export{pe as default};
