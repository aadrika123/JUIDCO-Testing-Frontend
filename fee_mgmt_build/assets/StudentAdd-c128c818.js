import{a as h,r as l,j as e,b as f,A as b}from"./index-dd1288ad.js";import{C as j}from"./index-20c391bc.js";import{u as v}from"./formik.esm-5fbe598e.js";import{c as S,a as C}from"./index.esm-e655e2bf.js";function V(n){var o;const{api_csvadd:i}=b,c=h(),{isOpen:d,toggle:r}=n;l.useState(!1),l.useState(null),l.useState(!1);const x={uploadCSV:""},u=S({uploadCSV:C().required("Upload CSV File")}),s=v({initialValues:x,onSubmit:t=>{const a=new FormData;a.append("uploadCSV",t.uploadCSV),m(a)},validationSchema:u}),m=async t=>{try{(await f.post(`${i}`,t)).status==200&&c("/csms/student/view")}catch(a){console.log(a)}},p=t=>{};return e.jsx(e.Fragment,{children:e.jsxs(j,{isOpen:d,children:[e.jsx("div",{toggle:r,className:" flex justify-between w-full px-64 py-[20px] text-[2.5vh] font-bold bg-[#115e59] text-white ",children:e.jsx("h1",{className:"w-full flex items-center justify-center",children:"Add Student CSV"})}),e.jsx("div",{className:"flex items-center  justify-center overflow-hidden bg-white  h-auto max-[606px]:h-[35vh]",children:e.jsx("div",{className:"block w-full m-[20px] max[784px]:m-[10]",children:e.jsxs("form",{className:"flex flex-col justify-center",onSubmit:s.handleSubmit,onChange:p,children:[e.jsx("div",{className:"w-full h-auto bg-white ",children:e.jsx("div",{className:"m-3 block",children:e.jsx("div",{className:"flex justify-center max-[425px]:block",children:e.jsxs("div",{className:" items-center justify-center block",children:[e.jsxs("label",{htmlFor:"uploadCSV",className:" h-[5vh] w-full flex justify-center border border-[#115e59] items-center px-4    rounded-l font-semibold cursor-pointer text-sm text-black tracking-widest  active:bg-white focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition ",children:[" ","Choose Student CSV File"]}),e.jsx("input",{type:"file",name:"uploadCSV",accept:".csv",id:"uploadCSV",className:"sr-only  ",value:s.values.uploadCSV[0],onChange:t=>{s.setFieldValue("uploadCSV",t.target.files[0])}}),e.jsxs("span",{className:"w-full flex items-center justify-center",children:[" ",s.values.uploadCSV?(o=s.values.uploadCSV)==null?void 0:o.name:"No file selected"]}),e.jsx("br",{}),e.jsx("span",{className:"text-red-600 text-xs ",children:s.touched.uploadCSV&&s.errors.uploadCSV?s.errors.uploadCSV:null})]})})})}),e.jsxs("div",{className:" w-full h-[8vh] flex items-center justify-center max-[768px]:block mb-5 max-[768px]:ml-5",children:[e.jsx("button",{type:"submit",className:"text-[2vh] bg-[#115e59] text-white border border-[#115e59]  py-[7px] px-[20px] rounded-[5px] m-[20px] hover:text-[#115e59] hover:border-[#115e59] hover:bg-white",children:"Upload"}),e.jsx("button",{onClick:()=>{r()},type:"cancel",className:"text-[2vh] border-red-600 border text-white bg-red-600 px-[20px] py-[7px]  rounded-[5px] hover:border-red-600 hover:bg-white hover:text-red-600",children:"Cancel"})]}),e.jsx("div",{className:"mb-5 w-full flex justify-center items-center max-[350px]:items-end max-[350px]:mt-12",children:e.jsxs("h1",{className:"text-gray-500",children:["Note : (",e.jsx("span",{className:"text-red-600",children:"*"}),") marks is mandatory."]})})]})})})]})})}export{V as S};
